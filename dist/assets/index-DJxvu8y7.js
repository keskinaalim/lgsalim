var E9=Object.defineProperty;var T9=(t,e,n)=>e in t?E9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rw=(t,e,n)=>T9(t,typeof e!="symbol"?e+"":e,n);function x9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Oa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iw={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO;function A9(){if(gO)return sh;gO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return sh.Fragment=e,sh.jsx=n,sh.jsxs=n,sh}var yO;function S9(){return yO||(yO=1,iw.exports=A9()),iw.exports}var A=S9(),aw={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO;function I9(){if(vO)return Ge;vO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function x($,oe,se){this.props=$,this.context=oe,this.refs=w,this.updater=se||b}x.prototype.isReactComponent={},x.prototype.setState=function($,oe){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,oe,"setState")},x.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function P(){}P.prototype=x.prototype;function C($,oe,se){this.props=$,this.context=oe,this.refs=w,this.updater=se||b}var O=C.prototype=new P;O.constructor=C,T(O,x.prototype),O.isPureReactComponent=!0;var B=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function N($,oe,se,me,Re,Ne){return se=Ne.ref,{$$typeof:t,type:$,key:oe,ref:se!==void 0?se:null,props:Ne}}function D($,oe){return N($.type,oe,void 0,void 0,void 0,$.props)}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function z($){var oe={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(se){return oe[se]})}var U=/\/+/g;function F($,oe){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):oe.toString(36)}function V(){}function be($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(V,V):($.status="pending",$.then(function(oe){$.status==="pending"&&($.status="fulfilled",$.value=oe)},function(oe){$.status==="pending"&&($.status="rejected",$.reason=oe)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Se($,oe,se,me,Re){var Ne=typeof $;(Ne==="undefined"||Ne==="boolean")&&($=null);var je=!1;if($===null)je=!0;else switch(Ne){case"bigint":case"string":case"number":je=!0;break;case"object":switch($.$$typeof){case t:case e:je=!0;break;case m:return je=$._init,Se(je($._payload),oe,se,me,Re)}}if(je)return Re=Re($),je=me===""?"."+F($,0):me,B(Re)?(se="",je!=null&&(se=je.replace(U,"$&/")+"/"),Se(Re,oe,se,"",function(we){return we})):Re!=null&&(M(Re)&&(Re=D(Re,se+(Re.key==null||$&&$.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+je)),oe.push(Re)),1;je=0;var Kt=me===""?".":me+":";if(B($))for(var ct=0;ct<$.length;ct++)me=$[ct],Ne=Kt+F(me,ct),je+=Se(me,oe,se,Ne,Re);else if(ct=v($),typeof ct=="function")for($=ct.call($),ct=0;!(me=$.next()).done;)me=me.value,Ne=Kt+F(me,ct++),je+=Se(me,oe,se,Ne,Re);else if(Ne==="object"){if(typeof $.then=="function")return Se(be($),oe,se,me,Re);throw oe=String($),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return je}function Z($,oe,se){if($==null)return $;var me=[],Re=0;return Se($,me,"","",function(Ne){return oe.call(se,Ne,Re++)}),me}function ie($){if($._status===-1){var oe=$._result;oe=oe(),oe.then(function(se){($._status===0||$._status===-1)&&($._status=1,$._result=se)},function(se){($._status===0||$._status===-1)&&($._status=2,$._result=se)}),$._status===-1&&($._status=0,$._result=oe)}if($._status===1)return $._result.default;throw $._result}var pe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function xe(){}return Ge.Children={map:Z,forEach:function($,oe,se){Z($,function(){oe.apply(this,arguments)},se)},count:function($){var oe=0;return Z($,function(){oe++}),oe},toArray:function($){return Z($,function(oe){return oe})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ge.Component=x,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=C,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ge.__COMPILER_RUNTIME={__proto__:null,c:function($){return L.H.useMemoCache($)}},Ge.cache=function($){return function(){return $.apply(null,arguments)}},Ge.cloneElement=function($,oe,se){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var me=T({},$.props),Re=$.key,Ne=void 0;if(oe!=null)for(je in oe.ref!==void 0&&(Ne=void 0),oe.key!==void 0&&(Re=""+oe.key),oe)!q.call(oe,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&oe.ref===void 0||(me[je]=oe[je]);var je=arguments.length-2;if(je===1)me.children=se;else if(1<je){for(var Kt=Array(je),ct=0;ct<je;ct++)Kt[ct]=arguments[ct+2];me.children=Kt}return N($.type,Re,void 0,void 0,Ne,me)},Ge.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Ge.createElement=function($,oe,se){var me,Re={},Ne=null;if(oe!=null)for(me in oe.key!==void 0&&(Ne=""+oe.key),oe)q.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Re[me]=oe[me]);var je=arguments.length-2;if(je===1)Re.children=se;else if(1<je){for(var Kt=Array(je),ct=0;ct<je;ct++)Kt[ct]=arguments[ct+2];Re.children=Kt}if($&&$.defaultProps)for(me in je=$.defaultProps,je)Re[me]===void 0&&(Re[me]=je[me]);return N($,Ne,void 0,void 0,null,Re)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function($){return{$$typeof:u,render:$}},Ge.isValidElement=M,Ge.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ie}},Ge.memo=function($,oe){return{$$typeof:d,type:$,compare:oe===void 0?null:oe}},Ge.startTransition=function($){var oe=L.T,se={};L.T=se;try{var me=$(),Re=L.S;Re!==null&&Re(se,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(xe,pe)}catch(Ne){pe(Ne)}finally{L.T=oe}},Ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ge.use=function($){return L.H.use($)},Ge.useActionState=function($,oe,se){return L.H.useActionState($,oe,se)},Ge.useCallback=function($,oe){return L.H.useCallback($,oe)},Ge.useContext=function($){return L.H.useContext($)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function($,oe){return L.H.useDeferredValue($,oe)},Ge.useEffect=function($,oe,se){var me=L.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect($,oe)},Ge.useId=function(){return L.H.useId()},Ge.useImperativeHandle=function($,oe,se){return L.H.useImperativeHandle($,oe,se)},Ge.useInsertionEffect=function($,oe){return L.H.useInsertionEffect($,oe)},Ge.useLayoutEffect=function($,oe){return L.H.useLayoutEffect($,oe)},Ge.useMemo=function($,oe){return L.H.useMemo($,oe)},Ge.useOptimistic=function($,oe){return L.H.useOptimistic($,oe)},Ge.useReducer=function($,oe,se){return L.H.useReducer($,oe,se)},Ge.useRef=function($){return L.H.useRef($)},Ge.useState=function($){return L.H.useState($)},Ge.useSyncExternalStore=function($,oe,se){return L.H.useSyncExternalStore($,oe,se)},Ge.useTransition=function(){return L.H.useTransition()},Ge.version="19.1.1",Ge}var _O;function Of(){return _O||(_O=1,aw.exports=I9()),aw.exports}var R=Of();const MM=Oa(R),R9=x9({__proto__:null,default:MM},[R]);var sw={exports:{}},oh={},ow={exports:{}},lw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function P9(){return bO||(bO=1,(function(t){function e(Z,ie){var pe=Z.length;Z.push(ie);e:for(;0<pe;){var xe=pe-1>>>1,$=Z[xe];if(0<i($,ie))Z[xe]=ie,Z[pe]=$,pe=xe;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ie=Z[0],pe=Z.pop();if(pe!==ie){Z[0]=pe;e:for(var xe=0,$=Z.length,oe=$>>>1;xe<oe;){var se=2*(xe+1)-1,me=Z[se],Re=se+1,Ne=Z[Re];if(0>i(me,pe))Re<$&&0>i(Ne,me)?(Z[xe]=Ne,Z[Re]=pe,xe=Re):(Z[xe]=me,Z[se]=pe,xe=se);else if(Re<$&&0>i(Ne,pe))Z[xe]=Ne,Z[Re]=pe,xe=Re;else break e}}return ie}function i(Z,ie){var pe=Z.sortIndex-ie.sortIndex;return pe!==0?pe:Z.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],m=1,p=null,v=3,b=!1,T=!1,w=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function B(Z){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=Z)r(d),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(d)}}function L(Z){if(w=!1,B(Z),!T)if(n(f)!==null)T=!0,q||(q=!0,F());else{var ie=n(d);ie!==null&&Se(L,ie.startTime-Z)}}var q=!1,N=-1,D=5,M=-1;function z(){return x?!0:!(t.unstable_now()-M<D)}function U(){if(x=!1,q){var Z=t.unstable_now();M=Z;var ie=!0;try{e:{T=!1,w&&(w=!1,C(N),N=-1),b=!0;var pe=v;try{t:{for(B(Z),p=n(f);p!==null&&!(p.expirationTime>Z&&z());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,v=p.priorityLevel;var $=xe(p.expirationTime<=Z);if(Z=t.unstable_now(),typeof $=="function"){p.callback=$,B(Z),ie=!0;break t}p===n(f)&&r(f),B(Z)}else r(f);p=n(f)}if(p!==null)ie=!0;else{var oe=n(d);oe!==null&&Se(L,oe.startTime-Z),ie=!1}}break e}finally{p=null,v=pe,b=!1}ie=void 0}}finally{ie?F():q=!1}}}var F;if(typeof O=="function")F=function(){O(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,be=V.port2;V.port1.onmessage=U,F=function(){be.postMessage(null)}}else F=function(){P(U,0)};function Se(Z,ie){N=P(function(){Z(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var pe=v;v=ie;try{return Z()}finally{v=pe}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=v;v=Z;try{return ie()}finally{v=pe}},t.unstable_scheduleCallback=function(Z,ie,pe){var xe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,Z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=pe+$,Z={id:m++,callback:ie,priorityLevel:Z,startTime:pe,expirationTime:$,sortIndex:-1},pe>xe?(Z.sortIndex=pe,e(d,Z),n(f)===null&&Z===n(d)&&(w?(C(N),N=-1):w=!0,Se(L,pe-xe))):(Z.sortIndex=$,e(f,Z),T||b||(T=!0,q||(q=!0,F()))),Z},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Z){var ie=v;return function(){var pe=v;v=ie;try{return Z.apply(this,arguments)}finally{v=pe}}}})(lw)),lw}var wO;function O9(){return wO||(wO=1,ow.exports=P9()),ow.exports}var uw={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function C9(){if(EO)return ir;EO=1;var t=Of();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},ir.flushSync=function(f){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=m,r.d.f()}},ir.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ir.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ir.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ir.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ir.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ir.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ir.requestFormReset=function(f){r.d.r(f)},ir.unstable_batchedUpdates=function(f,d){return f(d)},ir.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.1.1",ir}var TO;function jM(){if(TO)return uw.exports;TO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uw.exports=C9(),uw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function D9(){if(xO)return oh;xO=1;var t=O9(),e=Of(),n=jM();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,h=o;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return u(y),s;if(_===h)return u(y),o;_=_.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=_;else{for(var I=!1,k=y.child;k;){if(k===c){I=!0,c=y,h=_;break}if(k===h){I=!0,h=y,c=_;break}k=k.sibling}if(!I){for(k=_.child;k;){if(k===c){I=!0,c=_,h=y;break}if(k===h){I=!0,h=_,c=y;break}k=k.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case L:return"Suspense";case q:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case O:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return o=s.displayName||null,o!==null?o:be(s.type)||"Memo";case D:o=s._payload,s=s._init;try{return be(s(o))}catch{}}return null}var Se=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],$=-1;function oe(s){return{current:s}}function se(s){0>$||(s.current=xe[$],xe[$]=null,$--)}function me(s,o){$++,xe[$]=s.current,s.current=o}var Re=oe(null),Ne=oe(null),je=oe(null),Kt=oe(null);function ct(s,o){switch(me(je,o),me(Ne,s),me(Re,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?$P(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=$P(o),s=KP(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(Re),me(Re,s)}function we(){se(Re),se(Ne),se(je)}function Be(s){s.memoizedState!==null&&me(Kt,s);var o=Re.current,c=KP(o,s.type);o!==c&&(me(Ne,s),me(Re,c))}function Ve(s){Ne.current===s&&(se(Re),se(Ne)),Kt.current===s&&(se(Kt),th._currentValue=pe)}var de=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,ze=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,tn=t.unstable_requestPaint,Ht=t.unstable_now,Ms=t.unstable_getCurrentPriorityLevel,Hi=t.unstable_ImmediatePriority,Ca=t.unstable_UserBlockingPriority,Ri=t.unstable_NormalPriority,ed=t.unstable_LowPriority,ye=t.unstable_IdlePriority,Ke=t.log,vt=t.unstable_setDisableYieldValue,He=null,qe=null;function _t(s){if(typeof Ke=="function"&&vt(s),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(He,s)}catch{}}var jt=Math.clz32?Math.clz32:nl,Gi=Math.log,Da=Math.LN2;function nl(s){return s>>>=0,s===0?32:31-(Gi(s)/Da|0)|0}var rl=256,il=4194304;function Pi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Vu(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var y=0,_=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var k=h&134217727;return k!==0?(h=k&~_,h!==0?y=Pi(h):(I&=k,I!==0?y=Pi(I):c||(c=k&~s,c!==0&&(y=Pi(c))))):(k=h&~_,k!==0?y=Pi(k):I!==0?y=Pi(I):c||(c=h&~s,c!==0&&(y=Pi(c)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:y}function al(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function td(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nd(){var s=rl;return rl<<=1,(rl&4194048)===0&&(rl=256),s}function rd(){var s=il;return il<<=1,(il&62914560)===0&&(il=4194304),s}function Na(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ka(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function id(s,o,c,h,y,_){var I=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var k=s.entanglements,K=s.expirationTimes,X=s.hiddenUpdates;for(c=I&~c;0<c;){var ae=31-jt(c),ue=1<<ae;k[ae]=0,K[ae]=-1;var J=X[ae];if(J!==null)for(X[ae]=null,ae=0;ae<J.length;ae++){var ee=J[ae];ee!==null&&(ee.lane&=-536870913)}c&=~ue}h!==0&&Wi(s,h,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(I&~o))}function Wi(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-jt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function ad(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-jt(c),y=1<<h;y&o|s[h]&o&&(s[h]|=o),c&=~y}}function js(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Lu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Vs(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:cO(s.type))}function yp(s,o){var c=ie.p;try{return ie.p=s,o()}finally{ie.p=c}}var Vt=Math.random().toString(36).slice(2),wn="__reactFiber$"+Vt,fn="__reactProps$"+Vt,ai="__reactContainer$"+Vt,sd="__reactEvents$"+Vt,s_="__reactListeners$"+Vt,Ls="__reactHandles$"+Vt,vp="__reactResources$"+Vt,sl="__reactMarker$"+Vt;function Us(s){delete s[wn],delete s[fn],delete s[sd],delete s[s_],delete s[Ls]}function Ma(s){var o=s[wn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ai]||c[wn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=YP(s);s!==null;){if(c=s[wn])return c;s=YP(s)}return o}s=c,c=s.parentNode}return null}function Yi(s){if(s=s[wn]||s[ai]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Qi(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function dr(s){var o=s[vp];return o||(o=s[vp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nn(s){s[sl]=!0}var od=new Set,Uu={};function Oi(s,o){ja(s,o),ja(s+"Capture",o)}function ja(s,o){for(Uu[s]=o,s=0;s<o.length;s++)od.add(o[s])}var _p=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bp={},ol={};function wp(s){return de.call(ol,s)?!0:de.call(bp,s)?!1:_p.test(s)?ol[s]=!0:(bp[s]=!0,!1)}function Bs(s,o,c){if(wp(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Xi(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Hn(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}var ll,Ep;function Va(s){if(ll===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ll=o&&o[1]||"",Ep=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ll+s+Ep}var Bu=!1;function zu(s,o){if(!s||Bu)return"";Bu=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var J=ee}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ee){J=ee}s.call(ue.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),I=_[0],k=_[1];if(I&&k){var K=I.split(`
`),X=k.split(`
`);for(y=h=0;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(h===K.length||y===X.length)for(h=K.length-1,y=X.length-1;1<=h&&0<=y&&K[h]!==X[y];)y--;for(;1<=h&&0<=y;h--,y--)if(K[h]!==X[y]){if(h!==1||y!==1)do if(h--,y--,0>y||K[h]!==X[y]){var ae=`
`+K[h].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=h&&0<=y);break}}}finally{Bu=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Va(c):""}function ld(s){switch(s.tag){case 26:case 27:case 5:return Va(s.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return zu(s.type,!1);case 11:return zu(s.type.render,!1);case 1:return zu(s.type,!0);case 31:return Va("Activity");default:return""}}function Fu(s){try{var o="";do o+=ld(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function hr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ud(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function o_(s){var o=ud(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){h=""+I,_.call(this,I)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function qu(s){s._valueTracker||(s._valueTracker=o_(s))}function cd(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=ud(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function ul(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var l_=/[\n"\\]/g;function dn(s){return s.replace(l_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function jr(s,o,c,h,y,_,I,k){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),o!=null?I==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+hr(o)):s.value!==""+hr(o)&&(s.value=""+hr(o)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),o!=null?zs(s,I,hr(o)):c!=null?zs(s,I,hr(c)):h!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+hr(k):s.removeAttribute("name")}function cl(s,o,c,h,y,_,I,k){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+hr(c):"",o=o!=null?""+hr(o):c,k||o===s.value||(s.value=o),s.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=k?s.checked:!!h,s.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function zs(s,o,c){o==="number"&&ul(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function La(s,o,c,h){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&h&&(s[c].defaultSelected=!0)}else{for(c=""+hr(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function bt(s,o,c){if(o!=null&&(o=""+hr(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+hr(c):""}function fl(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(Se(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=hr(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function si(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tp(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||dl.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function fd(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&Tp(s,y,h)}else for(var _ in o)o.hasOwnProperty(_)&&Tp(s,_,o[_])}function dd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(s){return c_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ua=null;function oi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ba=null,za=null;function hd(s){var o=Yi(s);if(o&&(s=o.stateNode)){var c=s[fn]||null;e:switch(s=o.stateNode,o.type){case"input":if(jr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+dn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var y=h[fn]||null;if(!y)throw Error(r(90));jr(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&cd(h)}break e;case"textarea":bt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&La(s,!!c.multiple,o,!1)}}}var Zi=!1;function xp(s,o,c){if(Zi)return s(o,c);Zi=!0;try{var h=s(o);return h}finally{if(Zi=!1,(Ba!==null||za!==null)&&(yg(),Ba&&(o=Ba,s=za,za=Ba=null,hd(o),s)))for(o=0;o<s.length;o++)hd(s[o])}}function hl(s,o){var c=s.stateNode;if(c===null)return null;var h=c[fn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=!1;if(Ci)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){li=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{li=!1}var Ji=null,Fs=null,Fa=null;function md(){if(Fa)return Fa;var s,o=Fs,c=o.length,h,y="value"in Ji?Ji.value:Ji.textContent,_=y.length;for(s=0;s<c&&o[s]===y[s];s++);var I=c-s;for(h=1;h<=I&&o[c-h]===y[_-h];h++);return Fa=y.slice(s,1<h?1-h:void 0)}function ea(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ta(){return!0}function pd(){return!1}function Cn(s){function o(c,h,y,_,I){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ta:pd,this.isPropagationStopped=pd,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),o}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=Cn(ft),pl=m({},ft,{view:0,detail:0}),Ap=Cn(pl),Hu,Gu,na,gl=m({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==na&&(na&&s.type==="mousemove"?(Hu=s.screenX-na.screenX,Gu=s.screenY-na.screenY):Gu=Hu=0,na=s),Hu)},movementY:function(s){return"movementY"in s?s.movementY:Gu}}),ui=Cn(gl),Sp=m({},gl,{dataTransfer:0}),f_=Cn(Sp),yl=m({},pl,{relatedTarget:0}),Wu=Cn(yl),gd=m({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Cn(gd),Ip=m({},ft,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qu=Cn(Ip),d_=m({},ft,{data:0}),yd=Cn(d_),vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Pp[s])?!!o[s]:!1}function _l(){return vd}var Op=m({},pl,{key:function(s){if(s.key){var o=vl[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(s){return s.type==="keypress"?ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xu=Cn(Op),Cp=m({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=Cn(Cp),qa=m({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),Dp=Cn(qa),Np=m({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=Cn(Np),Mp=m({},gl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zu=Cn(Mp),mr=m({},ft,{newState:0,oldState:0}),jp=Cn(mr),Vp=[9,13,27,32],ra=Ci&&"CompositionEvent"in window,g=null;Ci&&"documentMode"in document&&(g=document.documentMode);var E=Ci&&"TextEvent"in window&&!g,S=Ci&&(!ra||g&&8<g&&11>=g),j=" ",W=!1;function ne(s,o){switch(s){case"keyup":return Vp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var tt=!1;function En(s,o){switch(s){case"compositionend":return ge(o);case"keypress":return o.which!==32?null:(W=!0,j);case"textInput":return s=o.data,s===j&&W?null:s;default:return null}}function nt(s,o){if(tt)return s==="compositionend"||!ra&&ne(s,o)?(s=md(),Fa=Fs=Ji=null,tt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Dn[s.type]:o==="textarea"}function $a(s,o,c,h){Ba?za?za.push(h):za=[h]:Ba=h,o=Tg(o,"onChange"),0<o.length&&(c=new Ku("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Gn=null,ia=null;function bd(s){UP(s,0)}function Lp(s){var o=Qi(s);if(cd(o))return s}function sI(s,o){if(s==="change")return o}var oI=!1;if(Ci){var h_;if(Ci){var m_="oninput"in document;if(!m_){var lI=document.createElement("div");lI.setAttribute("oninput","return;"),m_=typeof lI.oninput=="function"}h_=m_}else h_=!1;oI=h_&&(!document.documentMode||9<document.documentMode)}function uI(){Gn&&(Gn.detachEvent("onpropertychange",cI),ia=Gn=null)}function cI(s){if(s.propertyName==="value"&&Lp(ia)){var o=[];$a(o,ia,s,oi(s)),xp(bd,o)}}function ZB(s,o,c){s==="focusin"?(uI(),Gn=o,ia=c,Gn.attachEvent("onpropertychange",cI)):s==="focusout"&&uI()}function JB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lp(ia)}function ez(s,o){if(s==="click")return Lp(o)}function tz(s,o){if(s==="input"||s==="change")return Lp(o)}function nz(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Vr=typeof Object.is=="function"?Object.is:nz;function wd(s,o){if(Vr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!de.call(o,y)||!Vr(s[y],o[y]))return!1}return!0}function fI(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dI(s,o){var c=fI(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=fI(c)}}function hI(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?hI(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function mI(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ul(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=ul(s.document)}return o}function p_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var rz=Ci&&"documentMode"in document&&11>=document.documentMode,Ju=null,g_=null,Ed=null,y_=!1;function pI(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;y_||Ju==null||Ju!==ul(h)||(h=Ju,"selectionStart"in h&&p_(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ed&&wd(Ed,h)||(Ed=h,h=Tg(g_,"onSelect"),0<h.length&&(o=new Ku("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=Ju)))}function bl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var ec={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionrun:bl("Transition","TransitionRun"),transitionstart:bl("Transition","TransitionStart"),transitioncancel:bl("Transition","TransitionCancel"),transitionend:bl("Transition","TransitionEnd")},v_={},gI={};Ci&&(gI=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function wl(s){if(v_[s])return v_[s];if(!ec[s])return s;var o=ec[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in gI)return v_[s]=o[c];return s}var yI=wl("animationend"),vI=wl("animationiteration"),_I=wl("animationstart"),iz=wl("transitionrun"),az=wl("transitionstart"),sz=wl("transitioncancel"),bI=wl("transitionend"),wI=new Map,__="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");__.push("scrollEnd");function Di(s,o){wI.set(s,o),Oi(o,[s])}var EI=new WeakMap;function ci(s,o){if(typeof s=="object"&&s!==null){var c=EI.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Fu(o)},EI.set(s,o),o)}return{value:s,source:o,stack:Fu(o)}}var fi=[],tc=0,b_=0;function Up(){for(var s=tc,o=b_=tc=0;o<s;){var c=fi[o];fi[o++]=null;var h=fi[o];fi[o++]=null;var y=fi[o];fi[o++]=null;var _=fi[o];if(fi[o++]=null,h!==null&&y!==null){var I=h.pending;I===null?y.next=y:(y.next=I.next,I.next=y),h.pending=y}_!==0&&TI(c,y,_)}}function Bp(s,o,c,h){fi[tc++]=s,fi[tc++]=o,fi[tc++]=c,fi[tc++]=h,b_|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function w_(s,o,c,h){return Bp(s,o,c,h),zp(s)}function nc(s,o){return Bp(s,null,null,o),zp(s)}function TI(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var y=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&o!==null&&(y=31-jt(c),s=_.hiddenUpdates,h=s[y],h===null?s[y]=[o]:h.push(o),o.lane=c|536870912),_):null}function zp(s){if(50<Gd)throw Gd=0,Ib=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var rc={};function oz(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,o,c,h){return new oz(s,o,c,h)}function E_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ka(s,o){var c=s.alternate;return c===null?(c=Lr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function xI(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Fp(s,o,c,h,y,_){var I=0;if(h=s,typeof s=="function")E_(s)&&(I=1);else if(typeof s=="string")I=u9(s,c,Re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Lr(31,c,o,y),s.elementType=M,s.lanes=_,s;case T:return El(c.children,y,_,o);case w:I=8,y|=24;break;case x:return s=Lr(12,c,o,y|2),s.elementType=x,s.lanes=_,s;case L:return s=Lr(13,c,o,y),s.elementType=L,s.lanes=_,s;case q:return s=Lr(19,c,o,y),s.elementType=q,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case O:I=10;break e;case C:I=9;break e;case B:I=11;break e;case N:I=14;break e;case D:I=16,h=null;break e}I=29,c=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Lr(I,c,o,y),o.elementType=s,o.type=h,o.lanes=_,o}function El(s,o,c,h){return s=Lr(7,s,h,o),s.lanes=c,s}function T_(s,o,c){return s=Lr(6,s,null,o),s.lanes=c,s}function x_(s,o,c){return o=Lr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var ic=[],ac=0,qp=null,$p=0,di=[],hi=0,Tl=null,Ha=1,Ga="";function xl(s,o){ic[ac++]=$p,ic[ac++]=qp,qp=s,$p=o}function AI(s,o,c){di[hi++]=Ha,di[hi++]=Ga,di[hi++]=Tl,Tl=s;var h=Ha;s=Ga;var y=32-jt(h)-1;h&=~(1<<y),c+=1;var _=32-jt(o)+y;if(30<_){var I=y-y%5;_=(h&(1<<I)-1).toString(32),h>>=I,y-=I,Ha=1<<32-jt(o)+y|c<<y|h,Ga=_+s}else Ha=1<<_|c<<y|h,Ga=s}function A_(s){s.return!==null&&(xl(s,1),AI(s,1,0))}function S_(s){for(;s===qp;)qp=ic[--ac],ic[ac]=null,$p=ic[--ac],ic[ac]=null;for(;s===Tl;)Tl=di[--hi],di[hi]=null,Ga=di[--hi],di[hi]=null,Ha=di[--hi],di[hi]=null}var pr=null,Qt=null,lt=!1,Al=null,aa=!1,I_=Error(r(519));function Sl(s){var o=Error(r(418,""));throw Ad(ci(o,s)),I_}function SI(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[wn]=s,o[fn]=h,c){case"dialog":Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":case"embed":Xe("load",o);break;case"video":case"audio":for(c=0;c<Yd.length;c++)Xe(Yd[c],o);break;case"source":Xe("error",o);break;case"img":case"image":case"link":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"input":Xe("invalid",o),cl(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),qu(o);break;case"select":Xe("invalid",o);break;case"textarea":Xe("invalid",o),fl(o,h.value,h.defaultValue,h.children),qu(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||qP(o.textContent,c)?(h.popover!=null&&(Xe("beforetoggle",o),Xe("toggle",o)),h.onScroll!=null&&Xe("scroll",o),h.onScrollEnd!=null&&Xe("scrollend",o),h.onClick!=null&&(o.onclick=xg),o=!0):o=!1,o||Sl(s)}function II(s){for(pr=s.return;pr;)switch(pr.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:pr=pr.return}}function Td(s){if(s!==pr)return!1;if(!lt)return II(s),lt=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||qb(s.type,s.memoizedProps)),c=!c),c&&Qt&&Sl(s),II(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Qt=ki(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Qt=null}}else o===27?(o=Qt,io(s.type)?(s=Gb,Gb=null,Qt=s):Qt=o):Qt=pr?ki(s.stateNode.nextSibling):null;return!0}function xd(){Qt=pr=null,lt=!1}function RI(){var s=Al;return s!==null&&(Ar===null?Ar=s:Ar.push.apply(Ar,s),Al=null),s}function Ad(s){Al===null?Al=[s]:Al.push(s)}var R_=oe(null),Il=null,Wa=null;function qs(s,o,c){me(R_,o._currentValue),o._currentValue=c}function Ya(s){s._currentValue=R_.current,se(R_)}function P_(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function O_(s,o,c,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var I=y.child;_=_.firstContext;e:for(;_!==null;){var k=_;_=y;for(var K=0;K<o.length;K++)if(k.context===o[K]){_.lanes|=c,k=_.alternate,k!==null&&(k.lanes|=c),P_(_.return,c,s),h||(I=null);break e}_=k.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=c,_=I.alternate,_!==null&&(_.lanes|=c),P_(I,c,s),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===s){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function Sd(s,o,c,h){s=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var k=y.type;Vr(y.pendingProps.value,I.value)||(s!==null?s.push(k):s=[k])}}else if(y===Kt.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(th):s=[th])}y=y.return}s!==null&&O_(o,s,c,h),o.flags|=262144}function Kp(s){for(s=s.firstContext;s!==null;){if(!Vr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Rl(s){Il=s,Wa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rr(s){return PI(Il,s)}function Hp(s,o){return Il===null&&Rl(s),PI(s,o)}function PI(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Wa===null){if(s===null)throw Error(r(308));Wa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Wa=Wa.next=o;return c}var lz=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},uz=t.unstable_scheduleCallback,cz=t.unstable_NormalPriority,xn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C_(){return{controller:new lz,data:new Map,refCount:0}}function Id(s){s.refCount--,s.refCount===0&&uz(cz,function(){s.controller.abort()})}var Rd=null,D_=0,sc=0,oc=null;function fz(s,o){if(Rd===null){var c=Rd=[];D_=0,sc=kb(),oc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return D_++,o.then(OI,OI),o}function OI(){if(--D_===0&&Rd!==null){oc!==null&&(oc.status="fulfilled");var s=Rd;Rd=null,sc=0,oc=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function dz(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var CI=Z.S;Z.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&fz(s,o),CI!==null&&CI(s,o)};var Pl=oe(null);function N_(){var s=Pl.current;return s!==null?s:Pt.pooledCache}function Gp(s,o){o===null?me(Pl,Pl.current):me(Pl,o.pool)}function DI(){var s=N_();return s===null?null:{parent:xn._currentValue,pool:s}}var Pd=Error(r(460)),NI=Error(r(474)),Wp=Error(r(542)),k_={then:function(){}};function kI(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yp(){}function MI(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Yp,Yp),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,VI(s),s;default:if(typeof o.status=="string")o.then(Yp,Yp);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,VI(s),s}throw Od=o,Pd}}var Od=null;function jI(){if(Od===null)throw Error(r(459));var s=Od;return Od=null,s}function VI(s){if(s===Pd||s===Wp)throw Error(r(483))}var $s=!1;function M_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function j_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Hs(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ht&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=zp(s),TI(s,null,c),o}return Bp(s,h,o,c),zp(s)}function Cd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,ad(s,c)}}function V_(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?y=_=I:_=_.next=I,c=c.next}while(c!==null);_===null?y=_=o:_=_.next=o}else y=_=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var L_=!1;function Dd(){if(L_){var s=oc;if(s!==null)throw s}}function Nd(s,o,c,h){L_=!1;var y=s.updateQueue;$s=!1;var _=y.firstBaseUpdate,I=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var K=k,X=K.next;K.next=null,I===null?_=X:I.next=X,I=K;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==I&&(k===null?ae.firstBaseUpdate=X:k.next=X,ae.lastBaseUpdate=K))}if(_!==null){var ue=y.baseState;I=0,ae=X=K=null,k=_;do{var J=k.lane&-536870913,ee=J!==k.lane;if(ee?(rt&J)===J:(h&J)===J){J!==0&&J===sc&&(L_=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ue=s,Me=k;J=o;var Tt=c;switch(Me.tag){case 1:if(Ue=Me.payload,typeof Ue=="function"){ue=Ue.call(Tt,ue,J);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Me.payload,J=typeof Ue=="function"?Ue.call(Tt,ue,J):Ue,J==null)break e;ue=m({},ue,J);break e;case 2:$s=!0}}J=k.callback,J!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=y.callbacks,ee===null?y.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(X=ae=ee,K=ue):ae=ae.next=ee,I|=J;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);ae===null&&(K=ue),y.baseState=K,y.firstBaseUpdate=X,y.lastBaseUpdate=ae,_===null&&(y.shared.lanes=0),eo|=I,s.lanes=I,s.memoizedState=ue}}function LI(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function UI(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)LI(c[s],o)}var lc=oe(null),Qp=oe(0);function BI(s,o){s=ns,me(Qp,s),me(lc,o),ns=s|o.baseLanes}function U_(){me(Qp,ns),me(lc,lc.current)}function B_(){ns=Qp.current,se(lc),se(Qp)}var Gs=0,We=null,wt=null,hn=null,Xp=!1,uc=!1,Ol=!1,Zp=0,kd=0,cc=null,hz=0;function rn(){throw Error(r(321))}function z_(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Vr(s[c],o[c]))return!1;return!0}function F_(s,o,c,h,y,_){return Gs=_,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=s===null||s.memoizedState===null?TR:xR,Ol=!1,_=c(h,y),Ol=!1,uc&&(_=FI(o,c,h,y)),zI(s),_}function zI(s){Z.H=ig;var o=wt!==null&&wt.next!==null;if(Gs=0,hn=wt=We=null,Xp=!1,kd=0,cc=null,o)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&Kp(s)&&(Nn=!0))}function FI(s,o,c,h){We=s;var y=0;do{if(uc&&(cc=null),kd=0,uc=!1,25<=y)throw Error(r(301));if(y+=1,hn=wt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Z.H=bz,_=o(c,h)}while(uc);return _}function mz(){var s=Z.H,o=s.useState()[0];return o=typeof o.then=="function"?Md(o):o,s=s.useState()[0],(wt!==null?wt.memoizedState:null)!==s&&(We.flags|=1024),o}function q_(){var s=Zp!==0;return Zp=0,s}function $_(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function K_(s){if(Xp){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Xp=!1}Gs=0,hn=wt=We=null,uc=!1,kd=Zp=0,cc=null}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?We.memoizedState=hn=s:hn=hn.next=s,hn}function mn(){if(wt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=wt.next;var o=hn===null?We.memoizedState:hn.next;if(o!==null)hn=o,wt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));wt=s,s={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},hn===null?We.memoizedState=hn=s:hn=hn.next=s}return hn}function H_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Md(s){var o=kd;return kd+=1,cc===null&&(cc=[]),s=MI(cc,s,o),o=We,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?TR:xR),s}function Jp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Md(s);if(s.$$typeof===O)return rr(s)}throw Error(r(438,String(s)))}function G_(s){var o=null,c=We.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=H_(),We.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=z;return o.index++,c}function Qa(s,o){return typeof o=="function"?o(s):o}function eg(s){var o=mn();return W_(o,wt,s)}function W_(s,o,c){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=s.baseQueue,_=h.pending;if(_!==null){if(y!==null){var I=y.next;y.next=_.next,_.next=I}o.baseQueue=y=_,h.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{o=y.next;var k=I=null,K=null,X=o,ae=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(rt&ue)===ue:(Gs&ue)===ue){var J=X.revertLane;if(J===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===sc&&(ae=!0);else if((Gs&J)===J){X=X.next,J===sc&&(ae=!0);continue}else ue={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},K===null?(k=K=ue,I=_):K=K.next=ue,We.lanes|=J,eo|=J;ue=X.action,Ol&&c(_,ue),_=X.hasEagerState?X.eagerState:c(_,ue)}else J={lane:ue,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},K===null?(k=K=J,I=_):K=K.next=J,We.lanes|=ue,eo|=ue;X=X.next}while(X!==null&&X!==o);if(K===null?I=_:K.next=k,!Vr(_,s.memoizedState)&&(Nn=!0,ae&&(c=oc,c!==null)))throw c;s.memoizedState=_,s.baseState=I,s.baseQueue=K,h.lastRenderedState=_}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Y_(s){var o=mn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,y=c.pending,_=o.memoizedState;if(y!==null){c.pending=null;var I=y=y.next;do _=s(_,I.action),I=I.next;while(I!==y);Vr(_,o.memoizedState)||(Nn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function qI(s,o,c){var h=We,y=mn(),_=lt;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var I=!Vr((wt||y).memoizedState,c);I&&(y.memoizedState=c,Nn=!0),y=y.queue;var k=HI.bind(null,h,y,s);if(jd(2048,8,k,[s]),y.getSnapshot!==o||I||hn!==null&&hn.memoizedState.tag&1){if(h.flags|=2048,fc(9,tg(),KI.bind(null,h,y,c,o),null),Pt===null)throw Error(r(349));_||(Gs&124)!==0||$I(h,o,c)}return c}function $I(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=We.updateQueue,o===null?(o=H_(),We.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function KI(s,o,c,h){o.value=c,o.getSnapshot=h,GI(o)&&WI(s)}function HI(s,o,c){return c(function(){GI(o)&&WI(s)})}function GI(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Vr(s,c)}catch{return!0}}function WI(s){var o=nc(s,2);o!==null&&qr(o,s,2)}function Q_(s){var o=Tr();if(typeof s=="function"){var c=s;if(s=c(),Ol){_t(!0);try{c()}finally{_t(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:s},o}function YI(s,o,c,h){return s.baseState=c,W_(s,wt,typeof h=="function"?h:Qa)}function pz(s,o,c,h,y){if(rg(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};Z.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,QI(o,_)):(_.next=c.next,o.pending=c.next=_)}}function QI(s,o){var c=o.action,h=o.payload,y=s.state;if(o.isTransition){var _=Z.T,I={};Z.T=I;try{var k=c(y,h),K=Z.S;K!==null&&K(I,k),XI(s,o,k)}catch(X){X_(s,o,X)}finally{Z.T=_}}else try{_=c(y,h),XI(s,o,_)}catch(X){X_(s,o,X)}}function XI(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){ZI(s,o,h)},function(h){return X_(s,o,h)}):ZI(s,o,c)}function ZI(s,o,c){o.status="fulfilled",o.value=c,JI(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,QI(s,c)))}function X_(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,JI(o),o=o.next;while(o!==h)}s.action=null}function JI(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function eR(s,o){return o}function tR(s,o){if(lt){var c=Pt.formState;if(c!==null){e:{var h=We;if(lt){if(Qt){t:{for(var y=Qt,_=aa;y.nodeType!==8;){if(!_){y=null;break t}if(y=ki(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Qt=ki(y.nextSibling),h=y.data==="F!";break e}}Sl(h)}h=!1}h&&(o=c[0])}}return c=Tr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eR,lastRenderedState:o},c.queue=h,c=bR.bind(null,We,h),h.dispatch=c,h=Q_(!1),_=nb.bind(null,We,!1,h.queue),h=Tr(),y={state:o,dispatch:null,action:s,pending:null},h.queue=y,c=pz.bind(null,We,y,_,c),y.dispatch=c,h.memoizedState=s,[o,c,!1]}function nR(s){var o=mn();return rR(o,wt,s)}function rR(s,o,c){if(o=W_(s,o,eR)[0],s=eg(Qa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Md(o)}catch(I){throw I===Pd?Wp:I}else h=o;o=mn();var y=o.queue,_=y.dispatch;return c!==o.memoizedState&&(We.flags|=2048,fc(9,tg(),gz.bind(null,y,c),null)),[h,_,s]}function gz(s,o){s.action=o}function iR(s){var o=mn(),c=wt;if(c!==null)return rR(o,c,s);mn(),o=o.memoizedState,c=mn();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function fc(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=We.updateQueue,o===null&&(o=H_(),We.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function tg(){return{destroy:void 0,resource:void 0}}function aR(){return mn().memoizedState}function ng(s,o,c,h){var y=Tr();h=h===void 0?null:h,We.flags|=s,y.memoizedState=fc(1|o,tg(),c,h)}function jd(s,o,c,h){var y=mn();h=h===void 0?null:h;var _=y.memoizedState.inst;wt!==null&&h!==null&&z_(h,wt.memoizedState.deps)?y.memoizedState=fc(o,_,c,h):(We.flags|=s,y.memoizedState=fc(1|o,_,c,h))}function sR(s,o){ng(8390656,8,s,o)}function oR(s,o){jd(2048,8,s,o)}function lR(s,o){return jd(4,2,s,o)}function uR(s,o){return jd(4,4,s,o)}function cR(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function fR(s,o,c){c=c!=null?c.concat([s]):null,jd(4,4,cR.bind(null,o,s),c)}function Z_(){}function dR(s,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&z_(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function hR(s,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&z_(o,h[1]))return h[0];if(h=s(),Ol){_t(!0);try{s()}finally{_t(!1)}}return c.memoizedState=[h,o],h}function J_(s,o,c){return c===void 0||(Gs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=gP(),We.lanes|=s,eo|=s,c)}function mR(s,o,c,h){return Vr(c,o)?c:lc.current!==null?(s=J_(s,c,h),Vr(s,o)||(Nn=!0),s):(Gs&42)===0?(Nn=!0,s.memoizedState=c):(s=gP(),We.lanes|=s,eo|=s,o)}function pR(s,o,c,h,y){var _=ie.p;ie.p=_!==0&&8>_?_:8;var I=Z.T,k={};Z.T=k,nb(s,!1,o,c);try{var K=y(),X=Z.S;if(X!==null&&X(k,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ae=dz(K,h);Vd(s,o,ae,Fr(s))}else Vd(s,o,h,Fr(s))}catch(ue){Vd(s,o,{then:function(){},status:"rejected",reason:ue},Fr())}finally{ie.p=_,Z.T=I}}function yz(){}function eb(s,o,c,h){if(s.tag!==5)throw Error(r(476));var y=gR(s).queue;pR(s,y,o,pe,c===null?yz:function(){return yR(s),c(h)})}function gR(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:pe},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function yR(s){var o=gR(s).next.queue;Vd(s,o,{},Fr())}function tb(){return rr(th)}function vR(){return mn().memoizedState}function _R(){return mn().memoizedState}function vz(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Fr();s=Ks(c);var h=Hs(o,s,c);h!==null&&(qr(h,o,c),Cd(h,o,c)),o={cache:C_()},s.payload=o;return}o=o.return}}function _z(s,o,c){var h=Fr();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},rg(s)?wR(o,c):(c=w_(s,o,c,h),c!==null&&(qr(c,s,h),ER(c,o,h)))}function bR(s,o,c){var h=Fr();Vd(s,o,c,h)}function Vd(s,o,c,h){var y={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(rg(s))wR(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,k=_(I,c);if(y.hasEagerState=!0,y.eagerState=k,Vr(k,I))return Bp(s,o,y,0),Pt===null&&Up(),!1}catch{}finally{}if(c=w_(s,o,y,h),c!==null)return qr(c,s,h),ER(c,o,h),!0}return!1}function nb(s,o,c,h){if(h={lane:2,revertLane:kb(),action:h,hasEagerState:!1,eagerState:null,next:null},rg(s)){if(o)throw Error(r(479))}else o=w_(s,c,h,2),o!==null&&qr(o,s,2)}function rg(s){var o=s.alternate;return s===We||o!==null&&o===We}function wR(s,o){uc=Xp=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function ER(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,ad(s,c)}}var ig={readContext:rr,use:Jp,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},TR={readContext:rr,use:Jp,useCallback:function(s,o){return Tr().memoizedState=[s,o===void 0?null:o],s},useContext:rr,useEffect:sR,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,ng(4194308,4,cR.bind(null,o,s),c)},useLayoutEffect:function(s,o){return ng(4194308,4,s,o)},useInsertionEffect:function(s,o){ng(4,2,s,o)},useMemo:function(s,o){var c=Tr();o=o===void 0?null:o;var h=s();if(Ol){_t(!0);try{s()}finally{_t(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=Tr();if(c!==void 0){var y=c(o);if(Ol){_t(!0);try{c(o)}finally{_t(!1)}}}else y=o;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=_z.bind(null,We,s),[h.memoizedState,s]},useRef:function(s){var o=Tr();return s={current:s},o.memoizedState=s},useState:function(s){s=Q_(s);var o=s.queue,c=bR.bind(null,We,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Z_,useDeferredValue:function(s,o){var c=Tr();return J_(c,s,o)},useTransition:function(){var s=Q_(!1);return s=pR.bind(null,We,s.queue,!0,!1),Tr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=We,y=Tr();if(lt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Pt===null)throw Error(r(349));(rt&124)!==0||$I(h,o,c)}y.memoizedState=c;var _={value:c,getSnapshot:o};return y.queue=_,sR(HI.bind(null,h,_,s),[s]),h.flags|=2048,fc(9,tg(),KI.bind(null,h,_,c,o),null),c},useId:function(){var s=Tr(),o=Pt.identifierPrefix;if(lt){var c=Ga,h=Ha;c=(h&~(1<<32-jt(h)-1)).toString(32)+c,o=""+o+"R"+c,c=Zp++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=hz++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:tb,useFormState:tR,useActionState:tR,useOptimistic:function(s){var o=Tr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=nb.bind(null,We,!0,c),c.dispatch=o,[s,o]},useMemoCache:G_,useCacheRefresh:function(){return Tr().memoizedState=vz.bind(null,We)}},xR={readContext:rr,use:Jp,useCallback:dR,useContext:rr,useEffect:oR,useImperativeHandle:fR,useInsertionEffect:lR,useLayoutEffect:uR,useMemo:hR,useReducer:eg,useRef:aR,useState:function(){return eg(Qa)},useDebugValue:Z_,useDeferredValue:function(s,o){var c=mn();return mR(c,wt.memoizedState,s,o)},useTransition:function(){var s=eg(Qa)[0],o=mn().memoizedState;return[typeof s=="boolean"?s:Md(s),o]},useSyncExternalStore:qI,useId:vR,useHostTransitionStatus:tb,useFormState:nR,useActionState:nR,useOptimistic:function(s,o){var c=mn();return YI(c,wt,s,o)},useMemoCache:G_,useCacheRefresh:_R},bz={readContext:rr,use:Jp,useCallback:dR,useContext:rr,useEffect:oR,useImperativeHandle:fR,useInsertionEffect:lR,useLayoutEffect:uR,useMemo:hR,useReducer:Y_,useRef:aR,useState:function(){return Y_(Qa)},useDebugValue:Z_,useDeferredValue:function(s,o){var c=mn();return wt===null?J_(c,s,o):mR(c,wt.memoizedState,s,o)},useTransition:function(){var s=Y_(Qa)[0],o=mn().memoizedState;return[typeof s=="boolean"?s:Md(s),o]},useSyncExternalStore:qI,useId:vR,useHostTransitionStatus:tb,useFormState:iR,useActionState:iR,useOptimistic:function(s,o){var c=mn();return wt!==null?YI(c,wt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:G_,useCacheRefresh:_R},dc=null,Ld=0;function ag(s){var o=Ld;return Ld+=1,dc===null&&(dc=[]),MI(dc,s,o)}function Ud(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function sg(s,o){throw o.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function AR(s){var o=s._init;return o(s._payload)}function SR(s){function o(G,H){if(s){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function c(G,H){if(!s)return null;for(;H!==null;)o(G,H),H=H.sibling;return null}function h(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function y(G,H){return G=Ka(G,H),G.index=0,G.sibling=null,G}function _(G,H,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=67108866,H):Q):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function I(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function k(G,H,Q,le){return H===null||H.tag!==6?(H=T_(Q,G.mode,le),H.return=G,H):(H=y(H,Q),H.return=G,H)}function K(G,H,Q,le){var Ae=Q.type;return Ae===T?ae(G,H,Q.props.children,le,Q.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&AR(Ae)===H.type)?(H=y(H,Q.props),Ud(H,Q),H.return=G,H):(H=Fp(Q.type,Q.key,Q.props,null,G.mode,le),Ud(H,Q),H.return=G,H)}function X(G,H,Q,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=x_(Q,G.mode,le),H.return=G,H):(H=y(H,Q.children||[]),H.return=G,H)}function ae(G,H,Q,le,Ae){return H===null||H.tag!==7?(H=El(Q,G.mode,le,Ae),H.return=G,H):(H=y(H,Q),H.return=G,H)}function ue(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=T_(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return Q=Fp(H.type,H.key,H.props,null,G.mode,Q),Ud(Q,H),Q.return=G,Q;case b:return H=x_(H,G.mode,Q),H.return=G,H;case D:var le=H._init;return H=le(H._payload),ue(G,H,Q)}if(Se(H)||F(H))return H=El(H,G.mode,Q,null),H.return=G,H;if(typeof H.then=="function")return ue(G,ag(H),Q);if(H.$$typeof===O)return ue(G,Hp(G,H),Q);sg(G,H)}return null}function J(G,H,Q,le){var Ae=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:k(G,H,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Ae?K(G,H,Q,le):null;case b:return Q.key===Ae?X(G,H,Q,le):null;case D:return Ae=Q._init,Q=Ae(Q._payload),J(G,H,Q,le)}if(Se(Q)||F(Q))return Ae!==null?null:ae(G,H,Q,le,null);if(typeof Q.then=="function")return J(G,H,ag(Q),le);if(Q.$$typeof===O)return J(G,H,Hp(G,Q),le);sg(G,Q)}return null}function ee(G,H,Q,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(Q)||null,k(H,G,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return G=G.get(le.key===null?Q:le.key)||null,K(H,G,le,Ae);case b:return G=G.get(le.key===null?Q:le.key)||null,X(H,G,le,Ae);case D:var Ye=le._init;return le=Ye(le._payload),ee(G,H,Q,le,Ae)}if(Se(le)||F(le))return G=G.get(Q)||null,ae(H,G,le,Ae,null);if(typeof le.then=="function")return ee(G,H,Q,ag(le),Ae);if(le.$$typeof===O)return ee(G,H,Q,Hp(H,le),Ae);sg(H,le)}return null}function Ue(G,H,Q,le){for(var Ae=null,Ye=null,Oe=H,Le=H=0,Mn=null;Oe!==null&&Le<Q.length;Le++){Oe.index>Le?(Mn=Oe,Oe=null):Mn=Oe.sibling;var at=J(G,Oe,Q[Le],le);if(at===null){Oe===null&&(Oe=Mn);break}s&&Oe&&at.alternate===null&&o(G,Oe),H=_(at,H,Le),Ye===null?Ae=at:Ye.sibling=at,Ye=at,Oe=Mn}if(Le===Q.length)return c(G,Oe),lt&&xl(G,Le),Ae;if(Oe===null){for(;Le<Q.length;Le++)Oe=ue(G,Q[Le],le),Oe!==null&&(H=_(Oe,H,Le),Ye===null?Ae=Oe:Ye.sibling=Oe,Ye=Oe);return lt&&xl(G,Le),Ae}for(Oe=h(Oe);Le<Q.length;Le++)Mn=ee(Oe,G,Le,Q[Le],le),Mn!==null&&(s&&Mn.alternate!==null&&Oe.delete(Mn.key===null?Le:Mn.key),H=_(Mn,H,Le),Ye===null?Ae=Mn:Ye.sibling=Mn,Ye=Mn);return s&&Oe.forEach(function(uo){return o(G,uo)}),lt&&xl(G,Le),Ae}function Me(G,H,Q,le){if(Q==null)throw Error(r(151));for(var Ae=null,Ye=null,Oe=H,Le=H=0,Mn=null,at=Q.next();Oe!==null&&!at.done;Le++,at=Q.next()){Oe.index>Le?(Mn=Oe,Oe=null):Mn=Oe.sibling;var uo=J(G,Oe,at.value,le);if(uo===null){Oe===null&&(Oe=Mn);break}s&&Oe&&uo.alternate===null&&o(G,Oe),H=_(uo,H,Le),Ye===null?Ae=uo:Ye.sibling=uo,Ye=uo,Oe=Mn}if(at.done)return c(G,Oe),lt&&xl(G,Le),Ae;if(Oe===null){for(;!at.done;Le++,at=Q.next())at=ue(G,at.value,le),at!==null&&(H=_(at,H,Le),Ye===null?Ae=at:Ye.sibling=at,Ye=at);return lt&&xl(G,Le),Ae}for(Oe=h(Oe);!at.done;Le++,at=Q.next())at=ee(Oe,G,Le,at.value,le),at!==null&&(s&&at.alternate!==null&&Oe.delete(at.key===null?Le:at.key),H=_(at,H,Le),Ye===null?Ae=at:Ye.sibling=at,Ye=at);return s&&Oe.forEach(function(w9){return o(G,w9)}),lt&&xl(G,Le),Ae}function Tt(G,H,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Ae=Q.key;H!==null;){if(H.key===Ae){if(Ae=Q.type,Ae===T){if(H.tag===7){c(G,H.sibling),le=y(H,Q.props.children),le.return=G,G=le;break e}}else if(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&AR(Ae)===H.type){c(G,H.sibling),le=y(H,Q.props),Ud(le,Q),le.return=G,G=le;break e}c(G,H);break}else o(G,H);H=H.sibling}Q.type===T?(le=El(Q.props.children,G.mode,le,Q.key),le.return=G,G=le):(le=Fp(Q.type,Q.key,Q.props,null,G.mode,le),Ud(le,Q),le.return=G,G=le)}return I(G);case b:e:{for(Ae=Q.key;H!==null;){if(H.key===Ae)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(G,H.sibling),le=y(H,Q.children||[]),le.return=G,G=le;break e}else{c(G,H);break}else o(G,H);H=H.sibling}le=x_(Q,G.mode,le),le.return=G,G=le}return I(G);case D:return Ae=Q._init,Q=Ae(Q._payload),Tt(G,H,Q,le)}if(Se(Q))return Ue(G,H,Q,le);if(F(Q)){if(Ae=F(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Me(G,H,Q,le)}if(typeof Q.then=="function")return Tt(G,H,ag(Q),le);if(Q.$$typeof===O)return Tt(G,H,Hp(G,Q),le);sg(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(c(G,H.sibling),le=y(H,Q),le.return=G,G=le):(c(G,H),le=T_(Q,G.mode,le),le.return=G,G=le),I(G)):c(G,H)}return function(G,H,Q,le){try{Ld=0;var Ae=Tt(G,H,Q,le);return dc=null,Ae}catch(Oe){if(Oe===Pd||Oe===Wp)throw Oe;var Ye=Lr(29,Oe,null,G.mode);return Ye.lanes=le,Ye.return=G,Ye}finally{}}}var hc=SR(!0),IR=SR(!1),mi=oe(null),sa=null;function Ws(s){var o=s.alternate;me(An,An.current&1),me(mi,s),sa===null&&(o===null||lc.current!==null||o.memoizedState!==null)&&(sa=s)}function RR(s){if(s.tag===22){if(me(An,An.current),me(mi,s),sa===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(sa=s)}}else Ys()}function Ys(){me(An,An.current),me(mi,mi.current)}function Xa(s){se(mi),sa===s&&(sa=null),se(An)}var An=oe(0);function og(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Hb(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function rb(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:m({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ib={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Fr(),y=Ks(h);y.payload=o,c!=null&&(y.callback=c),o=Hs(s,y,h),o!==null&&(qr(o,s,h),Cd(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Fr(),y=Ks(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Hs(s,y,h),o!==null&&(qr(o,s,h),Cd(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Fr(),h=Ks(c);h.tag=2,o!=null&&(h.callback=o),o=Hs(s,h,c),o!==null&&(qr(o,s,c),Cd(o,s,c))}};function PR(s,o,c,h,y,_,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,I):o.prototype&&o.prototype.isPureReactComponent?!wd(c,h)||!wd(y,_):!0}function OR(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&ib.enqueueReplaceState(o,o.state,null)}function Cl(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=m({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}var lg=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function CR(s){lg(s)}function DR(s){console.error(s)}function NR(s){lg(s)}function ug(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function kR(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ab(s,o,c){return c=Ks(c),c.tag=3,c.payload={element:null},c.callback=function(){ug(s,o)},c}function MR(s){return s=Ks(s),s.tag=3,s}function jR(s,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var _=h.value;s.payload=function(){return y(_)},s.callback=function(){kR(o,c,h)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){kR(o,c,h),typeof y!="function"&&(to===null?to=new Set([this]):to.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function wz(s,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Sd(o,c,y,!0),c=mi.current,c!==null){switch(c.tag){case 13:return sa===null?Pb():c.alternate===null&&Xt===0&&(Xt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===k_?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),Cb(s,h,y)),!1;case 22:return c.flags|=65536,h===k_?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),Cb(s,h,y)),!1}throw Error(r(435,c.tag))}return Cb(s,h,y),Pb(),!1}if(lt)return o=mi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==I_&&(s=Error(r(422),{cause:h}),Ad(ci(s,c)))):(h!==I_&&(o=Error(r(423),{cause:h}),Ad(ci(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=ci(h,c),y=ab(s.stateNode,h,y),V_(s,y),Xt!==4&&(Xt=2)),!1;var _=Error(r(520),{cause:h});if(_=ci(_,c),Hd===null?Hd=[_]:Hd.push(_),Xt!==4&&(Xt=2),o===null)return!0;h=ci(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=ab(c.stateNode,h,s),V_(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(to===null||!to.has(_))))return c.flags|=65536,y&=-y,c.lanes|=y,y=MR(y),jR(y,s,c,h),V_(c,y),!1}c=c.return}while(c!==null);return!1}var VR=Error(r(461)),Nn=!1;function Wn(s,o,c,h){o.child=s===null?IR(o,null,c,h):hc(o,s.child,c,h)}function LR(s,o,c,h,y){c=c.render;var _=o.ref;if("ref"in h){var I={};for(var k in h)k!=="ref"&&(I[k]=h[k])}else I=h;return Rl(o),h=F_(s,o,c,I,_,y),k=q_(),s!==null&&!Nn?($_(s,o,y),Za(s,o,y)):(lt&&k&&A_(o),o.flags|=1,Wn(s,o,h,y),o.child)}function UR(s,o,c,h,y){if(s===null){var _=c.type;return typeof _=="function"&&!E_(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,BR(s,o,_,h,y)):(s=Fp(c.type,null,h,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!hb(s,y)){var I=_.memoizedProps;if(c=c.compare,c=c!==null?c:wd,c(I,h)&&s.ref===o.ref)return Za(s,o,y)}return o.flags|=1,s=Ka(_,h),s.ref=o.ref,s.return=o,o.child=s}function BR(s,o,c,h,y){if(s!==null){var _=s.memoizedProps;if(wd(_,h)&&s.ref===o.ref)if(Nn=!1,o.pendingProps=h=_,hb(s,y))(s.flags&131072)!==0&&(Nn=!0);else return o.lanes=s.lanes,Za(s,o,y)}return sb(s,o,c,h,y)}function zR(s,o,c){var h=o.pendingProps,y=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=_!==null?_.baseLanes|c:c,s!==null){for(y=o.child=s.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;o.childLanes=_&~h}else o.childLanes=0,o.child=null;return FR(s,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Gp(o,_!==null?_.cachePool:null),_!==null?BI(o,_):U_(),RR(o);else return o.lanes=o.childLanes=536870912,FR(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(Gp(o,_.cachePool),BI(o,_),Ys(),o.memoizedState=null):(s!==null&&Gp(o,null),U_(),Ys());return Wn(s,o,y,c),o.child}function FR(s,o,c,h){var y=N_();return y=y===null?null:{parent:xn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},s!==null&&Gp(o,null),U_(),RR(o),s!==null&&Sd(s,o,h,!0),null}function cg(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function sb(s,o,c,h,y){return Rl(o),c=F_(s,o,c,h,void 0,y),h=q_(),s!==null&&!Nn?($_(s,o,y),Za(s,o,y)):(lt&&h&&A_(o),o.flags|=1,Wn(s,o,c,y),o.child)}function qR(s,o,c,h,y,_){return Rl(o),o.updateQueue=null,c=FI(o,h,c,y),zI(s),h=q_(),s!==null&&!Nn?($_(s,o,_),Za(s,o,_)):(lt&&h&&A_(o),o.flags|=1,Wn(s,o,c,_),o.child)}function $R(s,o,c,h,y){if(Rl(o),o.stateNode===null){var _=rc,I=c.contextType;typeof I=="object"&&I!==null&&(_=rr(I)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ib,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},M_(o),I=c.contextType,_.context=typeof I=="object"&&I!==null?rr(I):rc,_.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(rb(o,c,I,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&ib.enqueueReplaceState(_,_.state,null),Nd(o,h,_,y),Dd(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){_=o.stateNode;var k=o.memoizedProps,K=Cl(c,k);_.props=K;var X=_.context,ae=c.contextType;I=rc,typeof ae=="object"&&ae!==null&&(I=rr(ae));var ue=c.getDerivedStateFromProps;ae=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k||X!==I)&&OR(o,_,h,I),$s=!1;var J=o.memoizedState;_.state=J,Nd(o,h,_,y),Dd(),X=o.memoizedState,k||J!==X||$s?(typeof ue=="function"&&(rb(o,c,ue,h),X=o.memoizedState),(K=$s||PR(o,c,K,h,J,X,I))?(ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=X),_.props=h,_.state=X,_.context=I,h=K):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,j_(s,o),I=o.memoizedProps,ae=Cl(c,I),_.props=ae,ue=o.pendingProps,J=_.context,X=c.contextType,K=rc,typeof X=="object"&&X!==null&&(K=rr(X)),k=c.getDerivedStateFromProps,(X=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==ue||J!==K)&&OR(o,_,h,K),$s=!1,J=o.memoizedState,_.state=J,Nd(o,h,_,y),Dd();var ee=o.memoizedState;I!==ue||J!==ee||$s||s!==null&&s.dependencies!==null&&Kp(s.dependencies)?(typeof k=="function"&&(rb(o,c,k,h),ee=o.memoizedState),(ae=$s||PR(o,c,ae,h,J,ee,K)||s!==null&&s.dependencies!==null&&Kp(s.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ee,K),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ee,K)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ee),_.props=h,_.state=ee,_.context=K,h=ae):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),h=!1)}return _=h,cg(s,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&h?(o.child=hc(o,s.child,null,y),o.child=hc(o,null,c,y)):Wn(s,o,c,y),o.memoizedState=_.state,s=o.child):s=Za(s,o,y),s}function KR(s,o,c,h){return xd(),o.flags|=256,Wn(s,o,c,h),o.child}var ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lb(s){return{baseLanes:s,cachePool:DI()}}function ub(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=pi),s}function HR(s,o,c){var h=o.pendingProps,y=!1,_=(o.flags&128)!==0,I;if((I=_)||(I=s!==null&&s.memoizedState===null?!1:(An.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,s===null){if(lt){if(y?Ws(o):Ys(),lt){var k=Qt,K;if(K=k){e:{for(K=k,k=aa;K.nodeType!==8;){if(!k){k=null;break e}if(K=ki(K.nextSibling),K===null){k=null;break e}}k=K}k!==null?(o.memoizedState={dehydrated:k,treeContext:Tl!==null?{id:Ha,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},K=Lr(18,null,null,0),K.stateNode=k,K.return=o,o.child=K,pr=o,Qt=null,K=!0):K=!1}K||Sl(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Hb(k)?o.lanes=32:o.lanes=536870912,null;Xa(o)}return k=h.children,h=h.fallback,y?(Ys(),y=o.mode,k=fg({mode:"hidden",children:k},y),h=El(h,y,c,null),k.return=o,h.return=o,k.sibling=h,o.child=k,y=o.child,y.memoizedState=lb(c),y.childLanes=ub(s,I,c),o.memoizedState=ob,h):(Ws(o),cb(o,k))}if(K=s.memoizedState,K!==null&&(k=K.dehydrated,k!==null)){if(_)o.flags&256?(Ws(o),o.flags&=-257,o=fb(s,o,c)):o.memoizedState!==null?(Ys(),o.child=s.child,o.flags|=128,o=null):(Ys(),y=h.fallback,k=o.mode,h=fg({mode:"visible",children:h.children},k),y=El(y,k,c,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,hc(o,s.child,null,c),h=o.child,h.memoizedState=lb(c),h.childLanes=ub(s,I,c),o.memoizedState=ob,o=y);else if(Ws(o),Hb(k)){if(I=k.nextSibling&&k.nextSibling.dataset,I)var X=I.dgst;I=X,h=Error(r(419)),h.stack="",h.digest=I,Ad({value:h,source:null,stack:null}),o=fb(s,o,c)}else if(Nn||Sd(s,o,c,!1),I=(c&s.childLanes)!==0,Nn||I){if(I=Pt,I!==null&&(h=c&-c,h=(h&42)!==0?1:js(h),h=(h&(I.suspendedLanes|c))!==0?0:h,h!==0&&h!==K.retryLane))throw K.retryLane=h,nc(s,h),qr(I,s,h),VR;k.data==="$?"||Pb(),o=fb(s,o,c)}else k.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=K.treeContext,Qt=ki(k.nextSibling),pr=o,lt=!0,Al=null,aa=!1,s!==null&&(di[hi++]=Ha,di[hi++]=Ga,di[hi++]=Tl,Ha=s.id,Ga=s.overflow,Tl=o),o=cb(o,h.children),o.flags|=4096);return o}return y?(Ys(),y=h.fallback,k=o.mode,K=s.child,X=K.sibling,h=Ka(K,{mode:"hidden",children:h.children}),h.subtreeFlags=K.subtreeFlags&65011712,X!==null?y=Ka(X,y):(y=El(y,k,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,k=s.child.memoizedState,k===null?k=lb(c):(K=k.cachePool,K!==null?(X=xn._currentValue,K=K.parent!==X?{parent:X,pool:X}:K):K=DI(),k={baseLanes:k.baseLanes|c,cachePool:K}),y.memoizedState=k,y.childLanes=ub(s,I,c),o.memoizedState=ob,h):(Ws(o),c=s.child,s=c.sibling,c=Ka(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(I=o.deletions,I===null?(o.deletions=[s],o.flags|=16):I.push(s)),o.child=c,o.memoizedState=null,c)}function cb(s,o){return o=fg({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function fg(s,o){return s=Lr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function fb(s,o,c){return hc(o,s.child,null,c),s=cb(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function GR(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),P_(s.return,o,c)}function db(s,o,c,h,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=y)}function WR(s,o,c){var h=o.pendingProps,y=h.revealOrder,_=h.tail;if(Wn(s,o,h.children,c),h=An.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&GR(s,c,o);else if(s.tag===19)GR(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(me(An,h),y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&og(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),db(o,!1,y,c,_);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&og(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}db(o,!0,c,null,_);break;case"together":db(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Za(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),eo|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Sd(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=Ka(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ka(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function hb(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Kp(s)))}function Ez(s,o,c){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),qs(o,xn,s.memoizedState.cache),xd();break;case 27:case 5:Be(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:qs(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Ws(o),o.flags|=128,null):(c&o.child.childLanes)!==0?HR(s,o,c):(Ws(o),s=Za(s,o,c),s!==null?s.sibling:null);Ws(o);break;case 19:var y=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Sd(s,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return WR(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(An,An.current),h)break;return null;case 22:case 23:return o.lanes=0,zR(s,o,c);case 24:qs(o,xn,s.memoizedState.cache)}return Za(s,o,c)}function YR(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Nn=!0;else{if(!hb(s,c)&&(o.flags&128)===0)return Nn=!1,Ez(s,o,c);Nn=(s.flags&131072)!==0}else Nn=!1,lt&&(o.flags&1048576)!==0&&AI(o,$p,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")E_(h)?(s=Cl(h,s),o.tag=1,o=$R(null,o,h,s,c)):(o.tag=0,o=sb(null,o,h,s,c));else{if(h!=null){if(y=h.$$typeof,y===B){o.tag=11,o=LR(null,o,h,s,c);break e}else if(y===N){o.tag=14,o=UR(null,o,h,s,c);break e}}throw o=be(h)||h,Error(r(306,o,""))}}return o;case 0:return sb(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=Cl(h,o.pendingProps),$R(s,o,h,y,c);case 3:e:{if(ct(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;y=_.element,j_(s,o),Nd(o,h,null,c);var I=o.memoizedState;if(h=I.cache,qs(o,xn,h),h!==_.cache&&O_(o,[xn],c,!0),Dd(),h=I.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=KR(s,o,h,c);break e}else if(h!==y){y=ci(Error(r(424)),o),Ad(y),o=KR(s,o,h,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Qt=ki(s.firstChild),pr=o,lt=!0,Al=null,aa=!0,c=IR(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(xd(),h===y){o=Za(s,o,c);break e}Wn(s,o,h,c)}o=o.child}return o;case 26:return cg(s,o),s===null?(c=JP(o.type,null,o.pendingProps,null))?o.memoizedState=c:lt||(c=o.type,s=o.pendingProps,h=Ag(je.current).createElement(c),h[wn]=o,h[fn]=s,Qn(h,c,s),nn(h),o.stateNode=h):o.memoizedState=JP(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Be(o),s===null&&lt&&(h=o.stateNode=QP(o.type,o.pendingProps,je.current),pr=o,aa=!0,y=Qt,io(o.type)?(Gb=y,Qt=ki(h.firstChild)):Qt=y),Wn(s,o,o.pendingProps.children,c),cg(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&lt&&((y=h=Qt)&&(h=Qz(h,o.type,o.pendingProps,aa),h!==null?(o.stateNode=h,pr=o,Qt=ki(h.firstChild),aa=!1,y=!0):y=!1),y||Sl(o)),Be(o),y=o.type,_=o.pendingProps,I=s!==null?s.memoizedProps:null,h=_.children,qb(y,_)?h=null:I!==null&&qb(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=F_(s,o,mz,null,null,c),th._currentValue=y),cg(s,o),Wn(s,o,h,c),o.child;case 6:return s===null&&lt&&((s=c=Qt)&&(c=Xz(c,o.pendingProps,aa),c!==null?(o.stateNode=c,pr=o,Qt=null,s=!0):s=!1),s||Sl(o)),null;case 13:return HR(s,o,c);case 4:return ct(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=hc(o,null,h,c):Wn(s,o,h,c),o.child;case 11:return LR(s,o,o.type,o.pendingProps,c);case 7:return Wn(s,o,o.pendingProps,c),o.child;case 8:return Wn(s,o,o.pendingProps.children,c),o.child;case 12:return Wn(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,qs(o,o.type,h.value),Wn(s,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Rl(o),y=rr(y),h=h(y),o.flags|=1,Wn(s,o,h,c),o.child;case 14:return UR(s,o,o.type,o.pendingProps,c);case 15:return BR(s,o,o.type,o.pendingProps,c);case 19:return WR(s,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},s===null?(c=fg(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Ka(s.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return zR(s,o,c);case 24:return Rl(o),h=rr(xn),s===null?(y=N_(),y===null&&(y=Pt,_=C_(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=c),y=_),o.memoizedState={parent:h,cache:y},M_(o),qs(o,xn,y)):((s.lanes&c)!==0&&(j_(s,o),Nd(o,null,null,c),Dd()),y=s.memoizedState,_=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),qs(o,xn,h)):(h=_.cache,qs(o,xn,h),h!==y.cache&&O_(o,[xn],c,!0))),Wn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ja(s){s.flags|=4}function QR(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!iO(o)){if(o=mi.current,o!==null&&((rt&4194048)===rt?sa!==null:(rt&62914560)!==rt&&(rt&536870912)===0||o!==sa))throw Od=k_,NI;s.flags|=8192}}function dg(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?rd():536870912,s.lanes|=o,yc|=o)}function Bd(s,o){if(!lt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Gt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function Tz(s,o,c){var h=o.pendingProps;switch(S_(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ya(xn),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Td(o)?Ja(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,RI())),Gt(o),null;case 26:return c=o.memoizedState,s===null?(Ja(o),c!==null?(Gt(o),QR(o,c)):(Gt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Ja(o),Gt(o),QR(o,c)):(Gt(o),o.flags&=-16777217):(s.memoizedProps!==h&&Ja(o),Gt(o),o.flags&=-16777217),null;case 27:Ve(o),c=je.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Ja(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}s=Re.current,Td(o)?SI(o):(s=QP(y,h,c),o.stateNode=s,Ja(o))}return Gt(o),null;case 5:if(Ve(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Ja(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(s=Re.current,Td(o))SI(o);else{switch(y=Ag(je.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?y.createElement(c,{is:h.is}):y.createElement(c)}}s[wn]=o,s[fn]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(Qn(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ja(o)}}return Gt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&Ja(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=je.current,Td(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,y=pr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[wn]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||qP(s.nodeValue,c)),s||Sl(o)}else s=Ag(s).createTextNode(h),s[wn]=o,o.stateNode=s}return Gt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Td(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[wn]=o}else xd(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else y=RI(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Xa(o),o):(Xa(o),null)}if(Xa(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==y&&(h.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),dg(o,o.updateQueue),Gt(o),null;case 4:return we(),s===null&&Lb(o.stateNode.containerInfo),Gt(o),null;case 10:return Ya(o.type),Gt(o),null;case 19:if(se(An),y=o.memoizedState,y===null)return Gt(o),null;if(h=(o.flags&128)!==0,_=y.rendering,_===null)if(h)Bd(y,!1);else{if(Xt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=og(s),_!==null){for(o.flags|=128,Bd(y,!1),s=_.updateQueue,o.updateQueue=s,dg(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)xI(c,s),c=c.sibling;return me(An,An.current&1|2),o.child}s=s.sibling}y.tail!==null&&Ht()>pg&&(o.flags|=128,h=!0,Bd(y,!1),o.lanes=4194304)}else{if(!h)if(s=og(_),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,dg(o,s),Bd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!lt)return Gt(o),null}else 2*Ht()-y.renderingStartTime>pg&&c!==536870912&&(o.flags|=128,h=!0,Bd(y,!1),o.lanes=4194304);y.isBackwards?(_.sibling=o.child,o.child=_):(s=y.last,s!==null?s.sibling=_:o.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ht(),o.sibling=null,s=An.current,me(An,h?s&1|2:s&1),o):(Gt(o),null);case 22:case 23:return Xa(o),B_(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),c=o.updateQueue,c!==null&&dg(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&se(Pl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ya(xn),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function xz(s,o){switch(S_(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ya(xn),we(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 13:if(Xa(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));xd()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return se(An),null;case 4:return we(),null;case 10:return Ya(o.type),null;case 22:case 23:return Xa(o),B_(),s!==null&&se(Pl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ya(xn),null;case 25:return null;default:return null}}function XR(s,o){switch(S_(o),o.tag){case 3:Ya(xn),we();break;case 26:case 27:case 5:Ve(o);break;case 4:we();break;case 13:Xa(o);break;case 19:se(An);break;case 10:Ya(o.type);break;case 22:case 23:Xa(o),B_(),s!==null&&se(Pl);break;case 24:Ya(xn)}}function zd(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&s)===s){h=void 0;var _=c.create,I=c.inst;h=_(),I.destroy=h}c=c.next}while(c!==y)}}catch(k){It(o,o.return,k)}}function Qs(s,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&s)===s){var I=h.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,y=o;var K=c,X=k;try{X()}catch(ae){It(y,K,ae)}}}h=h.next}while(h!==_)}}catch(ae){It(o,o.return,ae)}}function ZR(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{UI(o,c)}catch(h){It(s,s.return,h)}}}function JR(s,o,c){c.props=Cl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){It(s,o,h)}}function Fd(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(y){It(s,o,y)}}function oa(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){It(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){It(s,o,y)}else c.current=null}function eP(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){It(s,s.return,y)}}function mb(s,o,c){try{var h=s.stateNode;Kz(h,s.type,c,o),h[fn]=o}catch(y){It(s,s.return,y)}}function tP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&io(s.type)||s.tag===4}function pb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||tP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&io(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gb(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=xg));else if(h!==4&&(h===27&&io(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(gb(s,o,c),s=s.sibling;s!==null;)gb(s,o,c),s=s.sibling}function hg(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&io(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(hg(s,o,c),s=s.sibling;s!==null;)hg(s,o,c),s=s.sibling}function nP(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Qn(o,h,c),o[wn]=s,o[fn]=c}catch(_){It(s,s.return,_)}}var es=!1,an=!1,yb=!1,rP=typeof WeakSet=="function"?WeakSet:Set,kn=null;function Az(s,o){if(s=s.containerInfo,zb=Cg,s=mI(s),p_(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var I=0,k=-1,K=-1,X=0,ae=0,ue=s,J=null;t:for(;;){for(var ee;ue!==c||y!==0&&ue.nodeType!==3||(k=I+y),ue!==_||h!==0&&ue.nodeType!==3||(K=I+h),ue.nodeType===3&&(I+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)J=ue,ue=ee;for(;;){if(ue===s)break t;if(J===c&&++X===y&&(k=I),J===_&&++ae===h&&(K=I),(ee=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=ee}c=k===-1||K===-1?null:{start:k,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(Fb={focusedElem:s,selectionRange:c},Cg=!1,kn=o;kn!==null;)if(o=kn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,kn=s;else for(;kn!==null;){switch(o=kn,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,y=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var Ue=Cl(c.type,y,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(Ue,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(Me){It(c,c.return,Me)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Kb(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,kn=s;break}kn=o.return}}function iP(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Xs(s,c),h&4&&zd(5,c);break;case 1:if(Xs(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(I){It(c,c.return,I)}else{var y=Cl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(I){It(c,c.return,I)}}h&64&&ZR(c),h&512&&Fd(c,c.return);break;case 3:if(Xs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{UI(s,o)}catch(I){It(c,c.return,I)}}break;case 27:o===null&&h&4&&nP(c);case 26:case 5:Xs(s,c),o===null&&h&4&&eP(c),h&512&&Fd(c,c.return);break;case 12:Xs(s,c);break;case 13:Xs(s,c),h&4&&oP(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=kz.bind(null,c),Zz(s,c))));break;case 22:if(h=c.memoizedState!==null||es,!h){o=o!==null&&o.memoizedState!==null||an,y=es;var _=an;es=h,(an=o)&&!_?Zs(s,c,(c.subtreeFlags&8772)!==0):Xs(s,c),es=y,an=_}break;case 30:break;default:Xs(s,c)}}function aP(s){var o=s.alternate;o!==null&&(s.alternate=null,aP(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Us(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,xr=!1;function ts(s,o,c){for(c=c.child;c!==null;)sP(s,o,c),c=c.sibling}function sP(s,o,c){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(He,c)}catch{}switch(c.tag){case 26:an||oa(c,o),ts(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:an||oa(c,o);var h=Lt,y=xr;io(c.type)&&(Lt=c.stateNode,xr=!1),ts(s,o,c),Xd(c.stateNode),Lt=h,xr=y;break;case 5:an||oa(c,o);case 6:if(h=Lt,y=xr,Lt=null,ts(s,o,c),Lt=h,xr=y,Lt!==null)if(xr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(c.stateNode)}catch(_){It(c,o,_)}else try{Lt.removeChild(c.stateNode)}catch(_){It(c,o,_)}break;case 18:Lt!==null&&(xr?(s=Lt,WP(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ah(s)):WP(Lt,c.stateNode));break;case 4:h=Lt,y=xr,Lt=c.stateNode.containerInfo,xr=!0,ts(s,o,c),Lt=h,xr=y;break;case 0:case 11:case 14:case 15:an||Qs(2,c,o),an||Qs(4,c,o),ts(s,o,c);break;case 1:an||(oa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&JR(c,o,h)),ts(s,o,c);break;case 21:ts(s,o,c);break;case 22:an=(h=an)||c.memoizedState!==null,ts(s,o,c),an=h;break;default:ts(s,o,c)}}function oP(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ah(s)}catch(c){It(o,o.return,c)}}function Sz(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new rP),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new rP),o;default:throw Error(r(435,s.tag))}}function vb(s,o){var c=Sz(s);o.forEach(function(h){var y=Mz.bind(null,s,h);c.has(h)||(c.add(h),h.then(y,y))})}function Ur(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],_=s,I=o,k=I;e:for(;k!==null;){switch(k.tag){case 27:if(io(k.type)){Lt=k.stateNode,xr=!1;break e}break;case 5:Lt=k.stateNode,xr=!1;break e;case 3:case 4:Lt=k.stateNode.containerInfo,xr=!0;break e}k=k.return}if(Lt===null)throw Error(r(160));sP(_,I,y),Lt=null,xr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)lP(o,s),o=o.sibling}var Ni=null;function lP(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ur(o,s),Br(s),h&4&&(Qs(3,s,s.return),zd(3,s),Qs(5,s,s.return));break;case 1:Ur(o,s),Br(s),h&512&&(an||c===null||oa(c,c.return)),h&64&&es&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Ni;if(Ur(o,s),Br(s),h&512&&(an||c===null||oa(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":_=y.getElementsByTagName("title")[0],(!_||_[sl]||_[wn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(h),y.head.insertBefore(_,y.querySelector("head > title"))),Qn(_,h,c),_[wn]=s,nn(_),h=_;break e;case"link":var I=nO("link","href",y).get(h+(c.href||""));if(I){for(var k=0;k<I.length;k++)if(_=I[k],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(k,1);break t}}_=y.createElement(h),Qn(_,h,c),y.head.appendChild(_);break;case"meta":if(I=nO("meta","content",y).get(h+(c.content||""))){for(k=0;k<I.length;k++)if(_=I[k],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(k,1);break t}}_=y.createElement(h),Qn(_,h,c),y.head.appendChild(_);break;default:throw Error(r(468,h))}_[wn]=s,nn(_),h=_}s.stateNode=h}else rO(y,s.type,s.stateNode);else s.stateNode=tO(y,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?rO(y,s.type,s.stateNode):tO(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&mb(s,s.memoizedProps,c.memoizedProps)}break;case 27:Ur(o,s),Br(s),h&512&&(an||c===null||oa(c,c.return)),c!==null&&h&4&&mb(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Ur(o,s),Br(s),h&512&&(an||c===null||oa(c,c.return)),s.flags&32){y=s.stateNode;try{si(y,"")}catch(ee){It(s,s.return,ee)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,mb(s,y,c!==null?c.memoizedProps:y)),h&1024&&(yb=!0);break;case 6:if(Ur(o,s),Br(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(ee){It(s,s.return,ee)}}break;case 3:if(Rg=null,y=Ni,Ni=Sg(o.containerInfo),Ur(o,s),Ni=y,Br(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ah(o.containerInfo)}catch(ee){It(s,s.return,ee)}yb&&(yb=!1,uP(s));break;case 4:h=Ni,Ni=Sg(s.stateNode.containerInfo),Ur(o,s),Br(s),Ni=h;break;case 12:Ur(o,s),Br(s);break;case 13:Ur(o,s),Br(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(xb=Ht()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vb(s,h)));break;case 22:y=s.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,X=es,ae=an;if(es=X||y,an=ae||K,Ur(o,s),an=ae,es=X,Br(s),h&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||K||es||an||Dl(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){K=c=o;try{if(_=K.stateNode,y)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{k=K.stateNode;var ue=K.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){It(K,K.return,ee)}}}else if(o.tag===6){if(c===null){K=o;try{K.stateNode.nodeValue=y?"":K.memoizedProps}catch(ee){It(K,K.return,ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,vb(s,c))));break;case 19:Ur(o,s),Br(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vb(s,h)));break;case 30:break;case 21:break;default:Ur(o,s),Br(s)}}function Br(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(tP(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,_=pb(s);hg(s,_,y);break;case 5:var I=c.stateNode;c.flags&32&&(si(I,""),c.flags&=-33);var k=pb(s);hg(s,k,I);break;case 3:case 4:var K=c.stateNode.containerInfo,X=pb(s);gb(s,X,K);break;default:throw Error(r(161))}}catch(ae){It(s,s.return,ae)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function uP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;uP(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Xs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)iP(s,o.alternate,o),o=o.sibling}function Dl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Qs(4,o,o.return),Dl(o);break;case 1:oa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&JR(o,o.return,c),Dl(o);break;case 27:Xd(o.stateNode);case 26:case 5:oa(o,o.return),Dl(o);break;case 22:o.memoizedState===null&&Dl(o);break;case 30:Dl(o);break;default:Dl(o)}s=s.sibling}}function Zs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=s,_=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:Zs(y,_,c),zd(4,_);break;case 1:if(Zs(y,_,c),h=_,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){It(h,h.return,X)}if(h=_,y=h.updateQueue,y!==null){var k=h.stateNode;try{var K=y.shared.hiddenCallbacks;if(K!==null)for(y.shared.hiddenCallbacks=null,y=0;y<K.length;y++)LI(K[y],k)}catch(X){It(h,h.return,X)}}c&&I&64&&ZR(_),Fd(_,_.return);break;case 27:nP(_);case 26:case 5:Zs(y,_,c),c&&h===null&&I&4&&eP(_),Fd(_,_.return);break;case 12:Zs(y,_,c);break;case 13:Zs(y,_,c),c&&I&4&&oP(y,_);break;case 22:_.memoizedState===null&&Zs(y,_,c),Fd(_,_.return);break;case 30:break;default:Zs(y,_,c)}o=o.sibling}}function _b(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Id(c))}function bb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Id(s))}function la(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cP(s,o,c,h),o=o.sibling}function cP(s,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:la(s,o,c,h),y&2048&&zd(9,o);break;case 1:la(s,o,c,h);break;case 3:la(s,o,c,h),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Id(s)));break;case 12:if(y&2048){la(s,o,c,h),s=o.stateNode;try{var _=o.memoizedProps,I=_.id,k=_.onPostCommit;typeof k=="function"&&k(I,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){It(o,o.return,K)}}else la(s,o,c,h);break;case 13:la(s,o,c,h);break;case 23:break;case 22:_=o.stateNode,I=o.alternate,o.memoizedState!==null?_._visibility&2?la(s,o,c,h):qd(s,o):_._visibility&2?la(s,o,c,h):(_._visibility|=2,mc(s,o,c,h,(o.subtreeFlags&10256)!==0)),y&2048&&_b(I,o);break;case 24:la(s,o,c,h),y&2048&&bb(o.alternate,o);break;default:la(s,o,c,h)}}function mc(s,o,c,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,I=o,k=c,K=h,X=I.flags;switch(I.tag){case 0:case 11:case 15:mc(_,I,k,K,y),zd(8,I);break;case 23:break;case 22:var ae=I.stateNode;I.memoizedState!==null?ae._visibility&2?mc(_,I,k,K,y):qd(_,I):(ae._visibility|=2,mc(_,I,k,K,y)),y&&X&2048&&_b(I.alternate,I);break;case 24:mc(_,I,k,K,y),y&&X&2048&&bb(I.alternate,I);break;default:mc(_,I,k,K,y)}o=o.sibling}}function qd(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,y=h.flags;switch(h.tag){case 22:qd(c,h),y&2048&&_b(h.alternate,h);break;case 24:qd(c,h),y&2048&&bb(h.alternate,h);break;default:qd(c,h)}o=o.sibling}}var $d=8192;function pc(s){if(s.subtreeFlags&$d)for(s=s.child;s!==null;)fP(s),s=s.sibling}function fP(s){switch(s.tag){case 26:pc(s),s.flags&$d&&s.memoizedState!==null&&f9(Ni,s.memoizedState,s.memoizedProps);break;case 5:pc(s);break;case 3:case 4:var o=Ni;Ni=Sg(s.stateNode.containerInfo),pc(s),Ni=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=$d,$d=16777216,pc(s),$d=o):pc(s));break;default:pc(s)}}function dP(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Kd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];kn=h,mP(h,s)}dP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hP(s),s=s.sibling}function hP(s){switch(s.tag){case 0:case 11:case 15:Kd(s),s.flags&2048&&Qs(9,s,s.return);break;case 3:Kd(s);break;case 12:Kd(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,mg(s)):Kd(s);break;default:Kd(s)}}function mg(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];kn=h,mP(h,s)}dP(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Qs(8,o,o.return),mg(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,mg(o));break;default:mg(o)}s=s.sibling}}function mP(s,o){for(;kn!==null;){var c=kn;switch(c.tag){case 0:case 11:case 15:Qs(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Id(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,kn=h;else e:for(c=s;kn!==null;){h=kn;var y=h.sibling,_=h.return;if(aP(h),h===c){kn=null;break e}if(y!==null){y.return=_,kn=y;break e}kn=_}}}var Iz={getCacheForType:function(s){var o=rr(xn),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},Rz=typeof WeakMap=="function"?WeakMap:Map,ht=0,Pt=null,Qe=null,rt=0,mt=0,zr=null,Js=!1,gc=!1,wb=!1,ns=0,Xt=0,eo=0,Nl=0,Eb=0,pi=0,yc=0,Hd=null,Ar=null,Tb=!1,xb=0,pg=1/0,gg=null,to=null,Yn=0,no=null,vc=null,_c=0,Ab=0,Sb=null,pP=null,Gd=0,Ib=null;function Fr(){if((ht&2)!==0&&rt!==0)return rt&-rt;if(Z.T!==null){var s=sc;return s!==0?s:kb()}return Vs()}function gP(){pi===0&&(pi=(rt&536870912)===0||lt?nd():536870912);var s=mi.current;return s!==null&&(s.flags|=32),pi}function qr(s,o,c){(s===Pt&&(mt===2||mt===9)||s.cancelPendingCommit!==null)&&(bc(s,0),ro(s,rt,pi,!1)),ka(s,c),((ht&2)===0||s!==Pt)&&(s===Pt&&((ht&2)===0&&(Nl|=c),Xt===4&&ro(s,rt,pi,!1)),ua(s))}function yP(s,o,c){if((ht&6)!==0)throw Error(r(327));var h=!c&&(o&124)===0&&(o&s.expiredLanes)===0||al(s,o),y=h?Cz(s,o):Ob(s,o,!0),_=h;do{if(y===0){gc&&!h&&ro(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!Pz(c)){y=Ob(s,o,!1),_=!1;continue}if(y===2){if(_=o,s.errorRecoveryDisabledLanes&_)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var k=s;y=Hd;var K=k.current.memoizedState.isDehydrated;if(K&&(bc(k,I).flags|=256),I=Ob(k,I,!1),I!==2){if(wb&&!K){k.errorRecoveryDisabledLanes|=_,Nl|=_,y=4;break e}_=Ar,Ar=y,_!==null&&(Ar===null?Ar=_:Ar.push.apply(Ar,_))}y=I}if(_=!1,y!==2)continue}}if(y===1){bc(s,0),ro(s,o,0,!0);break}e:{switch(h=s,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ro(h,o,pi,!Js);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=xb+300-Ht(),10<y)){if(ro(h,o,pi,!Js),Vu(h,0,!0)!==0)break e;h.timeoutHandle=HP(vP.bind(null,h,c,Ar,gg,Tb,o,pi,Nl,yc,Js,_,2,-0,0),y);break e}vP(h,c,Ar,gg,Tb,o,pi,Nl,yc,Js,_,0,-0,0)}}break}while(!0);ua(s)}function vP(s,o,c,h,y,_,I,k,K,X,ae,ue,J,ee){if(s.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(eh={stylesheets:null,count:0,unsuspend:c9},fP(o),ue=d9(),ue!==null)){s.cancelPendingCommit=ue(AP.bind(null,s,o,_,c,h,y,I,k,K,ae,1,J,ee)),ro(s,_,I,!X);return}AP(s,o,_,c,h,y,I,k,K)}function Pz(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],_=y.getSnapshot;y=y.value;try{if(!Vr(_(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ro(s,o,c,h){o&=~Eb,o&=~Nl,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var y=o;0<y;){var _=31-jt(y),I=1<<_;h[_]=-1,y&=~I}c!==0&&Wi(s,c,o)}function yg(){return(ht&6)===0?(Wd(0),!1):!0}function Rb(){if(Qe!==null){if(mt===0)var s=Qe.return;else s=Qe,Wa=Il=null,K_(s),dc=null,Ld=0,s=Qe;for(;s!==null;)XR(s.alternate,s),s=s.return;Qe=null}}function bc(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,Gz(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Rb(),Pt=s,Qe=c=Ka(s.current,null),rt=o,mt=0,zr=null,Js=!1,gc=al(s,o),wb=!1,yc=pi=Eb=Nl=eo=Xt=0,Ar=Hd=null,Tb=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var y=31-jt(h),_=1<<y;o|=s[y],h&=~_}return ns=o,Up(),c}function _P(s,o){We=null,Z.H=ig,o===Pd||o===Wp?(o=jI(),mt=3):o===NI?(o=jI(),mt=4):mt=o===VR?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zr=o,Qe===null&&(Xt=1,ug(s,ci(o,s.current)))}function bP(){var s=Z.H;return Z.H=ig,s===null?ig:s}function wP(){var s=Z.A;return Z.A=Iz,s}function Pb(){Xt=4,Js||(rt&4194048)!==rt&&mi.current!==null||(gc=!0),(eo&134217727)===0&&(Nl&134217727)===0||Pt===null||ro(Pt,rt,pi,!1)}function Ob(s,o,c){var h=ht;ht|=2;var y=bP(),_=wP();(Pt!==s||rt!==o)&&(gg=null,bc(s,o)),o=!1;var I=Xt;e:do try{if(mt!==0&&Qe!==null){var k=Qe,K=zr;switch(mt){case 8:Rb(),I=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(o=!0);var X=mt;if(mt=0,zr=null,wc(s,k,K,X),c&&gc){I=0;break e}break;default:X=mt,mt=0,zr=null,wc(s,k,K,X)}}Oz(),I=Xt;break}catch(ae){_P(s,ae)}while(!0);return o&&s.shellSuspendCounter++,Wa=Il=null,ht=h,Z.H=y,Z.A=_,Qe===null&&(Pt=null,rt=0,Up()),I}function Oz(){for(;Qe!==null;)EP(Qe)}function Cz(s,o){var c=ht;ht|=2;var h=bP(),y=wP();Pt!==s||rt!==o?(gg=null,pg=Ht()+500,bc(s,o)):gc=al(s,o);e:do try{if(mt!==0&&Qe!==null){o=Qe;var _=zr;t:switch(mt){case 1:mt=0,zr=null,wc(s,o,_,1);break;case 2:case 9:if(kI(_)){mt=0,zr=null,TP(o);break}o=function(){mt!==2&&mt!==9||Pt!==s||(mt=7),ua(s)},_.then(o,o);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:kI(_)?(mt=0,zr=null,TP(o)):(mt=0,zr=null,wc(s,o,_,7));break;case 5:var I=null;switch(Qe.tag){case 26:I=Qe.memoizedState;case 5:case 27:var k=Qe;if(!I||iO(I)){mt=0,zr=null;var K=k.sibling;if(K!==null)Qe=K;else{var X=k.return;X!==null?(Qe=X,vg(X)):Qe=null}break t}}mt=0,zr=null,wc(s,o,_,5);break;case 6:mt=0,zr=null,wc(s,o,_,6);break;case 8:Rb(),Xt=6;break e;default:throw Error(r(462))}}Dz();break}catch(ae){_P(s,ae)}while(!0);return Wa=Il=null,Z.H=h,Z.A=y,ht=c,Qe!==null?0:(Pt=null,rt=0,Up(),Xt)}function Dz(){for(;Qe!==null&&!Nt();)EP(Qe)}function EP(s){var o=YR(s.alternate,s,ns);s.memoizedProps=s.pendingProps,o===null?vg(s):Qe=o}function TP(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=qR(c,o,o.pendingProps,o.type,void 0,rt);break;case 11:o=qR(c,o,o.pendingProps,o.type.render,o.ref,rt);break;case 5:K_(o);default:XR(c,o),o=Qe=xI(o,ns),o=YR(c,o,ns)}s.memoizedProps=s.pendingProps,o===null?vg(s):Qe=o}function wc(s,o,c,h){Wa=Il=null,K_(o),dc=null,Ld=0;var y=o.return;try{if(wz(s,y,o,c,rt)){Xt=1,ug(s,ci(c,s.current)),Qe=null;return}}catch(_){if(y!==null)throw Qe=y,_;Xt=1,ug(s,ci(c,s.current)),Qe=null;return}o.flags&32768?(lt||h===1?s=!0:gc||(rt&536870912)!==0?s=!1:(Js=s=!0,(h===2||h===9||h===3||h===6)&&(h=mi.current,h!==null&&h.tag===13&&(h.flags|=16384))),xP(o,s)):vg(o)}function vg(s){var o=s;do{if((o.flags&32768)!==0){xP(o,Js);return}s=o.return;var c=Tz(o.alternate,o,ns);if(c!==null){Qe=c;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=s}while(o!==null);Xt===0&&(Xt=5)}function xP(s,o){do{var c=xz(s.alternate,s);if(c!==null){c.flags&=32767,Qe=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=c}while(s!==null);Xt=6,Qe=null}function AP(s,o,c,h,y,_,I,k,K){s.cancelPendingCommit=null;do _g();while(Yn!==0);if((ht&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=b_,id(s,c,_,I,k,K),s===Pt&&(Qe=Pt=null,rt=0),vc=o,no=s,_c=c,Ab=_,Sb=y,pP=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jz(Ri,function(){return OP(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Z.T,Z.T=null,y=ie.p,ie.p=2,I=ht,ht|=4;try{Az(s,o,c)}finally{ht=I,ie.p=y,Z.T=h}}Yn=1,SP(),IP(),RP()}}function SP(){if(Yn===1){Yn=0;var s=no,o=vc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var h=ie.p;ie.p=2;var y=ht;ht|=4;try{lP(o,s);var _=Fb,I=mI(s.containerInfo),k=_.focusedElem,K=_.selectionRange;if(I!==k&&k&&k.ownerDocument&&hI(k.ownerDocument.documentElement,k)){if(K!==null&&p_(k)){var X=K.start,ae=K.end;if(ae===void 0&&(ae=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(ae,k.value.length);else{var ue=k.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ue=k.textContent.length,Me=Math.min(K.start,Ue),Tt=K.end===void 0?Me:Math.min(K.end,Ue);!ee.extend&&Me>Tt&&(I=Tt,Tt=Me,Me=I);var G=dI(k,Me),H=dI(k,Tt);if(G&&H&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var Q=ue.createRange();Q.setStart(G.node,G.offset),ee.removeAllRanges(),Me>Tt?(ee.addRange(Q),ee.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),ee.addRange(Q))}}}}for(ue=[],ee=k;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ue.length;k++){var le=ue[k];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Cg=!!zb,Fb=zb=null}finally{ht=y,ie.p=h,Z.T=c}}s.current=o,Yn=2}}function IP(){if(Yn===2){Yn=0;var s=no,o=vc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var h=ie.p;ie.p=2;var y=ht;ht|=4;try{iP(s,o.alternate,o)}finally{ht=y,ie.p=h,Z.T=c}}Yn=3}}function RP(){if(Yn===4||Yn===3){Yn=0,tn();var s=no,o=vc,c=_c,h=pP;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Yn=5:(Yn=0,vc=no=null,PP(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(to=null),Lu(c),o=o.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(He,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Z.T,y=ie.p,ie.p=2,Z.T=null;try{for(var _=s.onRecoverableError,I=0;I<h.length;I++){var k=h[I];_(k.value,{componentStack:k.stack})}}finally{Z.T=o,ie.p=y}}(_c&3)!==0&&_g(),ua(s),y=s.pendingLanes,(c&4194090)!==0&&(y&42)!==0?s===Ib?Gd++:(Gd=0,Ib=s):Gd=0,Wd(0)}}function PP(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Id(o)))}function _g(s){return SP(),IP(),RP(),OP()}function OP(){if(Yn!==5)return!1;var s=no,o=Ab;Ab=0;var c=Lu(_c),h=Z.T,y=ie.p;try{ie.p=32>c?32:c,Z.T=null,c=Sb,Sb=null;var _=no,I=_c;if(Yn=0,vc=no=null,_c=0,(ht&6)!==0)throw Error(r(331));var k=ht;if(ht|=4,hP(_.current),cP(_,_.current,I,c),ht=k,Wd(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(He,_)}catch{}return!0}finally{ie.p=y,Z.T=h,PP(s,o)}}function CP(s,o,c){o=ci(c,o),o=ab(s.stateNode,o,2),s=Hs(s,o,2),s!==null&&(ka(s,2),ua(s))}function It(s,o,c){if(s.tag===3)CP(s,s,c);else for(;o!==null;){if(o.tag===3){CP(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(to===null||!to.has(h))){s=ci(c,s),c=MR(2),h=Hs(o,c,2),h!==null&&(jR(c,h,o,s),ka(h,2),ua(h));break}}o=o.return}}function Cb(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new Rz;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(wb=!0,y.add(c),s=Nz.bind(null,s,o,c),o.then(s,s))}function Nz(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Pt===s&&(rt&c)===c&&(Xt===4||Xt===3&&(rt&62914560)===rt&&300>Ht()-xb?(ht&2)===0&&bc(s,0):Eb|=c,yc===rt&&(yc=0)),ua(s)}function DP(s,o){o===0&&(o=rd()),s=nc(s,o),s!==null&&(ka(s,o),ua(s))}function kz(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),DP(s,c)}function Mz(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),DP(s,c)}function jz(s,o){return St(s,o)}var bg=null,Ec=null,Db=!1,wg=!1,Nb=!1,kl=0;function ua(s){s!==Ec&&s.next===null&&(Ec===null?bg=Ec=s:Ec=Ec.next=s),wg=!0,Db||(Db=!0,Lz())}function Wd(s,o){if(!Nb&&wg){Nb=!0;do for(var c=!1,h=bg;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var _=0;else{var I=h.suspendedLanes,k=h.pingedLanes;_=(1<<31-jt(42|s)+1)-1,_&=y&~(I&~k),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,jP(h,_))}else _=rt,_=Vu(h,h===Pt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||al(h,_)||(c=!0,jP(h,_));h=h.next}while(c);Nb=!1}}function Vz(){NP()}function NP(){wg=Db=!1;var s=0;kl!==0&&(Hz()&&(s=kl),kl=0);for(var o=Ht(),c=null,h=bg;h!==null;){var y=h.next,_=kP(h,o);_===0?(h.next=null,c===null?bg=y:c.next=y,y===null&&(Ec=c)):(c=h,(s!==0||(_&3)!==0)&&(wg=!0)),h=y}Wd(s)}function kP(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var I=31-jt(_),k=1<<I,K=y[I];K===-1?((k&c)===0||(k&h)!==0)&&(y[I]=td(k,o)):K<=o&&(s.expiredLanes|=k),_&=~k}if(o=Pt,c=rt,c=Vu(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(mt===2||mt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&ze(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||al(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&ze(h),Lu(c)){case 2:case 8:c=Ca;break;case 32:c=Ri;break;case 268435456:c=ye;break;default:c=Ri}return h=MP.bind(null,s),c=St(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&ze(h),s.callbackPriority=2,s.callbackNode=null,2}function MP(s,o){if(Yn!==0&&Yn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(_g()&&s.callbackNode!==c)return null;var h=rt;return h=Vu(s,s===Pt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(yP(s,h,o),kP(s,Ht()),s.callbackNode!=null&&s.callbackNode===c?MP.bind(null,s):null)}function jP(s,o){if(_g())return null;yP(s,o,!0)}function Lz(){Wz(function(){(ht&6)!==0?St(Hi,Vz):NP()})}function kb(){return kl===0&&(kl=nd()),kl}function VP(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$u(""+s)}function LP(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function Uz(s,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var _=VP((y[fn]||null).action),I=h.submitter;I&&(o=(o=I[fn]||null)?VP(o.formAction):I.getAttribute("formAction"),o!==null&&(_=o,I=null));var k=new Ku("action","action",null,h,y);s.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(kl!==0){var K=I?LP(y,I):new FormData(y);eb(c,{pending:!0,data:K,method:y.method,action:_},null,K)}}else typeof _=="function"&&(k.preventDefault(),K=I?LP(y,I):new FormData(y),eb(c,{pending:!0,data:K,method:y.method,action:_},_,K))},currentTarget:y}]})}}for(var Mb=0;Mb<__.length;Mb++){var jb=__[Mb],Bz=jb.toLowerCase(),zz=jb[0].toUpperCase()+jb.slice(1);Di(Bz,"on"+zz)}Di(yI,"onAnimationEnd"),Di(vI,"onAnimationIteration"),Di(_I,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(iz,"onTransitionRun"),Di(az,"onTransitionStart"),Di(sz,"onTransitionCancel"),Di(bI,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function UP(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],y=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var I=h.length-1;0<=I;I--){var k=h[I],K=k.instance,X=k.currentTarget;if(k=k.listener,K!==_&&y.isPropagationStopped())break e;_=k,y.currentTarget=X;try{_(y)}catch(ae){lg(ae)}y.currentTarget=null,_=K}else for(I=0;I<h.length;I++){if(k=h[I],K=k.instance,X=k.currentTarget,k=k.listener,K!==_&&y.isPropagationStopped())break e;_=k,y.currentTarget=X;try{_(y)}catch(ae){lg(ae)}y.currentTarget=null,_=K}}}}function Xe(s,o){var c=o[sd];c===void 0&&(c=o[sd]=new Set);var h=s+"__bubble";c.has(h)||(BP(o,s,2,!1),c.add(h))}function Vb(s,o,c){var h=0;o&&(h|=4),BP(c,s,h,o)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function Lb(s){if(!s[Eg]){s[Eg]=!0,od.forEach(function(c){c!=="selectionchange"&&(Fz.has(c)||Vb(c,!1,s),Vb(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Eg]||(o[Eg]=!0,Vb("selectionchange",!1,o))}}function BP(s,o,c,h){switch(cO(o)){case 2:var y=p9;break;case 8:y=g9;break;default:y=Zb}c=y.bind(null,o,c,s),y=void 0,!li||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function Ub(s,o,c,h,y){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var k=h.stateNode.containerInfo;if(k===y)break;if(I===4)for(I=h.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;k!==null;){if(I=Ma(k),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){h=_=I;continue e}k=k.parentNode}}h=h.return}xp(function(){var X=_,ae=oi(c),ue=[];e:{var J=wI.get(s);if(J!==void 0){var ee=Ku,Ue=s;switch(s){case"keypress":if(ea(c)===0)break e;case"keydown":case"keyup":ee=Xu;break;case"focusin":Ue="focus",ee=Wu;break;case"focusout":Ue="blur",ee=Wu;break;case"beforeblur":case"afterblur":ee=Wu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=f_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Dp;break;case yI:case vI:case _I:ee=Yu;break;case bI:ee=kp;break;case"scroll":case"scrollend":ee=Ap;break;case"wheel":ee=Zu;break;case"copy":case"cut":case"paste":ee=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=_d;break;case"toggle":case"beforetoggle":ee=jp}var Me=(o&4)!==0,Tt=!Me&&(s==="scroll"||s==="scrollend"),G=Me?J!==null?J+"Capture":null:J;Me=[];for(var H=X,Q;H!==null;){var le=H;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||G===null||(le=hl(H,G),le!=null&&Me.push(Qd(H,le,Q))),Tt)break;H=H.return}0<Me.length&&(J=new ee(J,Ue,null,c,ae),ue.push({event:J,listeners:Me}))}}if((o&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",J&&c!==Ua&&(Ue=c.relatedTarget||c.fromElement)&&(Ma(Ue)||Ue[ai]))break e;if((ee||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ue=c.relatedTarget||c.toElement,ee=X,Ue=Ue?Ma(Ue):null,Ue!==null&&(Tt=a(Ue),Me=Ue.tag,Ue!==Tt||Me!==5&&Me!==27&&Me!==6)&&(Ue=null)):(ee=null,Ue=X),ee!==Ue)){if(Me=ui,le="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Me=_d,le="onPointerLeave",G="onPointerEnter",H="pointer"),Tt=ee==null?J:Qi(ee),Q=Ue==null?J:Qi(Ue),J=new Me(le,H+"leave",ee,c,ae),J.target=Tt,J.relatedTarget=Q,le=null,Ma(ae)===X&&(Me=new Me(G,H+"enter",Ue,c,ae),Me.target=Q,Me.relatedTarget=Tt,le=Me),Tt=le,ee&&Ue)t:{for(Me=ee,G=Ue,H=0,Q=Me;Q;Q=Tc(Q))H++;for(Q=0,le=G;le;le=Tc(le))Q++;for(;0<H-Q;)Me=Tc(Me),H--;for(;0<Q-H;)G=Tc(G),Q--;for(;H--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=Tc(Me),G=Tc(G)}Me=null}else Me=null;ee!==null&&zP(ue,J,ee,Me,!1),Ue!==null&&Tt!==null&&zP(ue,Tt,Ue,Me,!0)}}e:{if(J=X?Qi(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Ae=sI;else if(Tn(J))if(oI)Ae=tz;else{Ae=JB;var Ye=ZB}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&dd(X.elementType)&&(Ae=sI):Ae=ez;if(Ae&&(Ae=Ae(s,X))){$a(ue,Ae,c,ae);break e}Ye&&Ye(s,J,X),s==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&zs(J,"number",J.value)}switch(Ye=X?Qi(X):window,s){case"focusin":(Tn(Ye)||Ye.contentEditable==="true")&&(Ju=Ye,g_=X,Ed=null);break;case"focusout":Ed=g_=Ju=null;break;case"mousedown":y_=!0;break;case"contextmenu":case"mouseup":case"dragend":y_=!1,pI(ue,c,ae);break;case"selectionchange":if(rz)break;case"keydown":case"keyup":pI(ue,c,ae)}var Oe;if(ra)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else tt?ne(s,c)&&(Le="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(S&&c.locale!=="ko"&&(tt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&tt&&(Oe=md()):(Ji=ae,Fs="value"in Ji?Ji.value:Ji.textContent,tt=!0)),Ye=Tg(X,Le),0<Ye.length&&(Le=new yd(Le,s,null,c,ae),ue.push({event:Le,listeners:Ye}),Oe?Le.data=Oe:(Oe=ge(c),Oe!==null&&(Le.data=Oe)))),(Oe=E?En(s,c):nt(s,c))&&(Le=Tg(X,"onBeforeInput"),0<Le.length&&(Ye=new yd("onBeforeInput","beforeinput",null,c,ae),ue.push({event:Ye,listeners:Le}),Ye.data=Oe)),Uz(ue,s,X,c,ae)}UP(ue,o)})}function Qd(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Tg(s,o){for(var c=o+"Capture",h=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=hl(s,c),y!=null&&h.unshift(Qd(s,y,_)),y=hl(s,o),y!=null&&h.push(Qd(s,y,_))),s.tag===3)return h;s=s.return}return[]}function Tc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zP(s,o,c,h,y){for(var _=o._reactName,I=[];c!==null&&c!==h;){var k=c,K=k.alternate,X=k.stateNode;if(k=k.tag,K!==null&&K===h)break;k!==5&&k!==26&&k!==27||X===null||(K=X,y?(X=hl(c,_),X!=null&&I.unshift(Qd(c,X,K))):y||(X=hl(c,_),X!=null&&I.push(Qd(c,X,K)))),c=c.return}I.length!==0&&s.push({event:o,listeners:I})}var qz=/\r\n?/g,$z=/\u0000|\uFFFD/g;function FP(s){return(typeof s=="string"?s:""+s).replace(qz,`
`).replace($z,"")}function qP(s,o){return o=FP(o),FP(s)===o}function xg(){}function Et(s,o,c,h,y,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||si(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&si(s,""+h);break;case"className":Xi(s,"class",h);break;case"tabIndex":Xi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(s,c,h);break;case"style":fd(s,h,_);break;case"data":if(o!=="object"){Xi(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=$u(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&Et(s,o,"name",y.name,y,null),Et(s,o,"formEncType",y.formEncType,y,null),Et(s,o,"formMethod",y.formMethod,y,null),Et(s,o,"formTarget",y.formTarget,y,null)):(Et(s,o,"encType",y.encType,y,null),Et(s,o,"method",y.method,y,null),Et(s,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=$u(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=xg);break;case"onScroll":h!=null&&Xe("scroll",s);break;case"onScrollEnd":h!=null&&Xe("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=$u(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Xe("beforetoggle",s),Xe("toggle",s),Bs(s,"popover",h);break;case"xlinkActuate":Hn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Hn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Hn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Hn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Hn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Hn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Bs(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=u_.get(c)||c,Bs(s,c,h))}}function Bb(s,o,c,h,y,_){switch(c){case"style":fd(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof h=="string"?si(s,h):(typeof h=="number"||typeof h=="bigint")&&si(s,""+h);break;case"onScroll":h!=null&&Xe("scroll",s);break;case"onScrollEnd":h!=null&&Xe("scrollend",s);break;case"onClick":h!=null&&(s.onclick=xg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),_=s[fn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,y),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,y);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Bs(s,c,h)}}}function Qn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",s),Xe("load",s);var h=!1,y=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var I=c[_];if(I!=null)switch(_){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(s,o,_,I,c,null)}}y&&Et(s,o,"srcSet",c.srcSet,c,null),h&&Et(s,o,"src",c.src,c,null);return;case"input":Xe("invalid",s);var k=_=I=y=null,K=null,X=null;for(h in c)if(c.hasOwnProperty(h)){var ae=c[h];if(ae!=null)switch(h){case"name":y=ae;break;case"type":I=ae;break;case"checked":K=ae;break;case"defaultChecked":X=ae;break;case"value":_=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Et(s,o,h,ae,c,null)}}cl(s,_,k,K,X,I,y,!1),qu(s);return;case"select":Xe("invalid",s),h=I=_=null;for(y in c)if(c.hasOwnProperty(y)&&(k=c[y],k!=null))switch(y){case"value":_=k;break;case"defaultValue":I=k;break;case"multiple":h=k;default:Et(s,o,y,k,c,null)}o=_,c=I,s.multiple=!!h,o!=null?La(s,!!h,o,!1):c!=null&&La(s,!!h,c,!0);return;case"textarea":Xe("invalid",s),_=y=h=null;for(I in c)if(c.hasOwnProperty(I)&&(k=c[I],k!=null))switch(I){case"value":h=k;break;case"defaultValue":y=k;break;case"children":_=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Et(s,o,I,k,c,null)}fl(s,h,y,_),qu(s);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Et(s,o,K,h,c,null)}return;case"dialog":Xe("beforetoggle",s),Xe("toggle",s),Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":Xe("load",s);break;case"video":case"audio":for(h=0;h<Yd.length;h++)Xe(Yd[h],s);break;case"image":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"embed":case"source":case"link":Xe("error",s),Xe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(s,o,X,h,c,null)}return;default:if(dd(o)){for(ae in c)c.hasOwnProperty(ae)&&(h=c[ae],h!==void 0&&Bb(s,o,ae,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&Et(s,o,k,h,c,null))}function Kz(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,I=null,k=null,K=null,X=null,ae=null;for(ee in c){var ue=c[ee];if(c.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":K=ue;default:h.hasOwnProperty(ee)||Et(s,o,ee,null,h,ue)}}for(var J in h){var ee=h[J];if(ue=c[J],h.hasOwnProperty(J)&&(ee!=null||ue!=null))switch(J){case"type":_=ee;break;case"name":y=ee;break;case"checked":X=ee;break;case"defaultChecked":ae=ee;break;case"value":I=ee;break;case"defaultValue":k=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:ee!==ue&&Et(s,o,J,ee,h,ue)}}jr(s,I,k,K,X,ae,_,y);return;case"select":ee=I=k=J=null;for(_ in c)if(K=c[_],c.hasOwnProperty(_)&&K!=null)switch(_){case"value":break;case"multiple":ee=K;default:h.hasOwnProperty(_)||Et(s,o,_,null,h,K)}for(y in h)if(_=h[y],K=c[y],h.hasOwnProperty(y)&&(_!=null||K!=null))switch(y){case"value":J=_;break;case"defaultValue":k=_;break;case"multiple":I=_;default:_!==K&&Et(s,o,y,_,h,K)}o=k,c=I,h=ee,J!=null?La(s,!!c,J,!1):!!h!=!!c&&(o!=null?La(s,!!c,o,!0):La(s,!!c,c?[]:"",!1));return;case"textarea":ee=J=null;for(k in c)if(y=c[k],c.hasOwnProperty(k)&&y!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Et(s,o,k,null,h,y)}for(I in h)if(y=h[I],_=c[I],h.hasOwnProperty(I)&&(y!=null||_!=null))switch(I){case"value":J=y;break;case"defaultValue":ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&Et(s,o,I,y,h,_)}bt(s,J,ee);return;case"option":for(var Ue in c)if(J=c[Ue],c.hasOwnProperty(Ue)&&J!=null&&!h.hasOwnProperty(Ue))switch(Ue){case"selected":s.selected=!1;break;default:Et(s,o,Ue,null,h,J)}for(K in h)if(J=h[K],ee=c[K],h.hasOwnProperty(K)&&J!==ee&&(J!=null||ee!=null))switch(K){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Et(s,o,K,J,h,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)J=c[Me],c.hasOwnProperty(Me)&&J!=null&&!h.hasOwnProperty(Me)&&Et(s,o,Me,null,h,J);for(X in h)if(J=h[X],ee=c[X],h.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:Et(s,o,X,J,h,ee)}return;default:if(dd(o)){for(var Tt in c)J=c[Tt],c.hasOwnProperty(Tt)&&J!==void 0&&!h.hasOwnProperty(Tt)&&Bb(s,o,Tt,void 0,h,J);for(ae in h)J=h[ae],ee=c[ae],!h.hasOwnProperty(ae)||J===ee||J===void 0&&ee===void 0||Bb(s,o,ae,J,h,ee);return}}for(var G in c)J=c[G],c.hasOwnProperty(G)&&J!=null&&!h.hasOwnProperty(G)&&Et(s,o,G,null,h,J);for(ue in h)J=h[ue],ee=c[ue],!h.hasOwnProperty(ue)||J===ee||J==null&&ee==null||Et(s,o,ue,J,h,ee)}var zb=null,Fb=null;function Ag(s){return s.nodeType===9?s:s.ownerDocument}function $P(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KP(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function qb(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $b=null;function Hz(){var s=window.event;return s&&s.type==="popstate"?s===$b?!1:($b=s,!0):($b=null,!1)}var HP=typeof setTimeout=="function"?setTimeout:void 0,Gz=typeof clearTimeout=="function"?clearTimeout:void 0,GP=typeof Promise=="function"?Promise:void 0,Wz=typeof queueMicrotask=="function"?queueMicrotask:typeof GP<"u"?function(s){return GP.resolve(null).then(s).catch(Yz)}:HP;function Yz(s){setTimeout(function(){throw s})}function io(s){return s==="head"}function WP(s,o){var c=o,h=0,y=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<h&&8>h){c=h;var I=s.ownerDocument;if(c&1&&Xd(I.documentElement),c&2&&Xd(I.body),c&4)for(c=I.head,Xd(c),I=c.firstChild;I;){var k=I.nextSibling,K=I.nodeName;I[sl]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||c.removeChild(I),I=k}}if(y===0){s.removeChild(_),ah(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:h=c.charCodeAt(0)-48;else h=0;c=_}while(c);ah(o)}function Kb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Kb(c),Us(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function Qz(s,o,c,h){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[sl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ki(s.nextSibling),s===null)break}return null}function Xz(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ki(s.nextSibling),s===null))return null;return s}function Hb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Zz(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ki(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Gb=null;function YP(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function QP(s,o,c){switch(o=Ag(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Xd(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Us(s)}var gi=new Map,XP=new Set;function Sg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=ie.d;ie.d={f:Jz,r:e9,D:t9,C:n9,L:r9,m:i9,X:s9,S:a9,M:o9};function Jz(){var s=rs.f(),o=yg();return s||o}function e9(s){var o=Yi(s);o!==null&&o.tag===5&&o.type==="form"?yR(o):rs.r(s)}var xc=typeof document>"u"?null:document;function ZP(s,o,c){var h=xc;if(h&&typeof o=="string"&&o){var y=dn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),XP.has(y)||(XP.add(y),s={rel:s,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Qn(o,"link",s),nn(o),h.head.appendChild(o)))}}function t9(s){rs.D(s),ZP("dns-prefetch",s,null)}function n9(s,o){rs.C(s,o),ZP("preconnect",s,o)}function r9(s,o,c){rs.L(s,o,c);var h=xc;if(h&&s&&o){var y='link[rel="preload"][as="'+dn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+dn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+dn(c.imageSizes)+'"]')):y+='[href="'+dn(s)+'"]';var _=y;switch(o){case"style":_=Ac(s);break;case"script":_=Sc(s)}gi.has(_)||(s=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),gi.set(_,s),h.querySelector(y)!==null||o==="style"&&h.querySelector(Zd(_))||o==="script"&&h.querySelector(Jd(_))||(o=h.createElement("link"),Qn(o,"link",s),nn(o),h.head.appendChild(o)))}}function i9(s,o){rs.m(s,o);var c=xc;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+dn(h)+'"][href="'+dn(s)+'"]',_=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Sc(s)}if(!gi.has(_)&&(s=m({rel:"modulepreload",href:s},o),gi.set(_,s),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Jd(_)))return}h=c.createElement("link"),Qn(h,"link",s),nn(h),c.head.appendChild(h)}}}function a9(s,o,c){rs.S(s,o,c);var h=xc;if(h&&s){var y=dr(h).hoistableStyles,_=Ac(s);o=o||"default";var I=y.get(_);if(!I){var k={loading:0,preload:null};if(I=h.querySelector(Zd(_)))k.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},c),(c=gi.get(_))&&Wb(s,c);var K=I=h.createElement("link");nn(K),Qn(K,"link",s),K._p=new Promise(function(X,ae){K.onload=X,K.onerror=ae}),K.addEventListener("load",function(){k.loading|=1}),K.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ig(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:k},y.set(_,I)}}}function s9(s,o){rs.X(s,o);var c=xc;if(c&&s){var h=dr(c).hoistableScripts,y=Sc(s),_=h.get(y);_||(_=c.querySelector(Jd(y)),_||(s=m({src:s,async:!0},o),(o=gi.get(y))&&Yb(s,o),_=c.createElement("script"),nn(_),Qn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function o9(s,o){rs.M(s,o);var c=xc;if(c&&s){var h=dr(c).hoistableScripts,y=Sc(s),_=h.get(y);_||(_=c.querySelector(Jd(y)),_||(s=m({src:s,async:!0,type:"module"},o),(o=gi.get(y))&&Yb(s,o),_=c.createElement("script"),nn(_),Qn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function JP(s,o,c,h){var y=(y=je.current)?Sg(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ac(c.href),c=dr(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Ac(c.href);var _=dr(y).hoistableStyles,I=_.get(s);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,I),(_=y.querySelector(Zd(s)))&&!_._p&&(I.instance=_,I.state.loading=5),gi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gi.set(s,c),_||l9(y,s,c,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sc(c),c=dr(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ac(s){return'href="'+dn(s)+'"'}function Zd(s){return'link[rel="stylesheet"]['+s+"]"}function eO(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function l9(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Qn(o,"link",c),nn(o),s.head.appendChild(o))}function Sc(s){return'[src="'+dn(s)+'"]'}function Jd(s){return"script[async]"+s}function tO(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+dn(c.href)+'"]');if(h)return o.instance=h,nn(h),h;var y=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),nn(h),Qn(h,"style",y),Ig(h,c.precedence,s),o.instance=h;case"stylesheet":y=Ac(c.href);var _=s.querySelector(Zd(y));if(_)return o.state.loading|=4,o.instance=_,nn(_),_;h=eO(c),(y=gi.get(y))&&Wb(h,y),_=(s.ownerDocument||s).createElement("link"),nn(_);var I=_;return I._p=new Promise(function(k,K){I.onload=k,I.onerror=K}),Qn(_,"link",h),o.state.loading|=4,Ig(_,c.precedence,s),o.instance=_;case"script":return _=Sc(c.src),(y=s.querySelector(Jd(_)))?(o.instance=y,nn(y),y):(h=c,(y=gi.get(_))&&(h=m({},c),Yb(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),nn(y),Qn(y,"link",h),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Ig(h,c.precedence,s));return o.instance}function Ig(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,_=y,I=0;I<h.length;I++){var k=h[I];if(k.dataset.precedence===o)_=k;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Wb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Yb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Rg=null;function nO(s,o,c){if(Rg===null){var h=new Map,y=Rg=new Map;y.set(c,h)}else y=Rg,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var _=c[y];if(!(_[sl]||_[wn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(o)||"";I=s+I;var k=h.get(I);k?k.push(_):h.set(I,[_])}}return h}function rO(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function u9(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function iO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var eh=null;function c9(){}function f9(s,o,c){if(eh===null)throw Error(r(475));var h=eh;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Ac(c.href),_=s.querySelector(Zd(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Pg.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=_,nn(_);return}_=s.ownerDocument||s,c=eO(c),(y=gi.get(y))&&Wb(c,y),_=_.createElement("link"),nn(_);var I=_;I._p=new Promise(function(k,K){I.onload=k,I.onerror=K}),Qn(_,"link",c),o.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=Pg.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function d9(){if(eh===null)throw Error(r(475));var s=eh;return s.stylesheets&&s.count===0&&Qb(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Qb(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Pg(){if(this.count--,this.count===0){if(this.stylesheets)Qb(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Og=null;function Qb(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Og=new Map,o.forEach(h9,s),Og=null,Pg.call(s))}function h9(s,o){if(!(o.state.loading&4)){var c=Og.get(s);if(c)var h=c.get(null);else{c=new Map,Og.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var I=y[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),h=I)}h&&c.set(null,h)}y=o.instance,I=y.getAttribute("data-precedence"),_=c.get(I)||h,_===h&&c.set(null,y),c.set(I,y),this.count++,h=Pg.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var th={$$typeof:O,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function m9(s,o,c,h,y,_,I,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function aO(s,o,c,h,y,_,I,k,K,X,ae,ue){return s=new m9(s,o,c,I,k,K,X,ue),o=1,_===!0&&(o|=24),_=Lr(3,null,null,o),s.current=_,_.stateNode=s,o=C_(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},M_(_),s}function sO(s){return s?(s=rc,s):rc}function oO(s,o,c,h,y,_){y=sO(y),h.context===null?h.context=y:h.pendingContext=y,h=Ks(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Hs(s,h,o),c!==null&&(qr(c,s,o),Cd(c,s,o))}function lO(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Xb(s,o){lO(s,o),(s=s.alternate)&&lO(s,o)}function uO(s){if(s.tag===13){var o=nc(s,67108864);o!==null&&qr(o,s,67108864),Xb(s,67108864)}}var Cg=!0;function p9(s,o,c,h){var y=Z.T;Z.T=null;var _=ie.p;try{ie.p=2,Zb(s,o,c,h)}finally{ie.p=_,Z.T=y}}function g9(s,o,c,h){var y=Z.T;Z.T=null;var _=ie.p;try{ie.p=8,Zb(s,o,c,h)}finally{ie.p=_,Z.T=y}}function Zb(s,o,c,h){if(Cg){var y=Jb(h);if(y===null)Ub(s,o,h,Dg,c),fO(s,h);else if(v9(y,s,o,c,h))h.stopPropagation();else if(fO(s,h),o&4&&-1<y9.indexOf(s)){for(;y!==null;){var _=Yi(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Pi(_.pendingLanes);if(I!==0){var k=_;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var K=1<<31-jt(I);k.entanglements[1]|=K,I&=~K}ua(_),(ht&6)===0&&(pg=Ht()+500,Wd(0))}}break;case 13:k=nc(_,2),k!==null&&qr(k,_,2),yg(),Xb(_,2)}if(_=Jb(h),_===null&&Ub(s,o,h,Dg,c),_===y)break;y=_}y!==null&&h.stopPropagation()}else Ub(s,o,h,null,c)}}function Jb(s){return s=oi(s),ew(s)}var Dg=null;function ew(s){if(Dg=null,s=Ma(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Dg=s,null}function cO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case Hi:return 2;case Ca:return 8;case Ri:case ed:return 32;case ye:return 268435456;default:return 32}default:return 32}}var tw=!1,ao=null,so=null,oo=null,nh=new Map,rh=new Map,lo=[],y9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fO(s,o){switch(s){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":nh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(o.pointerId)}}function ih(s,o,c,h,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[y]},o!==null&&(o=Yi(o),o!==null&&uO(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function v9(s,o,c,h,y){switch(o){case"focusin":return ao=ih(ao,s,o,c,h,y),!0;case"dragenter":return so=ih(so,s,o,c,h,y),!0;case"mouseover":return oo=ih(oo,s,o,c,h,y),!0;case"pointerover":var _=y.pointerId;return nh.set(_,ih(nh.get(_)||null,s,o,c,h,y)),!0;case"gotpointercapture":return _=y.pointerId,rh.set(_,ih(rh.get(_)||null,s,o,c,h,y)),!0}return!1}function dO(s){var o=Ma(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,yp(s.priority,function(){if(c.tag===13){var h=Fr();h=js(h);var y=nc(c,h);y!==null&&qr(y,c,h),Xb(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ng(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Jb(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Ua=h,c.target.dispatchEvent(h),Ua=null}else return o=Yi(c),o!==null&&uO(o),s.blockedOn=c,!1;o.shift()}return!0}function hO(s,o,c){Ng(s)&&c.delete(o)}function _9(){tw=!1,ao!==null&&Ng(ao)&&(ao=null),so!==null&&Ng(so)&&(so=null),oo!==null&&Ng(oo)&&(oo=null),nh.forEach(hO),rh.forEach(hO)}function kg(s,o){s.blockedOn===o&&(s.blockedOn=null,tw||(tw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_9)))}var Mg=null;function mO(s){Mg!==s&&(Mg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mg===s&&(Mg=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],y=s[o+2];if(typeof h!="function"){if(ew(h||c)===null)continue;break}var _=Yi(c);_!==null&&(s.splice(o,3),o-=3,eb(_,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function ah(s){function o(K){return kg(K,s)}ao!==null&&kg(ao,s),so!==null&&kg(so,s),oo!==null&&kg(oo,s),nh.forEach(o),rh.forEach(o);for(var c=0;c<lo.length;c++){var h=lo[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<lo.length&&(c=lo[0],c.blockedOn===null);)dO(c),c.blockedOn===null&&lo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],_=c[h+1],I=y[fn]||null;if(typeof _=="function")I||mO(c);else if(I){var k=null;if(_&&_.hasAttribute("formAction")){if(y=_,I=_[fn]||null)k=I.formAction;else if(ew(y)!==null)continue}else k=I.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),mO(c)}}}function nw(s){this._internalRoot=s}jg.prototype.render=nw.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=Fr();oO(c,h,s,o,null,null)},jg.prototype.unmount=nw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oO(s.current,2,null,s,null,null),yg(),o[ai]=null}};function jg(s){this._internalRoot=s}jg.prototype.unstable_scheduleHydration=function(s){if(s){var o=Vs();s={blockedOn:null,target:s,priority:o};for(var c=0;c<lo.length&&o!==0&&o<lo[c].priority;c++);lo.splice(c,0,s),c===0&&dO(s)}};var pO=e.version;if(pO!=="19.1.1")throw Error(r(527,pO,"19.1.1"));ie.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var b9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{He=Vg.inject(b9),qe=Vg}catch{}}return oh.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,h="",y=CR,_=DR,I=NR,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=aO(s,1,!1,null,null,c,h,y,_,I,k,null),s[ai]=o.current,Lb(s),new nw(o)},oh.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var h=!1,y="",_=CR,I=DR,k=NR,K=null,X=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks),c.formState!==void 0&&(X=c.formState)),o=aO(s,1,!0,o,c??null,h,y,_,I,k,K,X),o.context=sO(null),c=o.current,h=Fr(),h=js(h),y=Ks(h),y.callback=null,Hs(c,y,h),c=h,o.current.lanes=c,ka(o,c),ua(o),s[ai]=o.current,Lb(s),new jg(o)},oh.version="19.1.1",oh}var AO;function N9(){if(AO)return sw.exports;AO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sw.exports=D9(),sw.exports}var k9=N9();const M9=Oa(k9),j9=()=>{};var SO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},V9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},LM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,m=a>>2,p=(a&3)<<4|u>>4;let v=(u&15)<<2|d>>6,b=d&63;f||(b=64,l||(v=64)),r.push(n[m],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new L9;const v=a<<2|u>>4;if(r.push(v),d!==64){const b=u<<4&240|d>>2;if(r.push(b),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U9=function(t){const e=VM(t);return LM.encodeByteArray(e,!0)},Ay=function(t){return U9(t).replace(/\./g,"")},Fx=function(t){try{return LM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!B9(n)||(t[n]=Sy(t[n],e[n]));return t}function B9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=()=>qx().__FIREBASE_DEFAULTS__,F9=()=>{if(typeof process>"u"||typeof SO>"u")return;const t=SO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},Vv=()=>{try{return j9()||z9()||F9()||q9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UM=t=>{var e,n;return(n=(e=Vv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$9=t=>{const e=UM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$x=()=>{var t;return(t=Vv())==null?void 0:t.config},BM=t=>{var e;return(e=Vv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ay(JSON.stringify(n)),Ay(JSON.stringify(l)),""].join(".")}const Vh={};function G9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vh))Vh[e]?t.emulator.push(e):t.prod.push(e);return t}function W9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let IO=!1;function FM(t,e){if(typeof window>"u"||typeof document>"u"||!Cf(window.location.host)||Vh[t]===e||Vh[t]||IO)return;Vh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=G9().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{IO=!0,l()},v}function m(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=W9(r),b=n("text"),T=document.getElementById(b)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),P=n("preprendIcon"),C=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;u(O),m(x,w);const B=d();f(C,P),O.append(C,T,x,B),document.body.appendChild(O)}a?(T.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Lv(){var e;const t=(e=Vv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q9(){return typeof window<"u"||qM()}function qM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function X9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $M(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KM(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HM(){return!Lv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GM(){return!Lv()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function em(){try{return typeof indexedDB=="object"}catch{return!1}}function Z9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="FirebaseError";class br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J9,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?eF(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new br(i,u,r)}}function eF(t,e){return t.replace(tF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(PO(a)&&PO(l)){if(!ms(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Sh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WM(t,e){const n=new rF(t,e);return n.subscribe.bind(n)}class rF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cw),i.error===void 0&&(i.error=cw),i.complete===void 0&&(i.complete=cw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oF(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sF(t){return t===Ll?void 0:t}function oF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=[];var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const QM={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},lF=Ze.INFO,uF={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},cF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uv{constructor(e){this.name=e,this._logLevel=lF,this._logHandler=cF,this._userLogHandler=null,Hx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}function fF(t){Hx.forEach(e=>{e.setLogLevel(t)})}function dF(t,e){for(const n of Hx){let r=null;e&&e.level&&(r=QM[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...l)=>{const u=l.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");a>=(r??i.logLevel)&&t({level:Ze[a].toLowerCase(),message:u,args:l,type:i.name})}}}const hF=(t,e)=>e.some(n=>t instanceof n);let OO,CO;function mF(){return OO||(OO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pF(){return CO||(CO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XM=new WeakMap,lT=new WeakMap,ZM=new WeakMap,fw=new WeakMap,Gx=new WeakMap;function gF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Eo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&XM.set(n,t)}).catch(()=>{}),Gx.set(e,t),e}function yF(t){if(lT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});lT.set(t,e)}let uT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vF(t){uT=t(uT)}function _F(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dw(this),e,...n);return ZM.set(r,e.sort?e.sort():[e]),Eo(r)}:pF().includes(t)?function(...e){return t.apply(dw(this),e),Eo(XM.get(this))}:function(...e){return Eo(t.apply(dw(this),e))}}function bF(t){return typeof t=="function"?_F(t):(t instanceof IDBTransaction&&yF(t),hF(t,mF())?new Proxy(t,uT):t)}function Eo(t){if(t instanceof IDBRequest)return gF(t);if(fw.has(t))return fw.get(t);const e=bF(t);return e!==t&&(fw.set(t,e),Gx.set(e,t)),e}const dw=t=>Gx.get(t);function wF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Eo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Eo(l.result),f.oldVersion,f.newVersion,Eo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const EF=["get","getKey","getAll","getAllKeys","count"],TF=["put","add","delete","clear"],hw=new Map;function DO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hw.get(e))return hw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EF.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return hw.set(e,a),a}vF(t=>({...t,get:(e,n,r)=>DO(e,n)||t.get(e,n,r),has:(e,n)=>!!DO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iy="@firebase/app",cT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Uv("@firebase/app"),SF="@firebase/app-compat",IF="@firebase/analytics-compat",RF="@firebase/analytics",PF="@firebase/app-check-compat",OF="@firebase/app-check",CF="@firebase/auth",DF="@firebase/auth-compat",NF="@firebase/database",kF="@firebase/data-connect",MF="@firebase/database-compat",jF="@firebase/functions",VF="@firebase/functions-compat",LF="@firebase/installations",UF="@firebase/installations-compat",BF="@firebase/messaging",zF="@firebase/messaging-compat",FF="@firebase/performance",qF="@firebase/performance-compat",$F="@firebase/remote-config",KF="@firebase/remote-config-compat",HF="@firebase/storage",GF="@firebase/storage-compat",WF="@firebase/firestore",YF="@firebase/ai",QF="@firebase/firestore-compat",XF="firebase",ZF="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]",JF={[Iy]:"fire-core",[SF]:"fire-core-compat",[RF]:"fire-analytics",[IF]:"fire-analytics-compat",[OF]:"fire-app-check",[PF]:"fire-app-check-compat",[CF]:"fire-auth",[DF]:"fire-auth-compat",[NF]:"fire-rtdb",[kF]:"fire-data-connect",[MF]:"fire-rtdb-compat",[jF]:"fire-fn",[VF]:"fire-fn-compat",[LF]:"fire-iid",[UF]:"fire-iid-compat",[BF]:"fire-fcm",[zF]:"fire-fcm-compat",[FF]:"fire-perf",[qF]:"fire-perf-compat",[$F]:"fire-rc",[KF]:"fire-rc-compat",[HF]:"fire-gcs",[GF]:"fire-gcs-compat",[WF]:"fire-fst",[QF]:"fire-fst-compat",[YF]:"fire-vertex","fire-js":"fire-js",[XF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Map,Qc=new Map,Xc=new Map;function tm(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function JM(t,e){t.container.addOrOverwriteComponent(e)}function Co(t){const e=t.name;if(Xc.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Xc.set(e,t);for(const n of Oo.values())tm(n,t);for(const n of Qc.values())tm(n,t);return!0}function Nm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function eq(t,e,n=Po){Nm(t,e).clearInstance(n)}function Wx(t){return t.options!==void 0}function ej(t){return Wx(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Bt(t){return t==null?!1:t.settings!==void 0}function tq(){Xc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Iu("app","Firebase",nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tj=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){const n=Fx(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class rq extends tj{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,l={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&NO(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&NO(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ui(Iy,cT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Xx(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Zr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=ZF;function Yx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Po,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=$x()),!n)throw Zr.create("no-options");const a=Oo.get(i);if(a){if(ms(n,a.options)&&ms(r,a.config))return a;throw Zr.create("duplicate-app",{appName:i})}const l=new YM(i);for(const f of Xc.values())l.addComponent(f);const u=new tj(n,r,l);return Oo.set(i,u),u}function iq(t,e={}){if(Q9()&&!qM())throw Zr.create("invalid-server-app-environment");let n,r=e||{};if(t&&(Wx(t)?n=t.options:ej(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=$x()),!n)throw Zr.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=m=>[...m].reduce((p,v)=>Math.imul(31,p)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Zr.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(i)),u=Qc.get(l);if(u)return u.incRefCount(r.releaseOnDeref),u;const f=new YM(l);for(const m of Xc.values())f.addComponent(m);const d=new rq(n,r,l,f);return Qc.set(l,d),d}function Qx(t=Po){const e=Oo.get(t);if(!e&&t===Po&&$x())return Yx();if(!e)throw Zr.create("no-app",{appName:t});return e}function aq(){return Array.from(Oo.values())}async function Xx(t){let e=!1;const n=t.name;Oo.has(n)?(e=!0,Oo.delete(n)):Qc.has(n)&&t.decRefCount()<=0&&(Qc.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Ui(t,e,n){let r=JF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}Co(new xa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function nj(t,e){if(t!==null&&typeof t!="function")throw Zr.create("invalid-log-argument");dF(t,e)}function rj(t){fF(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="firebase-heartbeat-database",oq=1,nm="firebase-heartbeat-store";let mw=null;function ij(){return mw||(mw=wF(sq,oq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),mw}async function lq(t){try{const n=(await ij()).transaction(nm),r=await n.objectStore(nm).get(aj(t));return await n.done,r}catch(e){if(e instanceof br)ps.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function kO(t,e){try{const r=(await ij()).transaction(nm,"readwrite");await r.objectStore(nm).put(e,aj(t)),await r.done}catch(n){if(n instanceof br)ps.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function aj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=1024,cq=30;class fq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=MO();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cq){const l=mq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MO(),{heartbeatsToSend:r,unsentEntries:i}=dq(this._heartbeatsCache.heartbeats),a=Ay(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ps.warn(n),""}}}function MO(){return new Date().toISOString().substring(0,10)}function dq(t,e=uq){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),jO(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return em()?Z9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jO(t){return Ay(JSON.stringify({version:2,heartbeats:t})).length}function mq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t){Co(new xa("platform-logger",e=>new xF(e),"PRIVATE")),Co(new xa("heartbeat",e=>new fq(e),"PRIVATE")),Ui(Iy,cT,t),Ui(Iy,cT,"esm2020"),Ui("fire-js","")}pq("");const gq=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:br,SDK_VERSION:$o,_DEFAULT_ENTRY_NAME:Po,_addComponent:tm,_addOrOverwriteComponent:JM,_apps:Oo,_clearComponents:tq,_components:Xc,_getProvider:Nm,_isFirebaseApp:Wx,_isFirebaseServerApp:Bt,_isFirebaseServerAppSettings:ej,_registerComponent:Co,_removeServiceInstance:eq,_serverApps:Qc,deleteApp:Xx,getApp:Qx,getApps:aq,initializeApp:Yx,initializeServerApp:iq,onLog:nj,registerVersion:Ui,setLogLevel:rj},Symbol.toStringTag,{value:"Module"})),lh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Ic={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function sj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vq=yq,_q=sj,oj=new Iu("auth","Firebase",sj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Uv("@firebase/auth");function bq(t,...e){Ry.logLevel<=Ze.WARN&&Ry.warn(`Auth (${$o}): ${t}`,...e)}function ly(t,...e){Ry.logLevel<=Ze.ERROR&&Ry.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Jx(t,...e)}function In(t,...e){return Jx(t,...e)}function Zx(t,e,n){const r={..._q(),[e]:n};return new Iu("auth","Firebase",r).create(e,{appName:t.name})}function Un(t){return Zx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),Zx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oj.create(t,...e)}function he(t,e,...n){if(!t)throw Jx(e,...n)}function ga(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ly(e),new Error(e)}function Fi(t,e){t||ga(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eA(){return VO()==="http:"||VO()==="https:"}function VO(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eA()||$M()||"connection"in navigator)?navigator.onLine:!0}function Eq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=Y9()||Kx()}get(){return wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aq=new km(3e4,6e4);function Jt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function en(t,e,n,r,i={}){return uj(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Df({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...a};return X9()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Cf(t.emulatorConfig.host)&&(d.credentials="include"),lj.fetch()(await cj(t,t.config.apiHost,n,u),d)})}async function uj(t,e,n){t._canInitEmulator=!1;const r={...Tq,...e};try{const i=new Iq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ih(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Ih(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Zx(t,m,d);zn(t,m)}}catch(i){if(i instanceof br)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function Ts(t,e,n,r,i={}){const a=await en(t,e,n,r,i);return"mfaPendingCredential"in a&&zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function cj(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?tA(t.config,i):`${t.config.apiScheme}://${i}`;return xq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Sq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),Aq.get())})}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){return t!==void 0&&t.getResponse!==void 0}function UO(t){return t!==void 0&&t.enterprise!==void 0}class fj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t){return(await en(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function dj(t,e){return en(t,"GET","/v2/recaptchaConfig",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pq(t,e){return en(t,"POST","/v1/accounts:delete",e)}async function Oq(t,e){return en(t,"POST","/v1/accounts:update",e)}async function Py(t,e){return en(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cq(t,e=!1){const n=De(t),r=await n.getIdToken(e),i=Bv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Lh(pw(i.auth_time)),issuedAtTime:Lh(pw(i.iat)),expirationTime:Lh(pw(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function pw(t){return Number(t)*1e3}function Bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ly("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fx(n);return i?JSON.parse(i):(ly("Failed to decode base64 JWT payload"),null)}catch(i){return ly("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BO(t){const e=Bv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof br&&Dq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lh(this.lastLoginAt),this.creationTime=Lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t){var p;const e=t.auth,n=await t.getIdToken(),r=await gs(t,Py(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?hj(i.providerUserInfo):[],l=Mq(t.providerData,a),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=u?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new fT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function kq(t){const e=De(t);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jq(t,e){const n=await uj(t,{},async()=>{const r=Df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await cj(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&Cf(t.emulatorConfig.host)&&(f.credentials="include"),lj.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vq(t,e){return en(t,"POST","/v2/accounts:revokeToken",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=BO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await jq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Fc;return r&&(he(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(he(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return ga("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Nq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gs(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cq(this,e)}reload(){return kq(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bt(this.auth.app))return Promise.reject(Un(this.auth));const e=await this.getIdToken();return await gs(this,Pq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:T,stsTokenManager:w}=n;he(p&&w,e,"internal-error");const x=Fc.fromJSON(this.name,w);he(typeof p=="string",e,"internal-error"),co(r,e.name),co(i,e.name),he(typeof v=="boolean",e,"internal-error"),he(typeof b=="boolean",e,"internal-error"),co(a,e.name),co(l,e.name),co(u,e.name),co(f,e.name),co(d,e.name),co(m,e.name);const P=new Li({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:x,createdAt:d,lastLoginAt:m});return T&&Array.isArray(T)&&(P.providerData=T.map(C=>({...C}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fc;i.updateFromServerResponse(n);const a=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await im(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?hj(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Fc;u.updateFromIdToken(r);const f=new Li({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Map;function Xr(t){Fi(t instanceof Function,"Expected a class definition");let e=zO.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mj.type="NONE";const Zc=mj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class qc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,a),this.fullPersistenceKey=ru("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Py(this.auth,{idToken:e}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qc(Xr(Zc),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Xr(Zc);const l=ru(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(l);if(m){let p;if(typeof m=="string"){const v=await Py(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Li._fromGetAccountInfoResponse(e,v,m)}else p=Li._fromJSON(e,m);d!==a&&(u=p),a=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new qc(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new qc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_j(e))return"Blackberry";if(bj(e))return"Webos";if(gj(e))return"Safari";if((e.includes("chrome/")||yj(e))&&!e.includes("edge/"))return"Chrome";if(Mm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pj(t=Wt()){return/firefox\//i.test(t)}function gj(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yj(t=Wt()){return/crios\//i.test(t)}function vj(t=Wt()){return/iemobile/i.test(t)}function Mm(t=Wt()){return/android/i.test(t)}function _j(t=Wt()){return/blackberry/i.test(t)}function bj(t=Wt()){return/webos/i.test(t)}function jm(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lq(t=Wt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Uq(t=Wt()){var e;return jm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Bq(){return KM()&&document.documentMode===10}function wj(t=Wt()){return jm(t)||Mm(t)||bj(t)||_j(t)||/windows phone/i.test(t)||vj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e=[]){let n;switch(t){case"Browser":n=FO(Wt());break;case"Worker":n=`${FO(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e={}){return en(t,"GET","/v2/passwordPolicy",Jt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=6;class $q{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qO(this),this.idTokenSubscription=new qO(this),this.beforeStateQueue=new zq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await qc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Py(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Bt(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Eq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bt(this.app))return Promise.reject(Un(this));const n=e?De(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bt(this.app)?Promise.reject(Un(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bt(this.app)?Promise.reject(Un(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fq(this),n=new $q(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await qc.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ej(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Bt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&bq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yt(t){return De(t)}class qO{constructor(e){this.auth=e,this.observer=null,this.addObserver=WM(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hq(t){Vm=t}function nA(t){return Vm.loadJS(t)}function Gq(){return Vm.recaptchaV2Script}function Wq(){return Vm.recaptchaEnterpriseScript}function Yq(){return Vm.gapiScript}function Tj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=500,Xq=6e4,Lg=1e12;class Zq{constructor(e){this.auth=e,this.counter=Lg,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new t8(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Lg;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Lg;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Lg;return(r=this._widgets.get(n))==null||r.execute(),""}}class Jq{constructor(){this.enterprise=new e8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t8{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;he(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=n8(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Xq)},Qq))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function n8(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const r8="recaptcha-enterprise",Uh="NO_RECAPTCHA";class xj{constructor(e){this.type=r8,this.auth=Yt(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{dj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new fj(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function i(a,l,u){const f=window.grecaptcha;UO(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l(Uh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jq().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&UO(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Wq();f.length!==0&&(f+=u),nA(f).then(()=>{i(u,a,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function uh(t,e,n,r=!1,i=!1){const a=new xj(t);let l;if(i)l=Uh;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function To(t,e,n,r,i){var a,l;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uh(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uh(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await uh(t,e,n);return r(t,u).catch(async f=>{var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const m=await uh(t,e,n,!1,!0);return r(t,m)}return Promise.reject(f)})}else{const u=await uh(t,e,n,!1,!0);return r(t,u)}else return Promise.reject(i+" provider is not supported.")}async function i8(t){const e=Yt(t),n=await dj(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fj(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new xj(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t,e){const n=Nm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ms(a,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function s8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Aj(t,e,n){const r=Yt(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=Sj(e),{host:l,port:u}=o8(e),f=u===null?"":`:${u}`,d={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(ms(d,r.config.emulator)&&ms(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Cf(l)?(zM(`${a}//${l}${f}`),FM("Auth",!0)):i||l8()}function Sj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o8(t){const e=Sj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:$O(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:$O(l)}}}function $O(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ga("not implemented")}_getIdTokenResponse(e){return ga("not implemented")}_linkToIdToken(e,n){return ga("not implemented")}_getReauthenticationResolver(e){return ga("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e){return en(t,"POST","/v1/accounts:resetPassword",Jt(t,e))}async function u8(t,e){return en(t,"POST","/v1/accounts:update",e)}async function c8(t,e){return en(t,"POST","/v1/accounts:signUp",e)}async function f8(t,e){return en(t,"POST","/v1/accounts:update",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(t,e){return Ts(t,"POST","/v1/accounts:signInWithPassword",Jt(t,e))}async function zv(t,e){return en(t,"POST","/v1/accounts:sendOobCode",Jt(t,e))}async function h8(t,e){return zv(t,e)}async function m8(t,e){return zv(t,e)}async function p8(t,e){return zv(t,e)}async function g8(t,e){return zv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return Ts(t,"POST","/v1/accounts:signInWithEmailLink",Jt(t,e))}async function v8(t,e){return Ts(t,"POST","/v1/accounts:signInWithEmailLink",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends kf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new am(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new am(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return To(e,n,"signInWithPassword",d8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y8(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return To(e,r,"signUpPassword",c8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v8(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t,e){return Ts(t,"POST","/v1/accounts:signInWithIdp",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="http://localhost";class Aa extends kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Aa(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}buildRequest(){const e={requestUri:_8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return en(t,"POST","/v1/accounts:sendVerificationCode",Jt(t,e))}async function b8(t,e){return Ts(t,"POST","/v1/accounts:signInWithPhoneNumber",Jt(t,e))}async function w8(t,e){const n=await Ts(t,"POST","/v1/accounts:signInWithPhoneNumber",Jt(t,e));if(n.temporaryProof)throw Ih(t,"account-exists-with-different-credential",n);return n}const E8={USER_NOT_FOUND:"user-not-found"};async function T8(t,e){const n={...e,operation:"REAUTH"};return Ts(t,"POST","/v1/accounts:signInWithPhoneNumber",Jt(t,n),E8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends kf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new iu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new iu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return b8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return w8(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return T8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new iu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A8(t){const e=Bc(Sh(t)).link,n=e?Bc(Sh(e)).deep_link_id:null,r=Bc(Sh(t)).deep_link_id;return(r?Bc(Sh(r)).link:null)||r||n||e||t}class Fv{constructor(e){const n=Bc(Sh(e)),r=n.apiKey??null,i=n.oobCode??null,a=x8(n.mode??null);he(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=A8(e);try{return new Fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return am._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fv.parseLink(n);return he(r,"argument-error"),am._fromEmailAndCode(e,r.code,r.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $c extends Mf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return he("providerId"in n&&"signInMethod"in n,"argument-error"),Aa._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return he(e.idToken||e.accessToken,"argument-error"),Aa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return $c.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return $c.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:l,providerId:u}=e;if(!r&&!i&&!n&&!a||!u)return null;try{return new $c(u)._credential({idToken:n,accessToken:r,nonce:l,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Mf{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ha.credential(n,r)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Mf{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="http://localhost";class Jc extends kf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new Jc(r,a)}static _create(e,n){return new Jc(e,n)}buildRequest(){return{requestUri:S8,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="saml.";class Oy extends xs{constructor(e){he(e.startsWith(I8),"argument-error"),super(e)}static credentialFromResult(e){return Oy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Oy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Jc.fromJSON(e);return he(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Jc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Mf{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pa.credential(n,r)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e){return Ts(t,"POST","/v1/accounts:signUp",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Li._fromIdTokenResponse(e,r,i),l=HO(r);return new xi({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=HO(r);return new xi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function HO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t){var i;if(Bt(t.app))return Promise.reject(Un(t));const e=Yt(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new xi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await Rj(e,{returnSecureToken:!0}),r=await xi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends br{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cy(e,n,r,i)}}function Pj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Cy._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e){const n=De(t);await qv(!0,n,e);const{providerUserInfo:r}=await Oq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=Oj(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function rA(t,e,n=!1){const r=await gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",r)}async function qv(t,e,n){await im(e);const r=Oj(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";he(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e,n=!1){const{auth:r}=t;if(Bt(r.app))return Promise.reject(Un(r));const i="reauthenticate";try{const a=await gs(t,Pj(r,i,e,t),n);he(a.idToken,r,"internal-error");const l=Bv(a.idToken);he(l,r,"internal-error");const{sub:u}=l;return he(t.uid===u,r,"user-mismatch"),xi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e,n=!1){if(Bt(t.app))return Promise.reject(Un(t));const r="signIn",i=await Pj(t,r,e),a=await xi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function $v(t,e){return Dj(Yt(t),e)}async function Nj(t,e){const n=De(t);return await qv(!1,n,e.providerId),rA(n,e)}async function kj(t,e){return Cj(De(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e){return Ts(t,"POST","/v1/accounts:signInWithCustomToken",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e){if(Bt(t.app))return Promise.reject(Un(t));const n=Yt(t),r=await O8(n,{token:e,returnSecureToken:!0}),i=await xi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?iA._fromServerResponse(e,n):"totpInfo"in n?aA._fromServerResponse(e,n):zn(e,"internal-error")}}class iA extends Lm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new iA(n)}}class aA extends Lm{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new aA(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e,n){var r;he(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),he(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),he(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(he(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(he(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t){const e=Yt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mj(t,e,n){const r=Yt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Kv(r,i,n),await To(r,i,"getOobCode",m8,"EMAIL_PASSWORD_PROVIDER")}async function D8(t,e,n){await Ij(De(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sA(t),r})}async function N8(t,e){await f8(De(t),{oobCode:e})}async function jj(t,e){const n=De(t),r=await Ij(n,{oobCode:e}),i=r.requestType;switch(he(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(r.mfaInfo,n,"internal-error");default:he(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Lm._fromServerResponse(Yt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function k8(t,e){const{data:n}=await jj(De(t),e);return n.email}async function Vj(t,e,n){if(Bt(t.app))return Promise.reject(Un(t));const r=Yt(t),l=await To(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rj,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&sA(t),f}),u=await xi._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Lj(t,e,n){return Bt(t.app)?Promise.reject(Un(t)):$v(De(t),Ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t,e,n){const r=Yt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(l,u){he(u.handleCodeInApp,r,"argument-error"),u&&Kv(r,l,u)}a(i,n),await To(r,i,"getOobCode",p8,"EMAIL_PASSWORD_PROVIDER")}function j8(t,e){const n=Fv.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function V8(t,e,n){if(Bt(t.app))return Promise.reject(Un(t));const r=De(t),i=Ko.credentialWithLink(e,n||rm());return he(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$v(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e){return en(t,"POST","/v1/accounts:createAuthUri",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){const n=eA()?rm():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await L8(De(t),r);return i||[]}async function oA(t,e){const n=De(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Kv(n.auth,i,e);const{email:a}=await h8(n.auth,i);a!==t.email&&await t.reload()}async function B8(t,e,n){const r=De(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Kv(r.auth,a,n);const{email:l}=await g8(r.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){return en(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=De(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await gs(r,z8(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function q8(t,e){const n=De(t);return Bt(n.auth.app)?Promise.reject(Un(n.auth)):Uj(n,e,null)}function $8(t,e){return Uj(De(t),null,e)}async function Uj(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const l=await gs(t,u8(r,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const l=(a=(i=Bv(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Kc(r,u)}}if(!e)return null;switch(e){case"facebook.com":return new H8(r,n);case"github.com":return new G8(r,n);case"google.com":return new W8(r,n);case"twitter.com":return new Y8(r,n,t.screenName||null);case"custom":case"anonymous":return new Kc(r,null);default:return new Kc(r,e,n)}}class Kc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Bj extends Kc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class H8 extends Kc{constructor(e,n){super(e,"facebook.com",n)}}class G8 extends Bj{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class W8 extends Kc{constructor(e,n){super(e,"google.com",n)}}class Y8 extends Bj{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Q8(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:K8(n)}function X8(t,e,n,r){return De(t).onIdTokenChanged(e,n,r)}function Z8(t,e,n){return De(t).beforeAuthStateChanged(e,n)}function J8(t,e,n,r){return De(t).onAuthStateChanged(e,n,r)}function zj(t){return De(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Yl("enroll",e,n)}static _fromMfaPendingCredential(e){return new Yl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Yl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Yl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Yt(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(u=>Lm._fromServerResponse(r,u));he(i.mfaPendingCredential,r,"internal-error");const l=Yl._fromMfaPendingCredential(i.mfaPendingCredential);return new lA(l,a,async u=>{const f=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const d={...i,idToken:f.idToken,refreshToken:f.refreshToken};switch(n.operationType){case"signIn":const m=await xi._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return he(n.user,r,"internal-error"),xi._forOperation(n.user,n.operationType,d);default:zn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function e$(t,e){var i;const n=De(t),r=e;return he(e.customData.operationType,n,"argument-error"),he((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),lA._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e){return en(t,"POST","/v2/accounts/mfaEnrollment:start",Jt(t,e))}function t$(t,e){return en(t,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(t,e))}function n$(t,e){return en(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(t,e))}class uA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Lm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new uA(e)}async getSession(){return Yl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await gs(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await gs(this.user,n$(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const gw=new WeakMap;function r$(t){const e=De(t);return gw.has(e)||gw.set(e,uA._fromUser(e)),gw.get(e)}const Dy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dy,"1"),this.storage.removeItem(Dy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=1e3,a$=10;class qj extends Fj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Bq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,a$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qj.type="LOCAL";const Hv=qj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j extends Fj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$j.type="SESSION";const Do=$j;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(n.origin,a)),f=await s$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const d=Um("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return window}function l$(t){gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function u$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function f$(){return cA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebaseLocalStorageDb",d$=1,Ny="firebaseLocalStorage",Hj="fbase_key";class Bm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wv(t,e){return t.transaction([Ny],e?"readwrite":"readonly").objectStore(Ny)}function h$(){const t=indexedDB.deleteDatabase(Kj);return new Bm(t).toPromise()}function dT(){const t=indexedDB.open(Kj,d$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ny,{keyPath:Hj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ny)?e(r):(r.close(),await h$(),e(await dT()))})})}async function WO(t,e,n){const r=Wv(t,!0).put({[Hj]:e,value:n});return new Bm(r).toPromise()}async function m$(t,e){const n=Wv(t,!1).get(e),r=await new Bm(n).toPromise();return r===void 0?null:r.value}function YO(t,e){const n=Wv(t,!0).delete(e);return new Bm(n).toPromise()}const p$=800,g$=3;class Gj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gv._getInstance(f$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await u$(),!this.activeServiceWorker)return;this.sender=new o$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dT();return await WO(e,Dy,"1"),await YO(e,Dy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Wv(i,!1).getAll();return new Bm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gj.type="LOCAL";const ef=Gj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t,e){return en(t,"POST","/v2/accounts/mfaSignIn:start",Jt(t,e))}function y$(t,e){return en(t,"POST","/v2/accounts/mfaSignIn:finalize",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=Tj("rcb"),v$=new km(3e4,6e4);class _${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=gn().grecaptcha)!=null&&e.render)}load(e,n=""){return he(b$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&LO(gn().grecaptcha)?Promise.resolve(gn().grecaptcha):new Promise((r,i)=>{const a=gn().setTimeout(()=>{i(In(e,"network-request-failed"))},v$.get());gn()[yw]=()=>{gn().clearTimeout(a),delete gn()[yw];const u=gn().grecaptcha;if(!u||!LO(u)){i(In(e,"internal-error"));return}const f=u.render;u.render=(d,m)=>{const p=f(d,m);return this.counter++,p},this.hostLanguage=n,r(u)};const l=`${Gq()}?${Df({onload:yw,render:"explicit",hl:n})}`;nA(l).catch(()=>{clearTimeout(a),i(In(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=gn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function b$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class w${async load(e){return new Zq(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="recaptcha",E$={theme:"light",type:"image"};let T$=class{constructor(e,n,r={...E$}){this.parameters=r,this.type=Bh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(e),this.isInvisible=this.parameters.size==="invisible",he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;he(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new w$:new _$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=l=>{l&&(this.tokenChangeListeners.delete(a),i(l))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=gn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){he(eA()&&!cA(),this.auth,"internal-error"),await x$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Rq(this.auth);he(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function x$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=iu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function A$(t,e,n){if(Bt(t.app))return Promise.reject(Un(t));const r=Yt(t),i=await Yv(r,e,De(n));return new fA(i,a=>$v(r,a))}async function S$(t,e,n){const r=De(t);await qv(!1,r,"phone");const i=await Yv(r.auth,e,De(n));return new fA(i,a=>Nj(r,a))}async function I$(t,e,n){const r=De(t);if(Bt(r.auth.app))return Promise.reject(Un(r.auth));const i=await Yv(r.auth,e,De(n));return new fA(i,a=>kj(r,a))}async function Yv(t,e,n){var r;if(!t._getRecaptchaConfig())try{await i8(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){he(a.type==="enroll",t,"internal-error");const l={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await To(t,l,"mfaSmsEnrollment",async(m,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===Uh){he((n==null?void 0:n.type)===Bh,m,"argument-error");const v=await vw(m,p,n);return GO(m,v)}return GO(m,p)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{he(a.type==="signin",t,"internal-error");const l=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;he(l,t,"missing-multi-factor-info");const u={mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await To(t,u,"mfaSmsSignIn",async(p,v)=>{if(v.phoneSignInInfo.captchaResponse===Uh){he((n==null?void 0:n.type)===Bh,p,"argument-error");const b=await vw(p,v,n);return QO(p,b)}return QO(p,v)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await To(t,a,"sendVerificationCode",async(d,m)=>{if(m.captchaResponse===Uh){he((n==null?void 0:n.type)===Bh,d,"argument-error");const p=await vw(d,m,n);return KO(d,p)}return KO(d,m)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n==null||n._reset()}}async function R$(t,e){const n=De(t);if(Bt(n.auth.app))return Promise.reject(Un(n.auth));await rA(n,e)}async function vw(t,e,n){he(n.type===Bh,t,"argument-error");const r=await n.verify();he(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=class uy{constructor(e){this.providerId=uy.PROVIDER_ID,this.auth=Yt(e)}verifyPhoneNumber(e,n){return Yv(this.auth,e,De(n))}static credential(e,n){return iu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return uy.credentialFromTaggedObject(n)}static credentialFromError(e){return uy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?iu._fromTokenResponse(n,r):null}};cu.PROVIDER_ID="phone";cu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e){return e?Xr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P$(t){return Dj(t.auth,new dA(t),t.bypassAuthState)}function O$(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Cj(n,new dA(t),t.bypassAuthState)}async function C$(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),rA(n,new dA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P$;case"linkViaPopup":case"linkViaRedirect":return C$;case"reauthViaPopup":case"reauthViaRedirect":return O$;default:zn(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new km(2e3,1e4);async function N$(t,e,n){if(Bt(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const r=Yt(t);Nf(t,e,xs);const i=Ru(r,n);return new os(r,"signInViaPopup",e,i).executeNotNull()}async function k$(t,e,n){const r=De(t);if(Bt(r.auth.app))return Promise.reject(In(r.auth,"operation-not-supported-in-this-environment"));Nf(r.auth,e,xs);const i=Ru(r.auth,n);return new os(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function M$(t,e,n){const r=De(t);Nf(r.auth,e,xs);const i=Ru(r.auth,n);return new os(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class os extends Wj{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D$.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="pendingRedirect",zh=new Map;class V$ extends Wj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await L$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L$(t,e){const n=Qj(e),r=Yj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function hA(t,e){return Yj(t)._set(Qj(e),"true")}function U$(){zh.clear()}function mA(t,e){zh.set(t._key(),e)}function Yj(t){return Xr(t._redirectPersistence)}function Qj(t){return ru(j$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e,n){return z$(t,e,n)}async function z$(t,e,n){if(Bt(t.app))return Promise.reject(Un(t));const r=Yt(t);Nf(t,e,xs),await r._initializationPromise;const i=Ru(r,n);return await hA(i,r),i._openRedirect(r,e,"signInViaRedirect")}function F$(t,e,n){return q$(t,e,n)}async function q$(t,e,n){const r=De(t);if(Nf(r.auth,e,xs),Bt(r.auth.app))return Promise.reject(Un(r.auth));await r.auth._initializationPromise;const i=Ru(r.auth,n);await hA(i,r.auth);const a=await Xj(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function $$(t,e,n){return K$(t,e,n)}async function K$(t,e,n){const r=De(t);Nf(r.auth,e,xs),await r.auth._initializationPromise;const i=Ru(r.auth,n);await qv(!1,r,e.providerId),await hA(i,r.auth);const a=await Xj(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function H$(t,e){return await Yt(t)._initializationPromise,Qv(t,e,!1)}async function Qv(t,e,n=!1){if(Bt(t.app))return Promise.reject(Un(t));const r=Yt(t),i=Ru(r,e),l=await new V$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function Xj(t){const e=Um(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=600*1e3;class Zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jj(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G$&&this.cachedEventUids.clear(),this.cachedEventUids.has(XO(e))}saveEventToCache(e){this.cachedEventUids.add(XO(e)),this.lastProcessedEventTime=Date.now()}}function XO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e={}){return en(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q$=/^https?/;async function X$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eV(t);for(const n of e)try{if(Z$(n))return}catch{}zn(t,"unauthorized-domain")}function Z$(t){const e=rm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Q$.test(n))return!1;if(Y$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new km(3e4,6e4);function ZO(){const t=gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e7(t){return new Promise((e,n)=>{var i,a,l;function r(){ZO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZO(),n(In(t,"network-request-failed"))},timeout:J$.get()})}if((a=(i=gn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=gn().gapi)!=null&&l.load)r();else{const u=Tj("iframefcb");return gn()[u]=()=>{gapi.load?r():n(In(t,"network-request-failed"))},nA(`${Yq()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw cy=null,e})}let cy=null;function t7(t){return cy=cy||e7(t),cy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new km(5e3,15e3),r7="__/auth/iframe",i7="emulator/auth/iframe",a7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o7(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tA(e,i7):`https://${t.config.authDomain}/${r7}`,r={apiKey:e.apiKey,appName:t.name,v:$o},i=s7.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Df(r).slice(1)}`}async function l7(t){const e=await t7(t),n=gn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:o7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a7,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=In(t,"network-request-failed"),u=gn().setTimeout(()=>{a(l)},n7.get());function f(){gn().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c7=500,f7=600,d7="_blank",h7="http://localhost";class JO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m7(t,e,n,r=c7,i=f7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...u7,width:r.toString(),height:i.toString(),top:a,left:l},d=Wt().toLowerCase();n&&(u=yj(d)?d7:n),pj(d)&&(e=e||h7,f.scrollbars="yes");const m=Object.entries(f).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(Uq(d)&&u!=="_self")return p7(e||"",u),new JO(null);const p=window.open(e||"",u,m);he(p,t,"popup-blocked");try{p.focus()}catch{}return new JO(p)}function p7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="__/auth/handler",y7="emulator/auth/handler",v7=encodeURIComponent("fac");async function hT(t,e,n,r,i,a){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(e instanceof xs){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",nF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries(a||{}))l[m]=p}if(e instanceof Mf){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await t._getAppCheckToken(),d=f?`#${v7}=${encodeURIComponent(f)}`:"";return`${_7(t)}?${Df(u).slice(1)}${d}`}function _7({config:t}){return t.emulator?tA(t,y7):`https://${t.authDomain}/${g7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="webStorageSupport";class b7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Do,this._completeRedirectFn=Qv,this._overrideRedirectResult=mA}async _openPopup(e,n,r,i){var l;Fi((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await hT(e,n,r,rm(),i);return m7(e,a,Um())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await hT(e,n,r,rm(),i);return l$(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l7(e),r=new Zj(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_w,{type:_w},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[_w];a!==void 0&&n(!!a),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wj()||gj()||jm()}}const tV=b7;class w7{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ga("unexpected MultiFactorSessionType")}}}class pA extends w7{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pA(e)}_finalizeEnroll(e,n,r){return t$(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return y$(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class nV{constructor(){}static assertion(e){return pA._fromCredential(e)}}nV.FACTOR_ID="phone";var eC="@firebase/auth",tC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x7(t){Co(new xa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;he(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ej(t)},d=new Kq(r,i,a,f);return s8(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new xa("auth-internal",e=>{const n=Yt(e.getProvider("auth").getImmediate());return(r=>new E7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(eC,tC,T7(t)),Ui(eC,tC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=300,S7=BM("authIdTokenMaxAge")||A7;let nC=null;const I7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S7)return;const i=n==null?void 0:n.token;nC!==i&&(nC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R7(t=Qx()){const e=Nm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a8(t,{popupRedirectResolver:tV,persistence:[ef,Hv,Do]}),r=BM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=I7(a.toString());Z8(n,l,()=>l(n.currentUser)),X8(n,u=>l(u))}}const i=UM("auth");return i&&Aj(n,`http://${i}`),n}function P7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Hq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=In("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",P7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x7("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n){this._delegate=e,this.firebase=n,tm(e,new xa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Xx(this._delegate)))}_getService(e,n=Po){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Po){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){tm(this._delegate,e)}_addOrOverwriteComponent(e){JM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},rC=new Iu("app-compat","Firebase",C7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:Ui,setLogLevel:rj,onLog:nj,apps:null,SDK_VERSION:$o,INTERNAL:{registerComponent:u,removeApp:r,useAsService:f,modularAPIs:gq}};n.default=n,Object.defineProperty(n,"apps",{get:l});function r(d){delete e[d]}function i(d){if(d=d||Po,!RO(e,d))throw rC.create("no-app",{appName:d});return e[d]}i.App=t;function a(d,m={}){const p=Yx(d,m);if(RO(e,p.name))return e[p.name];const v=new t(p,n);return e[p.name]=v,v}function l(){return Object.keys(e).map(d=>e[d])}function u(d){const m=d.name,p=m.replace("-compat","");if(Co(d)&&d.type==="PUBLIC"){const v=(b=i())=>{if(typeof b[p]!="function")throw rC.create("invalid-app-argument",{appName:m});return b[p]()};d.serviceProps!==void 0&&Sy(v,d.serviceProps),n[p]=v,t.prototype[p]=function(...b){return this._getService.bind(this,m).apply(this,d.multipleInstances?b:[])}}return d.type==="PUBLIC"?n[p]:null}function f(d,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){const t=D7(O7);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:rV,extendNamespace:e,createSubscribe:WM,ErrorFactory:Iu,deepExtend:Sy};function e(n){Sy(t,n)}return t}const N7=rV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Uv("@firebase/app-compat"),k7="@firebase/app-compat",M7="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t){Ui(k7,M7,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=qx();if(t.firebase!==void 0){iC.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&iC.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const jf=N7;j7();var V7="firebase",L7="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jf.registerVersion(V7,L7,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=2e3;async function B7(t,e,n){const{BuildInfo:r}=fu();Fi(e.sessionId,"AuthEvent did not contain a session ID");const i=await K7(e.sessionId),a={};return jm()?a.ibi=r.packageName:Mm()?a.apn=r.packageName:zn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,hT(t,n,e.type,void 0,e.eventId??void 0,a)}async function z7(t){const{BuildInfo:e}=fu(),n={};jm()?n.iosBundleId=e.packageName:Mm()?n.androidPackageName=e.packageName:zn(t,"operation-not-supported-in-this-environment"),await eV(t,n)}function F7(t){const{cordova:e}=fu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Lq()?"_blank":"_system","location=yes"),n(i)})})}async function q7(t,e,n){const{cordova:r}=fu();let i=()=>{};try{await new Promise((a,l)=>{let u=null;function f(){var v;a();const p=(v=r.plugins.browsertab)==null?void 0:v.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){u||(u=window.setTimeout(()=>{l(In(t,"redirect-cancelled-by-user"))},U7))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),Mm()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function $7(t){var n,r,i,a,l,u,f,d,m,p;const e=fu();he(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he(typeof((l=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:l.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he(typeof((d=(f=(u=e==null?void 0:e.cordova)==null?void 0:u.plugins)==null?void 0:f.browsertab)==null?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he(typeof((p=(m=e==null?void 0:e.cordova)==null?void 0:m.InAppBrowser)==null?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function K7(t){const e=H7(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function H7(t){if(Fi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=20;class W7 extends Zj{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Y7(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Z7(),postBody:null,tenantId:t.tenantId,error:In(t,"no-auth-event")}}function Q7(t,e){return mT()._set(pT(t),e)}async function aC(t){const e=await mT()._get(pT(t));return e&&await mT()._remove(pT(t)),e}function X7(t,e){var r,i;const n=eK(e);if(n.includes("/__/auth/callback")){const a=fy(n),l=a.firebaseError?J7(decodeURIComponent(a.firebaseError)):null,u=(i=(r=l==null?void 0:l.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],f=u?In(u):null;return f?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Z7(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<G7;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function mT(){return Xr(Hv)}function pT(t){return ru("authEvent",t.config.apiKey,t.name)}function J7(t){try{return JSON.parse(t)}catch{return null}}function eK(t){const e=fy(t),n=e.link?decodeURIComponent(e.link):void 0,r=fy(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return fy(i).link||i||r||n||t}function fy(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Bc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=500;class nK{constructor(){this._redirectPersistence=Do,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qv,this._overrideRedirectResult=mA}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new W7(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){zn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){$7(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),U$(),await this._originValidation(e);const l=Y7(e,r,i);await Q7(e,l);const u=await B7(e,l,n),f=await F7(u);return q7(e,a,f)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z7(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=fu(),l=setTimeout(async()=>{await aC(e),n.onEvent(sC())},tK),u=async m=>{clearTimeout(l);const p=await aC(e);let v=null;p&&(m!=null&&m.url)&&(v=X7(p,m.url)),n.onEvent(v||sC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const f=i,d=`${a.packageName.toLowerCase()}://`;fu().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(d)&&u({url:m}),typeof f=="function")try{f(m)}catch(p){console.error(p)}}}}const rK=nK;function sC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:In("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(t,e){Yt(t)._logFramework(e)}var aK="@firebase/auth-compat",sK="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=1e3;function Fh(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function lK(){return Fh()==="http:"||Fh()==="https:"}function iV(t=Wt()){return!!((Fh()==="file:"||Fh()==="ionic:"||Fh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function uK(){return Kx()||Lv()}function cK(){return KM()&&(document==null?void 0:document.documentMode)===11}function fK(t=Wt()){return/Edge\/\d+/.test(t)}function dK(t=Wt()){return cK()||fK(t)}function aV(){try{const t=self.localStorage,e=Um();if(t)return t.setItem(e,"1"),t.removeItem(e),dK()?em():!0}catch{return gA()&&em()}return!1}function gA(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bw(){return(lK()||$M()||iV())&&!uK()&&aV()&&!gA()}function sV(){return iV()&&typeof document<"u"}async function hK(){return sV()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},oK);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function mK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={LOCAL:"local",NONE:"none",SESSION:"session"},ch=he,oV="persistence";function pK(t,e){if(ch(Object.values(Wr).includes(e),t,"invalid-persistence-type"),Kx()){ch(e!==Wr.SESSION,t,"unsupported-persistence-type");return}if(Lv()){ch(e===Wr.NONE,t,"unsupported-persistence-type");return}if(gA()){ch(e===Wr.NONE||e===Wr.LOCAL&&em(),t,"unsupported-persistence-type");return}ch(e===Wr.NONE||aV(),t,"unsupported-persistence-type")}async function gT(t){await t._initializationPromise;const e=lV(),n=ru(oV,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function gK(t,e){const n=lV();if(!n)return[];const r=ru(oV,t,e);switch(n.getItem(r)){case Wr.NONE:return[Zc];case Wr.LOCAL:return[ef,Do];case Wr.SESSION:return[Do];default:return[]}}function lV(){var t;try{return((t=mK())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=he;class _o{constructor(){this.browserResolver=Xr(tV),this.cordovaResolver=Xr(rK),this.underlyingResolver=null,this._redirectPersistence=Do,this._completeRedirectFn=Qv,this._overrideRedirectResult=mA}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sV()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await hK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){return t.unwrap()}function vK(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t){return cV(t)}function bK(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new wK(t,e$(t,e))}else if(n){const i=cV(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function cV(t){const{_tokenResponse:e}=t instanceof br?t.customData:t;if(!e)return null;if(!(t instanceof br)&&"temporaryProof"in e&&"phoneNumber"in e)return cu.credentialFromResult(t);const n=e.providerId;if(!n||n===lh.PASSWORD)return null;let r;switch(n){case lh.GOOGLE:r=ha;break;case lh.FACEBOOK:r=da;break;case lh.GITHUB:r=ma;break;case lh.TWITTER:r=pa;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:l,pendingToken:u,nonce:f}=e;return!a&&!l&&!i&&!u?null:u?n.startsWith("saml.")?Jc._create(n,u):Aa._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:i,accessToken:a}):new $c(n).credential({idToken:i,accessToken:a,rawNonce:f})}return t instanceof br?r.credentialFromError(t):r.credentialFromResult(t)}function Ir(t,e){return e.catch(n=>{throw n instanceof br&&bK(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:_K(n),additionalUserInfo:Q8(n),user:Xv.getOrCreate(i)}})}async function yT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Ir(t,n.confirm(r))}}class wK{constructor(e,n){this.resolver=n,this.auth=vK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ir(uV(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv=class Rh{constructor(e){this._delegate=e,this.multiFactor=r$(e)}static getOrCreate(e){return Rh.USER_MAP.has(e)||Rh.USER_MAP.set(e,new Rh(e)),Rh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ir(this.auth,Nj(this._delegate,e))}async linkWithPhoneNumber(e,n){return yT(this.auth,S$(this._delegate,e,n))}async linkWithPopup(e){return Ir(this.auth,M$(this._delegate,e,_o))}async linkWithRedirect(e){return await gT(Yt(this.auth)),$$(this._delegate,e,_o)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ir(this.auth,kj(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return yT(this.auth,I$(this._delegate,e,n))}reauthenticateWithPopup(e){return Ir(this.auth,k$(this._delegate,e,_o))}async reauthenticateWithRedirect(e){return await gT(Yt(this.auth)),F$(this._delegate,e,_o)}sendEmailVerification(e){return oA(this._delegate,e)}async unlink(e){return await P8(this._delegate,e),this}updateEmail(e){return q8(this._delegate,e)}updatePassword(e){return $8(this._delegate,e)}updatePhoneNumber(e){return R$(this._delegate,e)}updateProfile(e){return F8(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return B8(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Xv.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=he;let vT=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;fh(r,"invalid-api-key",{appName:e.name}),fh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?_o:void 0;this._delegate=n.initialize({options:{persistence:EK(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(vq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xv.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Aj(this._delegate,e,n)}applyActionCode(e){return N8(this._delegate,e)}checkActionCode(e){return jj(this._delegate,e)}confirmPasswordReset(e,n){return D8(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Ir(this._delegate,Vj(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return U8(this._delegate,e)}isSignInWithEmailLink(e){return j8(this._delegate,e)}async getRedirectResult(){fh(bw(),this._delegate,"operation-not-supported-in-this-environment");const e=await H$(this._delegate,_o);return e?Ir(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){iK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:l}=oC(e,n,r);return this._delegate.onAuthStateChanged(i,a,l)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:l}=oC(e,n,r);return this._delegate.onIdTokenChanged(i,a,l)}sendSignInLinkToEmail(e,n){return M8(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Mj(this._delegate,e,n||void 0)}async setPersistence(e){pK(this._delegate,e);let n;switch(e){case Wr.SESSION:n=Do;break;case Wr.LOCAL:n=await Xr(ef)._isAvailable()?ef:Hv;break;case Wr.NONE:n=Zc;break;default:return zn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ir(this._delegate,R8(this._delegate))}signInWithCredential(e){return Ir(this._delegate,$v(this._delegate,e))}signInWithCustomToken(e){return Ir(this._delegate,C8(this._delegate,e))}signInWithEmailAndPassword(e,n){return Ir(this._delegate,Lj(this._delegate,e,n))}signInWithEmailLink(e,n){return Ir(this._delegate,V8(this._delegate,e,n))}signInWithPhoneNumber(e,n){return yT(this._delegate,A$(this._delegate,e,n))}async signInWithPopup(e){return fh(bw(),this._delegate,"operation-not-supported-in-this-environment"),Ir(this._delegate,N$(this._delegate,e,_o))}async signInWithRedirect(e){return fh(bw(),this._delegate,"operation-not-supported-in-this-environment"),await gT(this._delegate),B$(this._delegate,e,_o)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return k8(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};vT.Persistence=Wr;function oC(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:l=>i(l&&Xv.getOrCreate(l)),error:e,complete:n}}function EK(t,e){const n=gK(t,e);if(typeof self<"u"&&!n.includes(ef)&&n.push(ef),typeof window<"u")for(const r of[Hv,Do])n.includes(r)||n.push(r);return n.includes(Zc)||n.push(Zc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static credential(e,n){return cu.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new cu(uV(jf.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}yA.PHONE_SIGN_IN_METHOD=cu.PHONE_SIGN_IN_METHOD;yA.PROVIDER_ID=cu.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=he;class xK{constructor(e,n,r=jf.app()){var i;TK((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new T$(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK="auth-compat";function SK(t){t.INTERNAL.registerComponent(new xa(AK,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new vT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ic.EMAIL_SIGNIN,PASSWORD_RESET:Ic.PASSWORD_RESET,RECOVER_EMAIL:Ic.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ic.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ic.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ic.VERIFY_EMAIL}},EmailAuthProvider:Ko,FacebookAuthProvider:da,GithubAuthProvider:ma,GoogleAuthProvider:ha,OAuthProvider:$c,SAMLAuthProvider:Oy,PhoneAuthProvider:yA,PhoneMultiFactorGenerator:nV,RecaptchaVerifier:xK,TwitterAuthProvider:pa,Auth:vT,AuthCredential:kf,Error:br}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(aK,sK)}SK(jf);var lC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,fV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,D){function M(){}M.prototype=D.prototype,N.D=D.prototype,N.prototype=new M,N.prototype.constructor=N,N.C=function(z,U,F){for(var V=Array(arguments.length-2),be=2;be<arguments.length;be++)V[be-2]=arguments[be];return D.prototype[U].apply(z,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,D,M){M||(M=0);var z=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)z[U]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(U=0;16>U;++U)z[U]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=N.g[0],M=N.g[1],U=N.g[2];var F=N.g[3],V=D+(F^M&(U^F))+z[0]+3614090360&4294967295;D=M+(V<<7&4294967295|V>>>25),V=F+(U^D&(M^U))+z[1]+3905402710&4294967295,F=D+(V<<12&4294967295|V>>>20),V=U+(M^F&(D^M))+z[2]+606105819&4294967295,U=F+(V<<17&4294967295|V>>>15),V=M+(D^U&(F^D))+z[3]+3250441966&4294967295,M=U+(V<<22&4294967295|V>>>10),V=D+(F^M&(U^F))+z[4]+4118548399&4294967295,D=M+(V<<7&4294967295|V>>>25),V=F+(U^D&(M^U))+z[5]+1200080426&4294967295,F=D+(V<<12&4294967295|V>>>20),V=U+(M^F&(D^M))+z[6]+2821735955&4294967295,U=F+(V<<17&4294967295|V>>>15),V=M+(D^U&(F^D))+z[7]+4249261313&4294967295,M=U+(V<<22&4294967295|V>>>10),V=D+(F^M&(U^F))+z[8]+1770035416&4294967295,D=M+(V<<7&4294967295|V>>>25),V=F+(U^D&(M^U))+z[9]+2336552879&4294967295,F=D+(V<<12&4294967295|V>>>20),V=U+(M^F&(D^M))+z[10]+4294925233&4294967295,U=F+(V<<17&4294967295|V>>>15),V=M+(D^U&(F^D))+z[11]+2304563134&4294967295,M=U+(V<<22&4294967295|V>>>10),V=D+(F^M&(U^F))+z[12]+1804603682&4294967295,D=M+(V<<7&4294967295|V>>>25),V=F+(U^D&(M^U))+z[13]+4254626195&4294967295,F=D+(V<<12&4294967295|V>>>20),V=U+(M^F&(D^M))+z[14]+2792965006&4294967295,U=F+(V<<17&4294967295|V>>>15),V=M+(D^U&(F^D))+z[15]+1236535329&4294967295,M=U+(V<<22&4294967295|V>>>10),V=D+(U^F&(M^U))+z[1]+4129170786&4294967295,D=M+(V<<5&4294967295|V>>>27),V=F+(M^U&(D^M))+z[6]+3225465664&4294967295,F=D+(V<<9&4294967295|V>>>23),V=U+(D^M&(F^D))+z[11]+643717713&4294967295,U=F+(V<<14&4294967295|V>>>18),V=M+(F^D&(U^F))+z[0]+3921069994&4294967295,M=U+(V<<20&4294967295|V>>>12),V=D+(U^F&(M^U))+z[5]+3593408605&4294967295,D=M+(V<<5&4294967295|V>>>27),V=F+(M^U&(D^M))+z[10]+38016083&4294967295,F=D+(V<<9&4294967295|V>>>23),V=U+(D^M&(F^D))+z[15]+3634488961&4294967295,U=F+(V<<14&4294967295|V>>>18),V=M+(F^D&(U^F))+z[4]+3889429448&4294967295,M=U+(V<<20&4294967295|V>>>12),V=D+(U^F&(M^U))+z[9]+568446438&4294967295,D=M+(V<<5&4294967295|V>>>27),V=F+(M^U&(D^M))+z[14]+3275163606&4294967295,F=D+(V<<9&4294967295|V>>>23),V=U+(D^M&(F^D))+z[3]+4107603335&4294967295,U=F+(V<<14&4294967295|V>>>18),V=M+(F^D&(U^F))+z[8]+1163531501&4294967295,M=U+(V<<20&4294967295|V>>>12),V=D+(U^F&(M^U))+z[13]+2850285829&4294967295,D=M+(V<<5&4294967295|V>>>27),V=F+(M^U&(D^M))+z[2]+4243563512&4294967295,F=D+(V<<9&4294967295|V>>>23),V=U+(D^M&(F^D))+z[7]+1735328473&4294967295,U=F+(V<<14&4294967295|V>>>18),V=M+(F^D&(U^F))+z[12]+2368359562&4294967295,M=U+(V<<20&4294967295|V>>>12),V=D+(M^U^F)+z[5]+4294588738&4294967295,D=M+(V<<4&4294967295|V>>>28),V=F+(D^M^U)+z[8]+2272392833&4294967295,F=D+(V<<11&4294967295|V>>>21),V=U+(F^D^M)+z[11]+1839030562&4294967295,U=F+(V<<16&4294967295|V>>>16),V=M+(U^F^D)+z[14]+4259657740&4294967295,M=U+(V<<23&4294967295|V>>>9),V=D+(M^U^F)+z[1]+2763975236&4294967295,D=M+(V<<4&4294967295|V>>>28),V=F+(D^M^U)+z[4]+1272893353&4294967295,F=D+(V<<11&4294967295|V>>>21),V=U+(F^D^M)+z[7]+4139469664&4294967295,U=F+(V<<16&4294967295|V>>>16),V=M+(U^F^D)+z[10]+3200236656&4294967295,M=U+(V<<23&4294967295|V>>>9),V=D+(M^U^F)+z[13]+681279174&4294967295,D=M+(V<<4&4294967295|V>>>28),V=F+(D^M^U)+z[0]+3936430074&4294967295,F=D+(V<<11&4294967295|V>>>21),V=U+(F^D^M)+z[3]+3572445317&4294967295,U=F+(V<<16&4294967295|V>>>16),V=M+(U^F^D)+z[6]+76029189&4294967295,M=U+(V<<23&4294967295|V>>>9),V=D+(M^U^F)+z[9]+3654602809&4294967295,D=M+(V<<4&4294967295|V>>>28),V=F+(D^M^U)+z[12]+3873151461&4294967295,F=D+(V<<11&4294967295|V>>>21),V=U+(F^D^M)+z[15]+530742520&4294967295,U=F+(V<<16&4294967295|V>>>16),V=M+(U^F^D)+z[2]+3299628645&4294967295,M=U+(V<<23&4294967295|V>>>9),V=D+(U^(M|~F))+z[0]+4096336452&4294967295,D=M+(V<<6&4294967295|V>>>26),V=F+(M^(D|~U))+z[7]+1126891415&4294967295,F=D+(V<<10&4294967295|V>>>22),V=U+(D^(F|~M))+z[14]+2878612391&4294967295,U=F+(V<<15&4294967295|V>>>17),V=M+(F^(U|~D))+z[5]+4237533241&4294967295,M=U+(V<<21&4294967295|V>>>11),V=D+(U^(M|~F))+z[12]+1700485571&4294967295,D=M+(V<<6&4294967295|V>>>26),V=F+(M^(D|~U))+z[3]+2399980690&4294967295,F=D+(V<<10&4294967295|V>>>22),V=U+(D^(F|~M))+z[10]+4293915773&4294967295,U=F+(V<<15&4294967295|V>>>17),V=M+(F^(U|~D))+z[1]+2240044497&4294967295,M=U+(V<<21&4294967295|V>>>11),V=D+(U^(M|~F))+z[8]+1873313359&4294967295,D=M+(V<<6&4294967295|V>>>26),V=F+(M^(D|~U))+z[15]+4264355552&4294967295,F=D+(V<<10&4294967295|V>>>22),V=U+(D^(F|~M))+z[6]+2734768916&4294967295,U=F+(V<<15&4294967295|V>>>17),V=M+(F^(U|~D))+z[13]+1309151649&4294967295,M=U+(V<<21&4294967295|V>>>11),V=D+(U^(M|~F))+z[4]+4149444226&4294967295,D=M+(V<<6&4294967295|V>>>26),V=F+(M^(D|~U))+z[11]+3174756917&4294967295,F=D+(V<<10&4294967295|V>>>22),V=U+(D^(F|~M))+z[2]+718787259&4294967295,U=F+(V<<15&4294967295|V>>>17),V=M+(F^(U|~D))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,D){D===void 0&&(D=N.length);for(var M=D-this.blockSize,z=this.B,U=this.h,F=0;F<D;){if(U==0)for(;F<=M;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<D;)if(z[U++]=N.charCodeAt(F++),U==this.blockSize){i(this,z),U=0;break}}else for(;F<D;)if(z[U++]=N[F++],U==this.blockSize){i(this,z),U=0;break}}this.h=U,this.o+=D},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;var M=8*this.o;for(D=N.length-8;D<N.length;++D)N[D]=M&255,M/=256;for(this.u(N),N=Array(16),D=M=0;4>D;++D)for(var z=0;32>z;z+=8)N[M++]=this.g[D]>>>z&255;return N};function a(N,D){var M=u;return Object.prototype.hasOwnProperty.call(M,N)?M[N]:M[N]=D(N)}function l(N,D){this.h=D;for(var M=[],z=!0,U=N.length-1;0<=U;U--){var F=N[U]|0;z&&F==D||(M[U]=F,z=!1)}this.g=M}var u={};function f(N){return-128<=N&&128>N?a(N,function(D){return new l([D|0],0>D?-1:0)}):new l([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return x(d(-N));for(var D=[],M=1,z=0;N>=M;z++)D[z]=N/M|0,M*=4294967296;return new l(D,0)}function m(N,D){if(N.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N.charAt(0)=="-")return x(m(N.substring(1),D));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(D,8)),z=p,U=0;U<N.length;U+=8){var F=Math.min(8,N.length-U),V=parseInt(N.substring(U,U+F),D);8>F?(F=d(Math.pow(D,F)),z=z.j(F).add(d(V))):(z=z.j(M),z=z.add(d(V)))}return z}var p=f(0),v=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(w(this))return-x(this).m();for(var N=0,D=1,M=0;M<this.g.length;M++){var z=this.i(M);N+=(0<=z?z:4294967296+z)*D,D*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(w(this))return"-"+x(this).toString(N);for(var D=d(Math.pow(N,6)),M=this,z="";;){var U=B(M,D).g;M=P(M,U.j(D));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(N);if(M=U,T(M))return F+z;for(;6>F.length;)F="0"+F;z=F+z}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var D=0;D<N.g.length;D++)if(N.g[D]!=0)return!1;return!0}function w(N){return N.h==-1}t.l=function(N){return N=P(this,N),w(N)?-1:T(N)?0:1};function x(N){for(var D=N.g.length,M=[],z=0;z<D;z++)M[z]=~N.g[z];return new l(M,~N.h).add(v)}t.abs=function(){return w(this)?x(this):this},t.add=function(N){for(var D=Math.max(this.g.length,N.g.length),M=[],z=0,U=0;U<=D;U++){var F=z+(this.i(U)&65535)+(N.i(U)&65535),V=(F>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);z=V>>>16,F&=65535,V&=65535,M[U]=V<<16|F}return new l(M,M[M.length-1]&-2147483648?-1:0)};function P(N,D){return N.add(x(D))}t.j=function(N){if(T(this)||T(N))return p;if(w(this))return w(N)?x(this).j(x(N)):x(x(this).j(N));if(w(N))return x(this.j(x(N)));if(0>this.l(b)&&0>N.l(b))return d(this.m()*N.m());for(var D=this.g.length+N.g.length,M=[],z=0;z<2*D;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(var U=0;U<N.g.length;U++){var F=this.i(z)>>>16,V=this.i(z)&65535,be=N.i(U)>>>16,Se=N.i(U)&65535;M[2*z+2*U]+=V*Se,C(M,2*z+2*U),M[2*z+2*U+1]+=F*Se,C(M,2*z+2*U+1),M[2*z+2*U+1]+=V*be,C(M,2*z+2*U+1),M[2*z+2*U+2]+=F*be,C(M,2*z+2*U+2)}for(z=0;z<D;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=D;z<2*D;z++)M[z]=0;return new l(M,0)};function C(N,D){for(;(N[D]&65535)!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function O(N,D){this.g=N,this.h=D}function B(N,D){if(T(D))throw Error("division by zero");if(T(N))return new O(p,p);if(w(N))return D=B(x(N),D),new O(x(D.g),x(D.h));if(w(D))return D=B(N,x(D)),new O(x(D.g),D.h);if(30<N.g.length){if(w(N)||w(D))throw Error("slowDivide_ only works with positive integers.");for(var M=v,z=D;0>=z.l(N);)M=L(M),z=L(z);var U=q(M,1),F=q(z,1);for(z=q(z,2),M=q(M,2);!T(z);){var V=F.add(z);0>=V.l(N)&&(U=U.add(M),F=V),z=q(z,1),M=q(M,1)}return D=P(N,U.j(D)),new O(U,D)}for(U=p;0<=N.l(D);){for(M=Math.max(1,Math.floor(N.m()/D.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),F=d(M),V=F.j(D);w(V)||0<V.l(N);)M-=z,F=d(M),V=F.j(D);T(F)&&(F=v),U=U.add(F),N=P(N,V)}return new O(U,N)}t.A=function(N){return B(this,N).h},t.and=function(N){for(var D=Math.max(this.g.length,N.g.length),M=[],z=0;z<D;z++)M[z]=this.i(z)&N.i(z);return new l(M,this.h&N.h)},t.or=function(N){for(var D=Math.max(this.g.length,N.g.length),M=[],z=0;z<D;z++)M[z]=this.i(z)|N.i(z);return new l(M,this.h|N.h)},t.xor=function(N){for(var D=Math.max(this.g.length,N.g.length),M=[],z=0;z<D;z++)M[z]=this.i(z)^N.i(z);return new l(M,this.h^N.h)};function L(N){for(var D=N.g.length+1,M=[],z=0;z<D;z++)M[z]=N.i(z)<<1|N.i(z-1)>>>31;return new l(M,N.h)}function q(N,D){var M=D>>5;D%=32;for(var z=N.g.length-M,U=[],F=0;F<z;F++)U[F]=0<D?N.i(F+M)>>>D|N.i(F+M+1)<<32-D:N.i(F+M);return new l(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fV=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,xo=l}).apply(typeof lC<"u"?lC:typeof self<"u"?self:typeof window<"u"?window:{});var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dV,Ph,hV,dy,_T,mV,pV,gV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,S){return g==Array.prototype||g==Object.prototype||(g[E]=S.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ug=="object"&&Ug];for(var E=0;E<g.length;++E){var S=g[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(g,E){if(E)e:{var S=r;g=g.split(".");for(var j=0;j<g.length-1;j++){var W=g[j];if(!(W in S))break e;S=S[W]}g=g[g.length-1],j=S[g],E=E(j),E!=j&&E!=null&&e(S,g,{configurable:!0,writable:!0,value:E})}}function a(g,E){g instanceof String&&(g+="");var S=0,j=!1,W={next:function(){if(!j&&S<g.length){var ne=S++;return{value:E(ne,g[ne]),done:!1}}return j=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(g){return g||function(){return a(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function d(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function m(g,E,S){return g.call.apply(g.bind,arguments)}function p(g,E,S){if(!g)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,j),g.apply(E,W)}}return function(){return g.apply(E,arguments)}}function v(g,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,v.apply(null,arguments)}function b(g,E){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function T(g,E){function S(){}S.prototype=E.prototype,g.aa=E.prototype,g.prototype=new S,g.prototype.constructor=g,g.Qb=function(j,W,ne){for(var ge=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ge[tt-2]=arguments[tt];return E.prototype[W].apply(j,ge)}}function w(g){const E=g.length;if(0<E){const S=Array(E);for(let j=0;j<E;j++)S[j]=g[j];return S}return[]}function x(g,E){for(let S=1;S<arguments.length;S++){const j=arguments[S];if(f(j)){const W=g.length||0,ne=j.length||0;g.length=W+ne;for(let ge=0;ge<ne;ge++)g[W+ge]=j[ge]}else g.push(j)}}class P{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function C(g){return/^[\s\xa0]*$/.test(g)}function O(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function B(g){return B[" "](g),g}B[" "]=function(){};var L=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function q(g,E,S){for(const j in g)E.call(S,g[j],j,g)}function N(g,E){for(const S in g)E.call(void 0,g[S],S,g)}function D(g){const E={};for(const S in g)E[S]=g[S];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,E){let S,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(S in j)g[S]=j[S];for(let ne=0;ne<M.length;ne++)S=M[ne],Object.prototype.hasOwnProperty.call(j,S)&&(g[S]=j[S])}}function U(g){var E=1;g=g.split(":");const S=[];for(;0<E&&g.length;)S.push(g.shift()),E--;return g.length&&S.push(g.join(":")),S}function F(g){u.setTimeout(()=>{throw g},0)}function V(){var g=xe;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class be{constructor(){this.h=this.g=null}add(E,S){const j=Se.get();j.set(E,S),this.h?this.h.next=j:this.g=j,this.h=j}}var Se=new P(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,pe=!1,xe=new be,$=()=>{const g=u.Promise.resolve(void 0);ie=()=>{g.then(oe)}};var oe=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(S){F(S)}var E=Se;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}pe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};u.addEventListener("test",S,E),u.removeEventListener("test",S,E)}catch{}return g})();function Ne(g,E){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var S=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(L){e:{try{B(E.nodeName);var W=!0;break e}catch{}W=!1}W||(E=null)}}else S=="mouseover"?E=g.fromElement:S=="mouseout"&&(E=g.toElement);this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:je[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ne.aa.h.call(this)}}T(Ne,me);var je={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),ct=0;function we(g,E,S,j,W){this.listener=g,this.proxy=null,this.src=E,this.type=S,this.capture=!!j,this.ha=W,this.key=++ct,this.da=this.fa=!1}function Be(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ve(g){this.src=g,this.g={},this.h=0}Ve.prototype.add=function(g,E,S,j,W){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var ge=St(g,E,j,W);return-1<ge?(E=g[ge],S||(E.fa=!1)):(E=new we(E,this.src,ne,!!j,W),E.fa=S,g.push(E)),E};function de(g,E){var S=E.type;if(S in g.g){var j=g.g[S],W=Array.prototype.indexOf.call(j,E,void 0),ne;(ne=0<=W)&&Array.prototype.splice.call(j,W,1),ne&&(Be(E),g.g[S].length==0&&(delete g.g[S],g.h--))}}function St(g,E,S,j){for(var W=0;W<g.length;++W){var ne=g[W];if(!ne.da&&ne.listener==E&&ne.capture==!!S&&ne.ha==j)return W}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),Nt={};function tn(g,E,S,j,W){if(Array.isArray(E)){for(var ne=0;ne<E.length;ne++)tn(g,E[ne],S,j,W);return null}return S=vt(S),g&&g[Kt]?g.K(E,S,d(j)?!!j.capture:!1,W):Ht(g,E,S,!1,j,W)}function Ht(g,E,S,j,W,ne){if(!E)throw Error("Invalid event type");var ge=d(W)?!!W.capture:!!W,tt=ye(g);if(tt||(g[ze]=tt=new Ve(g)),S=tt.add(E,S,j,ge,ne),S.proxy)return S;if(j=Ms(),S.proxy=j,j.src=g,j.listener=S,g.addEventListener)Re||(W=ge),W===void 0&&(W=!1),g.addEventListener(E.toString(),j,W);else if(g.attachEvent)g.attachEvent(Ri(E.toString()),j);else if(g.addListener&&g.removeListener)g.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ms(){function g(S){return E.call(g.src,g.listener,S)}const E=ed;return g}function Hi(g,E,S,j,W){if(Array.isArray(E))for(var ne=0;ne<E.length;ne++)Hi(g,E[ne],S,j,W);else j=d(j)?!!j.capture:!!j,S=vt(S),g&&g[Kt]?(g=g.i,E=String(E).toString(),E in g.g&&(ne=g.g[E],S=St(ne,S,j,W),-1<S&&(Be(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete g.g[E],g.h--)))):g&&(g=ye(g))&&(E=g.g[E.toString()],g=-1,E&&(g=St(E,S,j,W)),(S=-1<g?E[g]:null)&&Ca(S))}function Ca(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Kt])de(E.i,g);else{var S=g.type,j=g.proxy;E.removeEventListener?E.removeEventListener(S,j,g.capture):E.detachEvent?E.detachEvent(Ri(S),j):E.addListener&&E.removeListener&&E.removeListener(j),(S=ye(E))?(de(S,g),S.h==0&&(S.src=null,E[ze]=null)):Be(g)}}}function Ri(g){return g in Nt?Nt[g]:Nt[g]="on"+g}function ed(g,E){if(g.da)g=!0;else{E=new Ne(E,this);var S=g.listener,j=g.ha||g.src;g.fa&&Ca(g),g=S.call(j,E)}return g}function ye(g){return g=g[ze],g instanceof Ve?g:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(g){return typeof g=="function"?g:(g[Ke]||(g[Ke]=function(E){return g.handleEvent(E)}),g[Ke])}function He(){se.call(this),this.i=new Ve(this),this.M=this,this.F=null}T(He,se),He.prototype[Kt]=!0,He.prototype.removeEventListener=function(g,E,S,j){Hi(this,g,E,S,j)};function qe(g,E){var S,j=g.F;if(j)for(S=[];j;j=j.F)S.push(j);if(g=g.M,j=E.type||E,typeof E=="string")E=new me(E,g);else if(E instanceof me)E.target=E.target||g;else{var W=E;E=new me(j,g),z(E,W)}if(W=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ge=E.g=S[ne];W=_t(ge,j,!0,E)&&W}if(ge=E.g=g,W=_t(ge,j,!0,E)&&W,W=_t(ge,j,!1,E)&&W,S)for(ne=0;ne<S.length;ne++)ge=E.g=S[ne],W=_t(ge,j,!1,E)&&W}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var S=g.g[E],j=0;j<S.length;j++)Be(S[j]);delete g.g[E],g.h--}}this.F=null},He.prototype.K=function(g,E,S,j){return this.i.add(String(g),E,!1,S,j)},He.prototype.L=function(g,E,S,j){return this.i.add(String(g),E,!0,S,j)};function _t(g,E,S,j){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,ne=0;ne<E.length;++ne){var ge=E[ne];if(ge&&!ge.da&&ge.capture==S){var tt=ge.listener,En=ge.ha||ge.src;ge.fa&&de(g.i,ge),W=tt.call(En,j)!==!1&&W}}return W&&!j.defaultPrevented}function jt(g,E,S){if(typeof g=="function")S&&(g=v(g,S));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function Gi(g){g.g=jt(()=>{g.g=null,g.i&&(g.i=!1,Gi(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Da extends se{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nl(g){se.call(this),this.h=g,this.g={}}T(nl,se);var rl=[];function il(g){q(g.g,function(E,S){this.g.hasOwnProperty(S)&&Ca(E)},g),g.g={}}nl.prototype.N=function(){nl.aa.N.call(this),il(this)},nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=u.JSON.stringify,Vu=u.JSON.parse,al=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function td(){}td.prototype.h=null;function nd(g){return g.h||(g.h=g.i())}function rd(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ka(){me.call(this,"d")}T(ka,me);function id(){me.call(this,"c")}T(id,me);var Wi={},ad=null;function js(){return ad=ad||new He}Wi.La="serverreachability";function Lu(g){me.call(this,Wi.La,g)}T(Lu,me);function Vs(g){const E=js();qe(E,new Lu(E))}Wi.STAT_EVENT="statevent";function yp(g,E){me.call(this,Wi.STAT_EVENT,g),this.stat=E}T(yp,me);function Vt(g){const E=js();qe(E,new yp(E,g))}Wi.Ma="timingevent";function wn(g,E){me.call(this,Wi.Ma,g),this.size=E}T(wn,me);function fn(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function sd(g,E,S,j,W,ne){g.info(function(){if(g.g)if(ne)for(var ge="",tt=ne.split("&"),En=0;En<tt.length;En++){var nt=tt[En].split("=");if(1<nt.length){var Dn=nt[0];nt=nt[1];var Tn=Dn.split("_");ge=2<=Tn.length&&Tn[1]=="type"?ge+(Dn+"="+nt+"&"):ge+(Dn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+E+`
`+S+`
`+ge})}function s_(g,E,S,j,W,ne,ge){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+E+`
`+S+`
`+ne+" "+ge})}function Ls(g,E,S,j){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+sl(g,S)+(j?" "+j:"")})}function vp(g,E){g.info(function(){return"TIMEOUT: "+E})}ai.prototype.info=function(){};function sl(g,E){if(!g.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(g=0;g<S.length;g++)if(Array.isArray(S[g])){var j=S[g];if(!(2>j.length)){var W=j[1];if(Array.isArray(W)&&!(1>W.length)){var ne=W[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<W.length;ge++)W[ge]=""}}}}return Pi(S)}catch{return E}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ma={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Qi(){}T(Qi,td),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},Yi=new Qi;function dr(g,E,S,j){this.j=g,this.i=E,this.l=S,this.R=j||1,this.U=new nl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var od={},Uu={};function Oi(g,E,S){g.L=1,g.v=fl(jr(E)),g.m=S,g.P=!0,ja(g,null)}function ja(g,E){g.F=Date.now(),ol(g),g.A=jr(g.v);var S=g.A,j=g.R;Array.isArray(j)||(j=[String(j)]),hd(S.i,"t",j),g.C=0,S=g.j.J,g.h=new nn,g.g=kp(g.j,S?E:null,!g.m),0<g.O&&(g.M=new Da(v(g.Y,g,g.g),g.O)),E=g.U,S=g.g,j=g.ca;var W="readystatechange";Array.isArray(W)||(W&&(rl[0]=W.toString()),W=rl);for(var ne=0;ne<W.length;ne++){var ge=tn(S,W[ne],j||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),Vs(),sd(g.i,g.u,g.A,g.l,g.R,g.m)}dr.prototype.ca=function(g){g=g.target;const E=this.M;E&&ui(g)==3?E.j():this.Y(g)},dr.prototype.Y=function(g){try{if(g==this.g)e:{const Tn=ui(this.g);var E=this.g.Ba();const $a=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||Sp(this.g)))){this.J||Tn!=4||E==7||(E==8||0>=$a?Vs(3):Vs(2)),Bs(this);var S=this.g.Z();this.X=S;t:if(_p(this)){var j=Sp(this.g);g="";var W=j.length,ne=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Xi(this);var ge="";break t}this.h.i=new u.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,g+=this.h.i.decode(j[E],{stream:!(ne&&E==W-1)});j.length=0,this.h.g+=g,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,s_(this.i,this.u,this.A,this.l,this.R,Tn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,En=this.g;if((tt=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(tt)){var nt=tt;break t}}nt=null}if(S=nt)Ls(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ll(this,S);else{this.o=!1,this.s=3,Vt(12),Hn(this),Xi(this);break e}}if(this.P){S=!0;let Gn;for(;!this.J&&this.C<ge.length;)if(Gn=bp(this,ge),Gn==Uu){Tn==4&&(this.s=4,Vt(14),S=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==od){this.s=4,Vt(15),Ls(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else Ls(this.i,this.l,Gn,null),ll(this,Gn);if(_p(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||ge.length!=0||this.h.h||(this.s=1,Vt(16),S=!1),this.o=this.o&&S,!S)Ls(this.i,this.l,ge,"[Invalid Chunked Response]"),Hn(this),Xi(this);else if(0<ge.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),_l(Dn),Dn.M=!0,Vt(11))}}else Ls(this.i,this.l,ge,null),ll(this,ge);Tn==4&&Hn(this),this.o&&!this.J&&(Tn==4?Cp(this.j,this):(this.o=!1,ol(this)))}else f_(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Hn(this),Xi(this)}}}catch{}finally{}};function _p(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function bp(g,E){var S=g.C,j=E.indexOf(`
`,S);return j==-1?Uu:(S=Number(E.substring(S,j)),isNaN(S)?od:(j+=1,j+S>E.length?Uu:(E=E.slice(j,j+S),g.C=j+S,E)))}dr.prototype.cancel=function(){this.J=!0,Hn(this)};function ol(g){g.S=Date.now()+g.I,wp(g,g.I)}function wp(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=fn(v(g.ba,g),E)}function Bs(g){g.B&&(u.clearTimeout(g.B),g.B=null)}dr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(vp(this.i,this.A),this.L!=2&&(Vs(),Vt(17)),Hn(this),this.s=2,Xi(this)):wp(this,this.S-g)};function Xi(g){g.j.G==0||g.J||Cp(g.j,g)}function Hn(g){Bs(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,il(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function ll(g,E){try{var S=g.j;if(S.G!=0&&(S.g==g||ld(S.h,g))){if(!g.K&&ld(S.h,g)&&S.G==3){try{var j=S.Da.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<g.F)Xu(S),Yu(S);else break e;vd(S),Vt(18)}}else S.za=W[1],0<S.za-S.T&&37500>W[2]&&S.F&&S.v==0&&!S.C&&(S.C=fn(v(S.Za,S),6e3));if(1>=zu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else qa(S,11)}else if((g.K||S.g==g)&&Xu(S),!C(E))for(W=S.Da.g.parse(E),E=0;E<W.length;E++){let nt=W[E];if(S.T=nt[0],nt=nt[1],S.G==2)if(nt[0]=="c"){S.K=nt[1],S.ia=nt[2];const Dn=nt[3];Dn!=null&&(S.la=Dn,S.j.info("VER="+S.la));const Tn=nt[4];Tn!=null&&(S.Aa=Tn,S.j.info("SVER="+S.Aa));const $a=nt[5];$a!=null&&typeof $a=="number"&&0<$a&&(j=1.5*$a,S.L=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Gn=g.g;if(Gn){const ia=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var ne=j.h;ne.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Fu(ne,ne.h),ne.h=null))}if(j.D){const bd=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;bd&&(j.ya=bd,bt(j.I,j.D,bd))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-g.F,S.j.info("Handshake RTT: "+S.R+"ms")),j=S;var ge=g;if(j.qa=Np(j,j.J?j.ia:null,j.W),ge.K){hr(j.h,ge);var tt=ge,En=j.L;En&&(tt.I=En),tt.B&&(Bs(tt),ol(tt)),j.g=ge}else Pp(j);0<S.i.length&&Qu(S)}else nt[0]!="stop"&&nt[0]!="close"||qa(S,7);else S.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?qa(S,7):gd(S):nt[0]!="noop"&&S.l&&S.l.ta(nt),S.v=0)}}Vs(4)}catch{}}var Ep=class{constructor(g,E){this.g=g,this.map=E}};function Va(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function zu(g){return g.h?1:g.g?g.g.size:0}function ld(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Fu(g,E){g.g?g.g.add(E):g.h=E}function hr(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Va.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ud(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const S of g.g.values())E=E.concat(S.D);return E}return w(g.i)}function o_(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var E=[],S=g.length,j=0;j<S;j++)E.push(g[j]);return E}E=[],S=0;for(j in g)E[S++]=g[j];return E}function qu(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var E=[];g=g.length;for(var S=0;S<g;S++)E.push(S);return E}E=[],S=0;for(const j in g)E[S++]=j;return E}}}function cd(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var S=qu(g),j=o_(g),W=j.length,ne=0;ne<W;ne++)E.call(void 0,j[ne],S&&S[ne],g)}var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l_(g,E){if(g){g=g.split("&");for(var S=0;S<g.length;S++){var j=g[S].indexOf("="),W=null;if(0<=j){var ne=g[S].substring(0,j);W=g[S].substring(j+1)}else ne=g[S];E(ne,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function dn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof dn){this.h=g.h,cl(this,g.j),this.o=g.o,this.g=g.g,zs(this,g.s),this.l=g.l;var E=g.i,S=new Ua;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),La(this,S),this.m=g.m}else g&&(E=String(g).match(ul))?(this.h=!1,cl(this,E[1]||"",!0),this.o=si(E[2]||""),this.g=si(E[3]||"",!0),zs(this,E[4]),this.l=si(E[5]||"",!0),La(this,E[6]||"",!0),this.m=si(E[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}dn.prototype.toString=function(){var g=[],E=this.j;E&&g.push(dl(E,fd,!0),":");var S=this.g;return(S||E=="file")&&(g.push("//"),(E=this.o)&&g.push(dl(E,fd,!0),"@"),g.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&g.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(dl(S,S.charAt(0)=="/"?u_:dd,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",dl(S,$u)),g.join("")};function jr(g){return new dn(g)}function cl(g,E,S){g.j=S?si(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function zs(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function La(g,E,S){E instanceof Ua?(g.i=E,xp(g.i,g.h)):(S||(E=dl(E,c_)),g.i=new Ua(E,g.h))}function bt(g,E,S){g.i.set(E,S)}function fl(g){return bt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function si(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function dl(g,E,S){return typeof g=="string"?(g=encodeURI(g).replace(E,Tp),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Tp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var fd=/[#\/\?@]/g,dd=/[#\?:]/g,u_=/[#\?]/g,c_=/[#\?@]/g,$u=/#/g;function Ua(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function oi(g){g.g||(g.g=new Map,g.h=0,g.i&&l_(g.i,function(E,S){g.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}t=Ua.prototype,t.add=function(g,E){oi(this),this.i=null,g=Zi(this,g);var S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(E),this.h+=1,this};function Ba(g,E){oi(g),E=Zi(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function za(g,E){return oi(g),E=Zi(g,E),g.g.has(E)}t.forEach=function(g,E){oi(this),this.g.forEach(function(S,j){S.forEach(function(W){g.call(E,W,j,this)},this)},this)},t.na=function(){oi(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let j=0;j<E.length;j++){const W=g[j];for(let ne=0;ne<W.length;ne++)S.push(E[j])}return S},t.V=function(g){oi(this);let E=[];if(typeof g=="string")za(this,g)&&(E=E.concat(this.g.get(Zi(this,g))));else{g=Array.from(this.g.values());for(let S=0;S<g.length;S++)E=E.concat(g[S])}return E},t.set=function(g,E){return oi(this),this.i=null,g=Zi(this,g),za(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function hd(g,E,S){Ba(g,E),0<S.length&&(g.i=null,g.g.set(Zi(g,E),w(S)),g.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var j=E[S];const ne=encodeURIComponent(String(j)),ge=this.V(j);for(j=0;j<ge.length;j++){var W=ne;ge[j]!==""&&(W+="="+encodeURIComponent(String(ge[j]))),g.push(W)}}return this.i=g.join("&")};function Zi(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function xp(g,E){E&&!g.j&&(oi(g),g.i=null,g.g.forEach(function(S,j){var W=j.toLowerCase();j!=W&&(Ba(this,j),hd(this,W,S))},g)),g.j=E}function hl(g,E){const S=new ai;if(u.Image){const j=new Image;j.onload=b(li,S,"TestLoadImage: loaded",!0,E,j),j.onerror=b(li,S,"TestLoadImage: error",!1,E,j),j.onabort=b(li,S,"TestLoadImage: abort",!1,E,j),j.ontimeout=b(li,S,"TestLoadImage: timeout",!1,E,j),u.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else E(!1)}function Ci(g,E){const S=new ai,j=new AbortController,W=setTimeout(()=>{j.abort(),li(S,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:j.signal}).then(ne=>{clearTimeout(W),ne.ok?li(S,"TestPingServer: ok",!0,E):li(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),li(S,"TestPingServer: error",!1,E)})}function li(g,E,S,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(S)}catch{}}function ml(){this.g=new al}function Ji(g,E,S){const j=S||"";try{cd(g,function(W,ne){let ge=W;d(W)&&(ge=Pi(W)),E.push(j+ne+"="+encodeURIComponent(ge))})}catch(W){throw E.push(j+"type="+encodeURIComponent("_badmap")),W}}function Fs(g){this.l=g.Ub||null,this.j=g.eb||!1}T(Fs,td),Fs.prototype.g=function(){return new Fa(this.l,this.j)},Fs.prototype.i=(function(g){return function(){return g}})({});function Fa(g,E){He.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Fa,He),t=Fa.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,ta(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;md(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function md(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?ea(this):ta(this),this.readyState==3&&md(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ea(this))},t.Qa=function(g){this.g&&(this.response=g,ea(this))},t.ga=function(){this.g&&ea(this)};function ea(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ta(g)}t.setRequestHeader=function(g,E){this.u.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=E.next();return g.join(`\r
`)};function ta(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function pd(g){let E="";return q(g,function(S,j){E+=j,E+=":",E+=S,E+=`\r
`}),E}function Cn(g,E,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=pd(S),typeof g=="string"?S!=null&&encodeURIComponent(String(S)):bt(g,E,S))}function ft(g){He.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ft,He);var Ku=/^https?$/i,pl=["POST","PUT"];t=ft.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,E,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?nd(this.o):nd(Yi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(ne){Ap(this,ne);return}if(g=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)S.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ne of j.keys())S.set(ne,j.get(ne));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(pl,E,void 0))||j||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of S)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){Ap(this,ne)}};function Ap(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,Hu(g),na(g)}function Hu(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,qe(this,"complete"),qe(this,"abort"),na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),na(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gu(this):this.bb())},t.bb=function(){Gu(this)};function Gu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ui(g)!=4||g.Z()!=2)){if(g.u&&ui(g)==4)jt(g.Ea,0,g);else if(qe(g,"readystatechange"),ui(g)==4){g.h=!1;try{const ge=g.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var j;if(j=ge===0){var W=String(g.D).match(ul)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),j=!Ku.test(W?W.toLowerCase():"")}S=j}if(S)qe(g,"complete"),qe(g,"success");else{g.m=6;try{var ne=2<ui(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",Hu(g)}}finally{na(g)}}}}function na(g,E){if(g.g){gl(g);const S=g.g,j=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||qe(g,"ready");try{S.onreadystatechange=j}catch{}}}function gl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function ui(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Vu(E)}};function Sp(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function f_(g){const E={};g=(g.g&&2<=ui(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<g.length;j++){if(C(g[j]))continue;var S=U(g[j]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=E[W]||[];E[W]=ne,ne.push(S)}N(E,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yl(g,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||E}function Wu(g){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yl("baseRetryDelayMs",5e3,g),this.cb=yl("retryDelaySeedMs",1e4,g),this.Wa=yl("forwardChannelMaxRetries",2,g),this.wa=yl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Va(g&&g.concurrentRequestLimit),this.Da=new ml,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wu.prototype,t.la=8,t.G=1,t.connect=function(g,E,S,j){Vt(0),this.W=g,this.H=E||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.I=Np(this,null,this.W),Qu(this)};function gd(g){if(Ip(g),g.G==3){var E=g.U++,S=jr(g.I);if(bt(S,"SID",g.K),bt(S,"RID",E),bt(S,"TYPE","terminate"),vl(g,S),E=new dr(g,g.j,E),E.L=2,E.v=fl(jr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=E.v,S=!0),S||(E.g=kp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ol(E)}Dp(g)}function Yu(g){g.g&&(_l(g),g.g.cancel(),g.g=null)}function Ip(g){Yu(g),g.u&&(u.clearTimeout(g.u),g.u=null),Xu(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Qu(g){if(!Bu(g.h)&&!g.s){g.s=!0;var E=g.Ga;ie||$(),pe||(ie(),pe=!0),xe.add(E,g),g.B=0}}function d_(g,E){return zu(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=fn(v(g.Ga,g,E),_d(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const W=new dr(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=D(ne),z(ne,this.S)):ne=this.S),this.m!==null||this.O||(W.H=ne,ne=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Rp(this,W,E),S=jr(this.I),bt(S,"RID",g),bt(S,"CVER",22),this.D&&bt(S,"X-HTTP-Session-Id",this.D),vl(this,S),ne&&(this.O?E="headers="+encodeURIComponent(String(pd(ne)))+"&"+E:this.m&&Cn(S,this.m,ne)),Fu(this.h,W),this.Ua&&bt(S,"TYPE","init"),this.P?(bt(S,"$req",E),bt(S,"SID","null"),W.T=!0,Oi(W,S,null)):Oi(W,S,E),this.G=2}}else this.G==3&&(g?yd(this,g):this.i.length==0||Bu(this.h)||yd(this))};function yd(g,E){var S;E?S=E.l:S=g.U++;const j=jr(g.I);bt(j,"SID",g.K),bt(j,"RID",S),bt(j,"AID",g.T),vl(g,j),g.m&&g.o&&Cn(j,g.m,g.o),S=new dr(g,g.j,S,g.B+1),g.m===null&&(S.H=g.o),E&&(g.i=E.D.concat(g.i)),E=Rp(g,S,1e3),S.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Fu(g.h,S),Oi(S,j,E)}function vl(g,E){g.H&&q(g.H,function(S,j){bt(E,j,S)}),g.l&&cd({},function(S,j){bt(E,j,S)})}function Rp(g,E,S){S=Math.min(g.i.length,S);var j=g.l?v(g.l.Na,g.l,g):null;e:{var W=g.i;let ne=-1;for(;;){const ge=["count="+S];ne==-1?0<S?(ne=W[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let tt=!0;for(let En=0;En<S;En++){let nt=W[En].g;const Dn=W[En].map;if(nt-=ne,0>nt)ne=Math.max(0,W[En].g-100),tt=!1;else try{Ji(Dn,ge,"req"+nt+"_")}catch{j&&j(Dn)}}if(tt){j=ge.join("&");break e}}}return g=g.i.splice(0,S),E.D=g,j}function Pp(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;ie||$(),pe||(ie(),pe=!0),xe.add(E,g),g.v=0}}function vd(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=fn(v(g.Fa,g),_d(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Op(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=fn(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Yu(this),Op(this))};function _l(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Op(g){g.g=new dr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=jr(g.qa);bt(E,"RID","rpc"),bt(E,"SID",g.K),bt(E,"AID",g.T),bt(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&bt(E,"TO",g.ja),bt(E,"TYPE","xmlhttp"),vl(g,E),g.m&&g.o&&Cn(E,g.m,g.o),g.L&&(g.g.I=g.L);var S=g.g;g=g.ia,S.L=1,S.v=fl(jr(E)),S.m=null,S.P=!0,ja(S,g)}t.Za=function(){this.C!=null&&(this.C=null,Yu(this),vd(this),Vt(19))};function Xu(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Cp(g,E){var S=null;if(g.g==E){Xu(g),_l(g),g.g=null;var j=2}else if(ld(g.h,E))S=E.D,hr(g.h,E),j=1;else return;if(g.G!=0){if(E.o)if(j==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var W=g.B;j=js(),qe(j,new wn(j,S)),Qu(g)}else Pp(g);else if(W=E.s,W==3||W==0&&0<E.X||!(j==1&&d_(g,E)||j==2&&vd(g)))switch(S&&0<S.length&&(E=g.h,E.i=E.i.concat(S)),W){case 1:qa(g,5);break;case 4:qa(g,10);break;case 3:qa(g,6);break;default:qa(g,2)}}}function _d(g,E){let S=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(S*=2),S*E}function qa(g,E){if(g.j.info("Error code "+E),E==2){var S=v(g.fb,g),j=g.Xa;const W=!j;j=new dn(j||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cl(j,"https"),fl(j),W?hl(j.toString(),S):Ci(j.toString(),S)}else Vt(2);g.G=0,g.l&&g.l.sa(E),Dp(g),Ip(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Dp(g){if(g.G=0,g.ka=[],g.l){const E=ud(g.h);(E.length!=0||g.i.length!=0)&&(x(g.ka,E),x(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function Np(g,E,S){var j=S instanceof dn?jr(S):new dn(S);if(j.g!="")E&&(j.g=E+"."+j.g),zs(j,j.s);else{var W=u.location;j=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var ne=new dn(null);j&&cl(ne,j),E&&(ne.g=E),W&&zs(ne,W),S&&(ne.l=S),j=ne}return S=g.D,E=g.ya,S&&E&&bt(j,S,E),bt(j,"VER",g.la),vl(g,j),j}function kp(g,E,S){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new ft(new Fs({eb:S})):new ft(g.pa),E.Ha(g.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mp(){}t=Mp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zu(){}Zu.prototype.g=function(g,E){return new mr(g,E)};function mr(g,E){He.call(this),this.g=new Wu(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!C(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!C(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new ra(this)}T(mr,He),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){gd(this.g)},mr.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.u&&(S={},S.__data__=Pi(g),g=S);E.i.push(new Ep(E.Ya++,g)),E.G==3&&Qu(E)},mr.prototype.N=function(){this.g.l=null,delete this.j,gd(this.g),delete this.g,mr.aa.N.call(this)};function jp(g){ka.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const S in E){g=S;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}T(jp,ka);function Vp(){id.call(this),this.status=1}T(Vp,id);function ra(g){this.g=g}T(ra,Mp),ra.prototype.ua=function(){qe(this.g,"a")},ra.prototype.ta=function(g){qe(this.g,new jp(g))},ra.prototype.sa=function(g){qe(this.g,new Vp)},ra.prototype.ra=function(){qe(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,gV=function(){return new Zu},pV=function(){return js()},mV=Wi,_T={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,dy=Us,Ma.COMPLETE="complete",hV=Ma,rd.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",He.prototype.listen=He.prototype.K,Ph=rd,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,dV=ft}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});const uC="@firebase/firestore",cC="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Uv("@firebase/firestore");function Mc(){return No.logLevel}function IK(t){No.setLogLevel(t)}function fe(t,...e){if(No.logLevel<=Ze.DEBUG){const n=e.map(vA);No.debug(`Firestore (${Vf}): ${t}`,...n)}}function on(t,...e){if(No.logLevel<=Ze.ERROR){const n=e.map(vA);No.error(`Firestore (${Vf}): ${t}`,...n)}}function Sa(t,...e){if(No.logLevel<=Ze.WARN){const n=e.map(vA);No.warn(`Firestore (${Vf}): ${t}`,...n)}}function vA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yV(t,r,n)}function yV(t,e,n){let r=`FIRESTORE (${Vf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw on(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yV(e,i,r)}function RK(t,e){t||Ee(57014,e)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ln.UNAUTHENTICATED)))}shutdown(){}}class OK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CK{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new nr,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new vV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class DK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new DK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function bT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return ww(i)===ww(a)?Fe(i,a):ww(i)?1:-1}return Fe(t.length,e.length)}const jK=55296,VK=57343;function ww(t){const e=t.charCodeAt(0);return e>=jK&&e<=VK}function tf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function _V(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__name__";class ca{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ca?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ca.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=ca.isNumericId(e),i=ca.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ca.extractNumericId(e).compare(ca.extractNumericId(n)):bT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class Je extends ca{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const LK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends ca{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return LK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dC}static keyField(){return new zt([dC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Je.fromString(e))}static fromName(e){return new ve(Je.fromString(e).popFirst(5))}static empty(){return new ve(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bV(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hC(t){if(!ve.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mC(t){if(ve.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function st(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zv(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function EV(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){const n={typeString:t};return e&&(n.value=e),n}function zm(t,e){if(!wV(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=-62135596800,gC=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gC);return new dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pC)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gC}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zm(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:vn("string",dt._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new dt(0,0))}static max(){return new Pe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=-1;class ky{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function wT(t){return t.fields.find((e=>e.kind===2))}function Ul(t){return t.fields.filter((e=>e.kind!==2))}ky.UNKNOWN_ID=-1;class hy{constructor(e,n){this.fieldPath=e,this.kind=n}}class sm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new sm(0,ei.min())}}function TV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new ei(i,ve.empty(),e)}function xV(t){return new ei(t.readTime,t.key,nf)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(Pe.min(),ve.empty(),nf)}static max(){return new ei(Pe.max(),ve.empty(),nf)}}function wA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==AV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const d=f;n(e[d]).next((m=>{l[d]=m,++u,u===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="SimpleDb";class Jv{static open(e,n,r,i){try{return new Jv(n,e.transaction(i,r))}catch(a){throw new qh(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new nr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new qh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=EA(r.target.error);this.S.reject(new qh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(fe(Hr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new BK(n)}}class ba{static delete(e){return fe(Hr,"Removing database:",e),$l(qx().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!em())return!1;if(ba.F())return!0;const e=Wt(),n=ba.M(e),r=0<n&&n<10,i=IV(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ba.M(Wt())===12.2&&on("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(fe(Hr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const l=a.target.result;n(l)},i.onblocked=()=>{r(new qh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new qh(e,l))},i.onupgradeneeded=a=>{fe(Hr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,i.transaction,a.oldVersion,this.version).next((()=>{fe(Hr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Jv.open(this.db,e,a?"readonly":"readwrite",r),f=i(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Y.reject(d)))).toPromise();return f.catch((()=>{})),await u.D,f}catch(u){const f=u,d=f.name!=="FirebaseError"&&l<3;if(fe(Hr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class UK{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return $l(this.U.delete())}}class qh extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Go(t){return t.name==="IndexedDbTransactionError"}class BK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(fe(Hr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(fe(Hr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$l(r)}add(e){return fe(Hr,"ADD",this.store.name,e,e),$l(this.store.add(e))}get(e){return $l(this.store.get(e)).next((n=>(n===void 0&&(n=null),fe(Hr,"GET",this.store.name,e,n),n)))}delete(e){return fe(Hr,"DELETE",this.store.name,e),$l(this.store.delete(e))}count(){return fe(Hr,"COUNT",this.store.name),$l(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Y(((l,u)=>{a.onerror=f=>{u(f.target.error)},a.onsuccess=f=>{l(f.target.result)}}))}{const a=this.cursor(r),l=[];return this.H(a,((u,f)=>{l.push(f)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){fe(Hr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,l,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=a=>{const l=EA(a.target.error);i(l)},n.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Y(((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const f=new UK(u),d=n(u.primaryKey,u.value,f);if(d instanceof Y){const m=d.catch((p=>(f.done(),Y.reject(p))));r.push(m)}f.isDone?i():f.G===null?u.continue():u.continue(f.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $l(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=EA(r.target.error);n(i)}}))}let yC=!1;function EA(t){const e=ba.M(Wt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yC||(yC=!0,setTimeout((()=>{throw r}),0)),r}}return t}const $h="IndexBackfiller";class zK{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){fe($h,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();fe($h,`Documents written: ${n}`)}catch(n){Go(n)?fe($h,"Ignoring IndexedDB error during index backfill: ",n):await Ho(n)}await this.re(6e4)}))}}class FK{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Y.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return fe($h,`Processing collection: ${l}`),this.oe(e,l,i).next((u=>{i-=u,r.add(l)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,a))).next((u=>(fe($h,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const l=xV(a);wA(l,r)>0&&(r=l)})),new ei(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=-1;function Fm(t){return t==null}function om(t){return t===0&&1/t==-1/0}function RV(t){return typeof t=="number"&&Number.isInteger(t)&&!om(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="";function cr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vC(e)),e=qK(t.get(n),e);return vC(e)}function qK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case My:n+="";break;default:n+=a}}return n}function vC(t){return t+My+""}function ya(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===My&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const l=t.indexOf(My,a);switch((l<0||l>n)&&Ee(50515,{path:t}),t.charAt(l+1)){case"":const u=t.substring(a,l);let f;i.length===0?f=u:(i+=u,f=i,i=""),r.push(f);break;case"":i+=t.substring(a,l),i+="\0";break;case"":i+=t.substring(a,l+1);break;default:Ee(61167,{path:t})}a=l+2}return new Je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="remoteDocuments",qm="owner",Rc="owner",lm="mutationQueues",$K="userId",Mi="mutations",_C="batchId",Ql="userMutationsIndex",bC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){return[t,cr(e)]}function PV(t,e,n){return[t,cr(e),n]}const KK={},rf="documentMutations",jy="remoteDocumentsV14",HK=["prefixPath","collectionGroup","readTime","documentId"],py="documentKeyIndex",GK=["prefixPath","collectionGroup","documentId"],OV="collectionGroupIndex",WK=["collectionGroup","readTime","prefixPath","documentId"],um="remoteDocumentGlobal",ET="remoteDocumentGlobalKey",af="targets",CV="queryTargetsIndex",YK=["canonicalId","targetId"],sf="targetDocuments",QK=["targetId","path"],TA="documentTargetsIndex",XK=["path","targetId"],Vy="targetGlobalKey",au="targetGlobal",cm="collectionParents",ZK=["collectionId","parent"],of="clientMetadata",JK="clientId",e0="bundles",eH="bundleId",t0="namedQueries",tH="name",xA="indexConfiguration",nH="indexId",TT="collectionGroupIndex",rH="collectionGroup",Kh="indexState",iH=["indexId","uid"],DV="sequenceNumberIndex",aH=["uid","sequenceNumber"],Hh="indexEntries",sH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NV="documentKeyIndex",oH=["indexId","uid","orderedDocumentKey"],n0="documentOverlays",lH=["userId","collectionPath","documentId"],xT="collectionPathOverlayIndex",uH=["userId","collectionPath","largestBatchId"],kV="collectionGroupOverlayIndex",cH=["userId","collectionGroup","largestBatchId"],AA="globals",fH="name",MV=[lm,Mi,rf,Bl,af,qm,au,sf,of,um,cm,e0,t0],dH=[...MV,n0],jV=[lm,Mi,rf,jy,af,qm,au,sf,of,um,cm,e0,t0,n0],VV=jV,SA=[...VV,xA,Kh,Hh],hH=SA,LV=[...SA,AA],mH=LV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends SV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Rn(t,e){const n=_e(t);return ba.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bg(this.root,e,this.comparator,!0)}}class Bg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=a??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EC(this.data.getIterator())}getIteratorFrom(e){return new EC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class EC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new yt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BV("Invalid base64 string: "+a):a}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const gH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=gH.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="server_timestamp",FV="__type__",qV="__previous_value__",$V="__local_write_time__";function r0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FV])==null?void 0:r.stringValue)===zV}function i0(t){const e=t.mapValue.fields[qV];return r0(e)?i0(e):e}function fm(t){const e=ys(t.mapValue.fields[$V].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,i,a,l,u,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Ly="(default)";class ko{constructor(e,n){this.projectId=e,this.database=n||Ly}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Ly}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="__type__",KV="__max__",bo={mapValue:{fields:{__type__:{stringValue:KV}}}},RA="__vector__",lf="value",gy={nullValue:"NULL_VALUE"};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r0(t)?4:HV(t)?9007199254740991:a0(t)?10:11:Ee(28295,{value:t})}function Ia(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fm(t).isEqual(fm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ys(i.timestampValue),u=ys(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return vs(i.bytesValue).isEqual(vs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ut(i.geoPointValue.latitude)===Ut(a.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ut(i.integerValue)===Ut(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ut(i.doubleValue),u=Ut(a.doubleValue);return l===u?om(l)===om(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return tf(t.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(wC(l)!==wC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ia(l[f],u[f])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function dm(t,e){return(t.values||[]).find((n=>Ia(n,e)))!==void 0}function jo(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Ut(a.integerValue||a.doubleValue),f=Ut(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return TC(t.timestampValue,e.timestampValue);case 4:return TC(fm(t),fm(e));case 5:return bT(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=vs(a),f=vs(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=Fe(u[d],f[d]);if(m!==0)return m}return Fe(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Fe(Ut(a.latitude),Ut(l.latitude));return u!==0?u:Fe(Ut(a.longitude),Ut(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xC(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var v,b,T,w;const u=a.fields||{},f=l.fields||{},d=(v=u[lf])==null?void 0:v.arrayValue,m=(b=f[lf])==null?void 0:b.arrayValue,p=Fe(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((w=m==null?void 0:m.values)==null?void 0:w.length)||0);return p!==0?p:xC(d,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===bo.mapValue&&l===bo.mapValue)return 0;if(a===bo.mapValue)return 1;if(l===bo.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const v=bT(f[p],m[p]);if(v!==0)return v;const b=jo(u[f[p]],d[m[p]]);if(b!==0)return b}return Fe(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function TC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ys(t),r=ys(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function xC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=jo(n[i],r[i]);if(a)return a}return Fe(n.length,r.length)}function uf(t){return ST(t)}function ST(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return vs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=ST(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${ST(n.fields[l])}`;return i+"}"})(t.mapValue):Ee(61005,{value:t})}function yy(t){switch(Mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=i0(t);return e?16+yy(e):16;case 5:return 2*t.stringValue.length;case 6:return vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+yy(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Wo(r.fields,((a,l)=>{i+=a.length+yy(l)})),i})(t.mapValue);default:throw Ee(13486,{value:t})}}function du(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IT(t){return!!t&&"integerValue"in t}function hm(t){return!!t&&"arrayValue"in t}function AC(t){return!!t&&"nullValue"in t}function SC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vy(t){return!!t&&"mapValue"in t}function a0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IA])==null?void 0:r.stringValue)===RA}function Gh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gh(t.arrayValue.values[n]);return e}return{...t}}function HV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KV}const GV={mapValue:{fields:{[IA]:{stringValue:RA},[lf]:{arrayValue:{}}}}};function vH(t){return"nullValue"in t?gy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?du(ko.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?a0(t)?GV:{mapValue:{}}:Ee(35942,{value:t})}function _H(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?du(ko.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?GV:"mapValue"in t?a0(t)?{mapValue:{}}:bo:Ee(61959,{value:t})}function IC(t,e){const n=jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function RC(t,e){const n=jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Gh(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());vy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new er(Gh(this.value))}}function WV(t){const e=[];return Wo(t.fields,((n,r)=>{const i=new zt([n]);if(vy(r)){const a=WV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Mt(e,0,Pe.min(),Pe.min(),Pe.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,Pe.min(),Pe.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,Pe.min(),Pe.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.position=e,this.inclusive=n}}function PC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),n.key):r=jo(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function OC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n="asc"){this.field=e,this.dir=n}}function bH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{}class et extends YV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wH(e,n,r):n==="array-contains"?new xH(e,r):n==="in"?new tL(e,r):n==="not-in"?new AH(e,r):n==="array-contains-any"?new SH(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EH(e,r):new TH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gt extends YV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gt(e,n)}matches(e){return cf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cf(t){return t.op==="and"}function RT(t){return t.op==="or"}function PA(t){return QV(t)&&cf(t)}function QV(t){for(const e of t.filters)if(e instanceof gt)return!1;return!0}function PT(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+uf(t.value);if(PA(t))return t.filters.map((e=>PT(e))).join(",");{const e=t.filters.map((n=>PT(n))).join(",");return`${t.op}(${e})`}}function XV(t,e){return t instanceof et?(function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)})(t,e):t instanceof gt?(function(r,i){return i instanceof gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&XV(l,i.filters[u])),!0):!1})(t,e):void Ee(19439)}function ZV(t,e){const n=t.filters.concat(e);return gt.create(n,t.op)}function JV(t){return t instanceof et?(function(n){return`${n.field.canonicalString()} ${n.op} ${uf(n.value)}`})(t):t instanceof gt?(function(n){return n.op.toString()+" {"+n.getFilters().map(JV).join(" ,")+"}"})(t):"Filter"}class wH extends et{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class EH extends et{constructor(e,n){super(e,"in",n),this.keys=eL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TH extends et{constructor(e,n){super(e,"not-in",n),this.keys=eL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class xH extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hm(n)&&dm(n.arrayValue,this.value)}}class tL extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dm(this.value.arrayValue,n)}}class AH extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(dm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dm(this.value.arrayValue,n)}}class SH extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>dm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function OT(t,e=null,n=[],r=[],i=null,a=null,l=null){return new IH(t,e,n,r,i,a,l)}function hu(t){const e=_e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>PT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>uf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>uf(r))).join(",")),e.Te=n}return e.Te}function $m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OC(t.startAt,e.startAt)&&OC(t.endAt,e.endAt)}function Uy(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function By(t,e){return t.filters.filter((n=>n instanceof et&&n.field.isEqual(e)))}function CC(t,e,n){let r=gy,i=!0;for(const a of By(t,e)){let l=gy,u=!0;switch(a.op){case"<":case"<=":l=vH(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,u=!1;break;case"!=":case"not-in":l=gy}IC({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];IC({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function DC(t,e,n){let r=bo,i=!0;for(const a of By(t,e)){let l=bo,u=!0;switch(a.op){case">=":case">":l=_H(a.value),u=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,u=!1;break;case"!=":case"not-in":l=bo}RC({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];RC({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nL(t,e,n,r,i,a,l,u){return new As(t,e,n,r,i,a,l,u)}function Lf(t){return new As(t)}function NC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OA(t){return t.collectionGroup!==null}function Hc(t){const e=_e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new yt(zt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new mm(a,r))})),n.has(zt.keyField().canonicalString())||e.Ie.push(new mm(zt.keyField(),r))}return e.Ie}function wr(t){const e=_e(t);return e.Ee||(e.Ee=RH(e,Hc(t))),e.Ee}function RH(t,e){if(t.limitType==="F")return OT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new mm(i.field,a)}));const n=t.endAt?new Vo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vo(t.startAt.position,t.startAt.inclusive):null;return OT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CT(t,e){const n=t.filters.concat([e]);return new As(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zy(t,e,n){return new As(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return $m(wr(t),wr(e))&&t.limitType===e.limitType}function rL(t){return`${hu(wr(t))}|lt:${t.limitType}`}function jc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>JV(i))).join(", ")}]`),Fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>uf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>uf(i))).join(",")),`Target(${r})`})(wr(t))}; limitType=${t.limitType})`}function Hm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Hc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const d=PC(l,u,f);return l.inclusive?d<=0:d<0})(r.startAt,Hc(r),i)||r.endAt&&!(function(l,u,f){const d=PC(l,u,f);return l.inclusive?d>=0:d>0})(r.endAt,Hc(r),i))})(t,e)}function iL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aL(t){return(e,n)=>{let r=!1;for(const i of Hc(t)){const a=PH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function PH(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(a,l,u){const f=l.data.field(a),d=u.data.field(a);return f!==null&&d!==null?jo(f,d):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return UV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=new Dt(ve.comparator);function Or(){return OH}const sL=new Dt(ve.comparator);function Oh(...t){let e=sL;for(const n of t)e=e.insert(n.key,n);return e}function oL(t){let e=sL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function va(){return Wh()}function lL(){return Wh()}function Wh(){return new Ss((t=>t.toString()),((t,e)=>t.isEqual(e)))}const CH=new Dt(ve.comparator),DH=new yt(ve.comparator);function $e(...t){let e=DH;for(const n of t)e=e.add(n);return e}const NH=new yt(Fe);function CA(){return NH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(e)?"-0":e}}function uL(t){return{integerValue:""+t}}function cL(t,e){return RV(e)?uL(e):DA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this._=void 0}}function kH(t,e,n){return t instanceof ff?(function(i,a){const l={fields:{[FV]:{stringValue:zV},[$V]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&r0(a)&&(a=i0(a)),a&&(l.fields[qV]=a),{mapValue:l}})(n,e):t instanceof mu?dL(t,e):t instanceof pu?hL(t,e):(function(i,a){const l=fL(i,a),u=kC(l)+kC(i.Ae);return IT(l)&&IT(i.Ae)?uL(u):DA(i.serializer,u)})(t,e)}function MH(t,e,n){return t instanceof mu?dL(t,e):t instanceof pu?hL(t,e):n}function fL(t,e){return t instanceof df?(function(r){return IT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ff extends s0{}class mu extends s0{constructor(e){super(),this.elements=e}}function dL(t,e){const n=mL(e);for(const r of t.elements)n.some((i=>Ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends s0{constructor(e){super(),this.elements=e}}function hL(t,e){let n=mL(e);for(const r of t.elements)n=n.filter((i=>!Ia(i,r)));return{arrayValue:{values:n}}}class df extends s0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kC(t){return Ut(t.integerValue||t.doubleValue)}function mL(t){return hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.field=e,this.transform=n}}function jH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mu&&i instanceof mu||r instanceof pu&&i instanceof pu?tf(r.elements,i.elements,Ia):r instanceof df&&i instanceof df?Ia(r.Ae,i.Ae):r instanceof ff&&i instanceof ff})(t.transform,e.transform)}class VH{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _y(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class o0{}function pL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bf(t.key,Ft.none()):new Uf(t.key,t.data,Ft.none());{const n=t.data,r=er.empty();let i=new yt(zt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Is(t.key,r,new Pr(i.toArray()),Ft.none())}}function LH(t,e,n){t instanceof Uf?(function(i,a,l){const u=i.value.clone(),f=jC(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Is?(function(i,a,l){if(!_y(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=jC(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(gL(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Yh(t,e,n,r){return t instanceof Uf?(function(a,l,u,f){if(!_y(a.precondition,l))return u;const d=a.value.clone(),m=VC(a.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Is?(function(a,l,u,f){if(!_y(a.precondition,l))return u;const d=VC(a.fieldTransforms,f,l),m=l.data;return m.setAll(gL(a)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,l,u){return _y(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function UH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=fL(r.transform,i||null);a!=null&&(n===null&&(n=er.empty()),n.set(r.field,a))}return n||null}function MC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tf(r,i,((a,l)=>jH(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uf extends o0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Is extends o0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jC(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,MH(l,u,n[i]))}return r}function VC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,kH(a,l,e))}return r}class Bf extends o0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NA extends o0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&LH(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lL();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const f=pL(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,((n,r)=>MC(n,r)))&&tf(this.baseMutations,e.baseMutations,((n,r)=>MC(n,r)))}}class MA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return CH})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new MA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,it;function yL(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function vL(t){if(t===void 0)return on("GRPC error has no .code"),te.UNKNOWN;switch(t){case pn.OK:return te.OK;case pn.CANCELLED:return te.CANCELLED;case pn.UNKNOWN:return te.UNKNOWN;case pn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case pn.INTERNAL:return te.INTERNAL;case pn.UNAVAILABLE:return te.UNAVAILABLE;case pn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case pn.NOT_FOUND:return te.NOT_FOUND;case pn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case pn.ABORTED:return te.ABORTED;case pn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case pn.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(it=pn||(pn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new xo([4294967295,4294967295],0);function LC(t){const e=_L().encode(t),n=new fV;return n.update(e),new Uint8Array(n.digest())}function UC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,a],0)]}class VA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ch(`Invalid padding: ${n}`);if(r<0)throw new Ch(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ch(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ch(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(zH)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=LC(e),[r,i]=UC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new VA(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=LC(e),[r,i]=UC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ym.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wm(Pe.min(),i,new Dt(Fe),Or(),$e())}}class Ym{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ym(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class bL{constructor(e,n){this.targetId=e,this.Ce=n}}class wL{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BC{constructor(){this.ve=0,this.Fe=zC(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:a})}})),new Ym(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=zg(),this.He=zg(),this.Ye=new Dt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Uy(a))if(r===0){const l=new ve(a.path);this.et(n,l,Mt.newNoDocument(l,Pe.min()))}else Ie(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=vs(r).toUint8Array()}catch(f){if(f instanceof BV)return Sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new VA(l,i,a)}catch(f){return Sa(f instanceof Ch?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Uy(u.target)){const f=new ve(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Mt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=$e();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Wm(e,n,this.Ye,this.je,r);return this.je=Or(),this.Je=zg(),this.He=zg(),this.Ye=new Dt(Fe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zg(){return new Dt(ve.comparator)}function zC(){return new Dt(ve.comparator)}const qH={asc:"ASCENDING",desc:"DESCENDING"},$H={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KH={and:"AND",or:"OR"};class HH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DT(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GH(t,e){return hf(t,e.toTimestamp())}function ln(t){return Ie(!!t,49232),Pe.fromTimestamp((function(n){const r=ys(n);return new dt(r.seconds,r.nanos)})(t))}function LA(t,e){return NT(t,e).canonicalString()}function NT(t,e){const n=(function(i){return new Je(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TL(t){const e=Je.fromString(t);return Ie(NL(e),10190,{key:e.toString()}),e}function pm(t,e){return LA(t.databaseId,e.path)}function wa(t,e){const n=TL(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(SL(n))}function xL(t,e){return LA(t.databaseId,e)}function AL(t){const e=TL(t);return e.length===4?Je.emptyPath():SL(e)}function kT(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SL(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FC(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function IL(t,e,n){const r=wa(t,e.name),i=ln(e.updateTime),a=e.createTime?ln(e.createTime):Pe.min(),l=new er({mapValue:{fields:e.fields}}),u=Mt.newFoundDocument(r,i,a,l);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function WH(t,e){return"found"in e?(function(r,i){Ie(!!i.found,43571),i.found.name,i.found.updateTime;const a=wa(r,i.found.name),l=ln(i.found.updateTime),u=i.found.createTime?ln(i.found.createTime):Pe.min(),f=new er({mapValue:{fields:i.found.fields}});return Mt.newFoundDocument(a,l,u,f)})(t,e):"missing"in e?(function(r,i){Ie(!!i.missing,3894),Ie(!!i.readTime,22933);const a=wa(r,i.missing),l=ln(i.readTime);return Mt.newNoDocument(a,l)})(t,e):Ee(7234,{result:e})}function YH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ee(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,m){return d.useProto3Json?(Ie(m===void 0||typeof m=="string",58123),Zt.fromBase64String(m||"")):(Ie(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Zt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(d){const m=d.code===void 0?te.UNKNOWN:vL(d.code);return new ce(m,d.message||"")})(l);n=new wL(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wa(t,r.document.name),a=ln(r.document.updateTime),l=r.document.createTime?ln(r.document.createTime):Pe.min(),u=new er({mapValue:{fields:r.document.fields}}),f=Mt.newFoundDocument(i,a,l,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new by(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wa(t,r.document),a=r.readTime?ln(r.readTime):Pe.min(),l=Mt.newNoDocument(i,a),u=r.removedTargetIds||[];n=new by([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wa(t,r.document),a=r.removedTargetIds||[];n=new by([],a,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new BH(i,a),u=r.targetId;n=new bL(u,l)}}return n}function gm(t,e){let n;if(e instanceof Uf)n={update:FC(t,e.key,e.value)};else if(e instanceof Bf)n={delete:pm(t,e.key)};else if(e instanceof Is)n={update:FC(t,e.key,e.data),updateMask:tG(e.fieldMask)};else{if(!(e instanceof NA))return Ee(16599,{Vt:e.type});n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof df)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ee(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:GH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)})(t,e.precondition)),n}function MT(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?Ft.updateTime(ln(a.updateTime)):a.exists!==void 0?Ft.exists(a.exists):Ft.none()})(e.currentDocument):Ft.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,u){let f=null;if("setToServerValue"in u)Ie(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),f=new ff;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];f=new mu(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];f=new pu(m)}else"increment"in u?f=new df(l,u.increment):Ee(16584,{proto:u});const d=zt.fromServerFormat(u.fieldPath);return new Gm(d,f)})(t,i))):[];if(e.update){e.update.name;const i=wa(t,e.update.name),a=new er({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(f){const d=f.fieldPaths||[];return new Pr(d.map((m=>zt.fromServerFormat(m))))})(e.updateMask);return new Is(i,a,l,n,r)}return new Uf(i,a,n,r)}if(e.delete){const i=wa(t,e.delete);return new Bf(i,n)}if(e.verify){const i=wa(t,e.verify);return new NA(i,n)}return Ee(1463,{proto:e})}function QH(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?ln(i.updateTime):ln(a);return l.isEqual(Pe.min())&&(l=ln(a)),new VH(l,i.transformResults||[])})(n,e)))):[]}function RL(t,e){return{documents:[xL(t,e.path)]}}function PL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xL(t,i);const a=(function(d){if(d.length!==0)return DL(gt.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(d){if(d.length!==0)return d.map((m=>(function(v){return{field:Vc(v.field),direction:ZH(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=DT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function OL(t){let e=AL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const v=CL(p);return v instanceof gt&&PA(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(T){return new mm(Lc(T.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let v;return v=typeof p=="object"?p.value:p,Fm(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(p){const v=!!p.before,b=p.values||[];return new Vo(b,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const v=!p.before,b=p.values||[];return new Vo(b,v)})(n.endAt)),nL(e,i,l,a,u,"F",f,d)}function XH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lc(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lc(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Lc(n.unaryFilter.field);return et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Lc(n.unaryFilter.field);return et.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return et.create(Lc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gt.create(n.compositeFilter.filters.map((r=>CL(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function ZH(t){return qH[t]}function JH(t){return $H[t]}function eG(t){return KH[t]}function Vc(t){return{fieldPath:t.canonicalString()}}function Lc(t){return zt.fromServerFormat(t.fieldPath)}function DL(t){return t instanceof et?(function(n){if(n.op==="=="){if(SC(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(AC(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SC(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(AC(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:JH(n.op),value:n.value}}})(t):t instanceof gt?(function(n){const r=n.getFilters().map((i=>DL(i)));return r.length===1?r[0]:{compositeFilter:{op:eG(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function tG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,i,a=Pe.min(),l=Pe.min(),u=Zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.yt=e}}function nG(t,e){let n;if(e.document)n=IL(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=yu(e.noDocument.readTime);n=Mt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=yu(e.unknownDocument.version);n=Mt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new dt(i[0],i[1]);return Pe.fromTimestamp(a)})(e.readTime)),n}function qC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,l){return{name:pm(a,l.key),fields:l.data.value.mapValue.fields,updateTime:hf(a,l.version.toTimestamp()),createTime:hf(a,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gu(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:gu(e.version)}}return r}function Fy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yu(t){const e=new dt(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function Kl(t,e){const n=(e.baseMutations||[]).map((a=>MT(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const u=e.mutations[a+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>MT(t.yt,a))),i=dt.fromMillis(e.localWriteTimeMs);return new kA(e.batchId,i,n,r)}function Dh(t){const e=yu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yu(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const l=a.documents.length;return Ie(l===1,1966,{count:l}),wr(Lf(AL(a.documents[0])))})(t.query):(function(a){return wr(OL(a))})(t.query),new ls(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zt.fromBase64String(t.resumeToken))}function ML(t,e){const n=gu(e.snapshotVersion),r=gu(e.lastLimboFreeSnapshotVersion);let i;i=Uy(e.target)?RL(t.yt,e.target):PL(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hu(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function UA(t){const e=OL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zy(e,e.limit,"L"):e}function Ew(t,e){return new jA(e.largestBatchId,MT(t.yt,e.overlayMutation))}function $C(t,e){const n=e.path.lastSegment();return[t,cr(e.path.popLast()),n]}function KC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:gu(r.readTime),documentKey:cr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{getBundleMetadata(e,n){return HC(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:yu(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return HC(e).put((function(i){return{bundleId:i.id,createTime:gu(ln(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return GC(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:UA(a.bundledQuery),readTime:yu(a.readTime)}})(r)}))}saveNamedQuery(e,n){return GC(e).put((function(i){return{name:i.name,readTime:gu(ln(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function HC(t){return Rn(t,e0)}function GC(t){return Rn(t,t0)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new l0(e,r)}getOverlay(e,n){return dh(e).get($C(this.userId,n)).next((r=>r?Ew(this.serializer,r):null))}getOverlays(e,n){const r=va();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,l)=>{const u=new jA(n,l);i.push(this.St(e,u))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(cr(l.getCollectionPath()))));const a=[];return i.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(dh(e).Z(xT,u))})),Y.waitFor(a)}getOverlaysForCollection(e,n,r){const i=va(),a=cr(n),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return dh(e).J(xT,l).next((u=>{for(const f of u){const d=Ew(this.serializer,f);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=va();let l;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return dh(e).ee({index:kV,range:u},((f,d,m)=>{const p=Ew(this.serializer,d);a.size()<i||p.largestBatchId===l?(a.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>a))}St(e,n){return dh(e).put((function(i,a,l){const[u,f,d]=$C(a,l.mutation.key);return{userId:a,collectionPath:f,documentId:d,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:gm(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function dh(t){return Rn(t,n0)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{bt(e){return Rn(e,AA)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Zt.fromUint8Array(r):Zt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ut(e.integerValue));else if("doubleValue"in e){const r=Ut(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),om(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ys(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(vs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?HV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):a0(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ee(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var l,u;const r=e.fields||{};this.Ft(n,53);const i=lf,a=((u=(l=r[i].arrayValue)==null?void 0:l.values)==null?void 0:u.length)||0;this.Ft(n,15),n.Mt(Ut(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ve.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Hl.Kt=new Hl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=255;function aG(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function WC(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const l=aG(255&r[a]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class sG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=WC(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=WC(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Oc),this.sn(255)}_n(){this.an(Oc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Oc?(this.sn(Oc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Oc?(this.an(Oc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class oG{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class lG{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class hh{constructor(){this.cn=new sG,this.ln=new oG(this.cn),this.hn=new lG(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Gl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:wy(this.En),directionalValue:wy(this.dn),orderedDocumentKey:wy(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function fo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=YC(t.En,e.En),n!==0?n:(n=YC(t.dn,e.dn),n!==0?n:ve.comparator(t.In,e.In)))}function YC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function wy(t){return GM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function QC(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class XC{constructor(e){this.mn=new yt(((n,r)=>zt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=wT(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ul(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const f=r[a];if(!this.Sn(u,f)||!this.bn(this.fn[l++],f))return!1}++a}for(;a<r.length;++a){const u=r[a];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new yt(zt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hy(r.field,r.dir==="asc"?0:1)));return new ky(ky.UNKNOWN_ID,this.collectionId,n,sm.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){var n,r;if(Ie(t instanceof et||t instanceof gt,20012),t instanceof et){if(t instanceof tL){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>et.create(t.field,"==",a))))||[];return gt.create(i,"or")}return t}const e=t.filters.map((i=>jL(i)));return gt.create(e,t.op)}function uG(t){if(t.getFilters().length===0)return[];const e=LT(jL(t));return Ie(VL(e),7391),jT(e)||VT(e)?[e]:e.getFilters()}function jT(t){return t instanceof et}function VT(t){return t instanceof gt&&PA(t)}function VL(t){return jT(t)||VT(t)||(function(n){if(n instanceof gt&&RT(n)){for(const r of n.getFilters())if(!jT(r)&&!VT(r))return!1;return!0}return!1})(t)}function LT(t){if(Ie(t instanceof et||t instanceof gt,34018),t instanceof et)return t;if(t.filters.length===1)return LT(t.filters[0]);const e=t.filters.map((r=>LT(r)));let n=gt.create(e,t.op);return n=qy(n),VL(n)?n:(Ie(n instanceof gt,64498),Ie(cf(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,i)=>BA(r,i))))}function BA(t,e){let n;return Ie(t instanceof et||t instanceof gt,38388),Ie(e instanceof et||e instanceof gt,25473),n=t instanceof et?e instanceof et?(function(i,a){return gt.create([i,a],"and")})(t,e):ZC(t,e):e instanceof et?ZC(e,t):(function(i,a){if(Ie(i.filters.length>0&&a.filters.length>0,48005),cf(i)&&cf(a))return ZV(i,a.getFilters());const l=RT(i)?i:a,u=RT(i)?a:i,f=l.filters.map((d=>BA(d,u)));return gt.create(f,"or")})(t,e),qy(n)}function ZC(t,e){if(cf(e))return ZV(e,t.getFilters());{const n=e.filters.map((r=>BA(t,r)));return gt.create(n,"or")}}function qy(t){if(Ie(t instanceof et||t instanceof gt,11850),t instanceof et)return t;const e=t.getFilters();if(e.length===1)return qy(e[0]);if(QV(t))return t;const n=e.map((i=>qy(i))),r=[];return n.forEach((i=>{i instanceof et?r.push(i):i instanceof gt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:gt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.Cn=new zA}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ei.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class zA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Je.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="IndexedDbIndexManager",Fg=new Uint8Array(0);class fG{constructor(e,n){this.databaseId=n,this.vn=new zA,this.Fn=new Ss((r=>hu(r)),((r,i)=>$m(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:cr(i)};return eD(e).put(a)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[_V(n),""],!1,!0);return eD(e).J(i).next((a=>{for(const l of a){if(l.collectionId!==n)break;r.push(ya(l.parent))}return r}))}addFieldIndex(e,n){const r=mh(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const l=Dc(e);return a.next((u=>{l.put(KC(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=mh(e),i=Dc(e),a=Cc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=mh(e),r=Cc(e),i=Dc(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Y.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new XC(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=Cc(e);let i=!0;const a=new Map;return Y.forEach(this.Mn(n),(l=>this.xn(e,l).next((u=>{i&&(i=!!u),a.set(l,u)})))).next((()=>{if(i){let l=$e();const u=[];return Y.forEach(a,((f,d)=>{fe(JC,`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(f)} to execute ${hu(n)}`);const m=(function(O,B){const L=wT(B);if(L===void 0)return null;for(const q of By(O,L.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null})(d,f),p=(function(O,B){const L=new Map;for(const q of Ul(B))for(const N of By(O,q.fieldPath))switch(N.op){case"==":case"in":L.set(q.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return L.set(q.fieldPath.canonicalString(),N.value),Array.from(L.values())}return null})(d,f),v=(function(O,B){const L=[];let q=!0;for(const N of Ul(B)){const D=N.kind===0?CC(O,N.fieldPath,O.startAt):DC(O,N.fieldPath,O.startAt);L.push(D.value),q&&(q=D.inclusive)}return new Vo(L,q)})(d,f),b=(function(O,B){const L=[];let q=!0;for(const N of Ul(B)){const D=N.kind===0?DC(O,N.fieldPath,O.endAt):CC(O,N.fieldPath,O.endAt);L.push(D.value),q&&(q=D.inclusive)}return new Vo(L,q)})(d,f),T=this.On(f,d,v),w=this.On(f,d,b),x=this.Nn(f,d,p),P=this.Bn(f.indexId,m,T,v.inclusive,w,b.inclusive,x);return Y.forEach(P,(C=>r.Y(C,n.limit).next((O=>{O.forEach((B=>{const L=ve.fromSegments(B.documentKey);l.has(L)||(l=l.add(L),u.push(L))}))}))))})).next((()=>u))}return Y.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=uG(gt.create(e.filters,"and")).map((r=>OT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,l,u){const f=(n!=null?n.length:1)*Math.max(r.length,a.length),d=f/(n!=null?n.length:1),m=[];for(let p=0;p<f;++p){const v=n?this.Ln(n[p/d]):Fg,b=this.kn(e,v,r[p%d],i),T=this.qn(e,v,a[p%d],l),w=u.map((x=>this.kn(e,v,x,!0)));m.push(...this.createRange(b,T,w))}return m}kn(e,n,r,i){const a=new Gl(e,ve.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new Gl(e,ve.empty(),n,r);return i?a.An():a}xn(e,n){const r=new XC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let l=null;for(const u of a)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Y.forEach(i,(a=>this.xn(e,a).next((l=>{l?r!==0&&l.fields.length<(function(f){let d=new yt(zt.comparator),m=!1;for(const p of f.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:d=d.add(v.field));for(const p of f.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new hh;for(const i of Ul(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const l=r.Pn(i.kind);Hl.Kt.Dt(a,l)}return r.un()}Ln(e){const n=new hh;return Hl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new hh;return Hl.Kt.Dt(du(this.databaseId,n),r.Pn((function(a){const l=Ul(a);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new hh);let a=0;for(const l of Ul(e)){const u=r[a++];for(const f of i)if(this.Un(n,l.fieldPath)&&hm(u))i=this.Kn(i,l,u);else{const d=f.Pn(l.kind);Hl.Kt.Dt(u,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const u of i){const f=new hh;f.seed(u.un()),Hl.Kt.Dt(l,f.Pn(n.kind)),a.push(f)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof et&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=mh(e),i=Dc(e);return(n?r.J(TT,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const l=[];return Y.forEach(a,(u=>i.get([u.indexId,this.uid]).next((f=>{l.push((function(m,p){const v=p?new sm(p.sequenceNumber,new ei(yu(p.readTime),new ve(ya(p.documentKey)),p.largestBatchId)):sm.empty(),b=m.fields.map((([T,w])=>new hy(zt.fromServerFormat(T),w)));return new ky(m.indexId,m.collectionGroup,b,v)})(u,f))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Fe(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=mh(e),a=Dc(e);return this.Gn(e).next((l=>i.J(TT,IDBKeyRange.bound(n,n)).next((u=>Y.forEach(u,(f=>a.put(KC(f.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,a)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Y.forEach(u,(f=>this.zn(e,i,f).next((d=>{const m=this.jn(a,f);return d.isEqual(m)?Y.resolve():this.Jn(e,a,f,d,m)})))))))}))}Hn(e,n,r,i){return Cc(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Cc(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Cc(e);let a=new yt(fo);return i.ee({index:NV,range:IDBKeyRange.only([r.indexId,this.uid,wy(this.$n(r,n))])},((l,u)=>{a=a.add(new Gl(r.indexId,n,QC(u.arrayValue),QC(u.directionalValue)))})).next((()=>a))}jn(e,n){let r=new yt(fo);const i=this.Qn(n,e);if(i==null)return r;const a=wT(n);if(a!=null){const l=e.data.field(a.fieldPath);if(hm(l))for(const u of l.arrayValue.values||[])r=r.add(new Gl(n.indexId,e.key,this.Ln(u),i))}else r=r.add(new Gl(n.indexId,e.key,Fg,i));return r}Jn(e,n,r,i,a){fe(JC,"Updating index entries for document '%s'",n.key);const l=[];return(function(f,d,m,p,v){const b=f.getIterator(),T=d.getIterator();let w=Pc(b),x=Pc(T);for(;w||x;){let P=!1,C=!1;if(w&&x){const O=m(w,x);O<0?C=!0:O>0&&(P=!0)}else w!=null?C=!0:P=!0;P?(p(x),x=Pc(T)):C?(v(w),w=Pc(b)):(w=Pc(b),x=Pc(T))}})(i,a,fo,(u=>{l.push(this.Hn(e,n,r,u))}),(u=>{l.push(this.Yn(e,n,r,u))})),Y.waitFor(l)}Gn(e){let n=1;return Dc(e).ee({index:DV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,u)=>fo(l,u))).filter(((l,u,f)=>!u||fo(l,f[u-1])!==0));const i=[];i.push(e);for(const l of r){const u=fo(l,e),f=fo(l,n);if(u===0)i[0]=e.An();else if(u>0&&f<0)i.push(l),i.push(l.An());else if(f>0)break}i.push(n);const a=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const u=i[l].Vn(this.uid,Fg,ve.empty()),f=i[l+1].Vn(this.uid,Fg,ve.empty());a.push(IDBKeyRange.bound(u,f))}return a}Zn(e,n){return fo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(tD)}getMinOffset(e,n){return Y.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ee(44426))))).next(tD)}}function eD(t){return Rn(t,cm)}function Cc(t){return Rn(t,Hh)}function mh(t){return Rn(t,xA)}function Dc(t){return Rn(t,Kh)}function tD(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;wA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ei(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LL=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e,n){const r=t.store(Mi),i=t.store(rf),a=[],l=IDBKeyRange.only(n.batchId);let u=0;const f=r.ee({range:l},((m,p,v)=>(u++,v.delete())));a.push(f.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const p=PV(e,m.key.path,n.batchId);a.push(i.delete(p)),d.push(m.key)}return Y.waitFor(a).next((()=>d))}function $y(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(LL,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class u0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ie(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new u0(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ho(e).ee({index:Ql,range:r},((i,a,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=Uc(e),l=ho(e);return l.add({}).next((u=>{Ie(typeof u=="number",49019);const f=new kA(u,n,r,i),d=(function(b,T,w){const x=w.baseMutations.map((C=>gm(b.yt,C))),P=w.mutations.map((C=>gm(b.yt,C)));return{userId:T,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:x,mutations:P}})(this.serializer,this.userId,f),m=[];let p=new yt(((v,b)=>Fe(v.canonicalString(),b.canonicalString())));for(const v of i){const b=PV(this.userId,v.key.path,u);p=p.add(v.key.path.popLast()),m.push(l.put(d)),m.push(a.put(b,KK))}return p.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=f.keys()})),Y.waitFor(m).next((()=>f))}))}lookupMutationBatch(e,n){return ho(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Kl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Y.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ho(e).ee({index:Ql,range:i},((l,u,f)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),a=Kl(this.serializer,u)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ao;return ho(e).ee({index:Ql,range:n,reverse:!0},((i,a,l)=>{r=a.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ao],[this.userId,Number.POSITIVE_INFINITY]);return ho(e).J(Ql,n).next((r=>r.map((i=>Kl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=my(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Uc(e).ee({range:i},((l,u,f)=>{const[d,m,p]=l,v=ya(m);if(d===this.userId&&n.path.isEqual(v))return ho(e).get(p).next((b=>{if(!b)throw Ee(61480,{nr:l,batchId:p});Ie(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),a.push(Kl(this.serializer,b))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Fe);const i=[];return n.forEach((a=>{const l=my(this.userId,a.path),u=IDBKeyRange.lowerBound(l),f=Uc(e).ee({range:u},((d,m,p)=>{const[v,b,T]=d,w=ya(b);v===this.userId&&a.path.isEqual(w)?r=r.add(T):p.done()}));i.push(f)})),Y.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=my(this.userId,r),l=IDBKeyRange.lowerBound(a);let u=new yt(Fe);return Uc(e).ee({range:l},((f,d,m)=>{const[p,v,b]=f,T=ya(v);p===this.userId&&r.isPrefixOf(T)?T.length===i&&(u=u.add(b)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(ho(e).get(a).next((l=>{if(l===null)throw Ee(35274,{batchId:a});Ie(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(Kl(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return UL(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Uc(e).ee({range:r},((a,l,u)=>{if(a[0]===this.userId){const f=ya(a[1]);i.push(f)}else u.done()})).next((()=>{Ie(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return BL(e,this.userId,n)}_r(e){return zL(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ao,lastStreamToken:""}))}}function BL(t,e,n){const r=my(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Uc(t).ee({range:a,X:!0},((u,f,d)=>{const[m,p,v]=u;m===e&&p===i&&(l=!0),d.done()})).next((()=>l))}function ho(t){return Rn(t,Mi)}function Uc(t){return Rn(t,rf)}function zL(t){return Rn(t,lm)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vu(0)}static cr(){return new vu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new vu(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Pe.fromTimestamp(new dt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Nc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return Nc(e).ee(((l,u)=>{const f=Dh(u);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,a.push(this.removeTargetData(e,f)))})).next((()=>Y.waitFor(a))).next((()=>i))}forEachTarget(e,n){return Nc(e).ee(((r,i)=>{const a=Dh(i);n(a)}))}lr(e){return rD(e).get(Vy).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return rD(e).put(Vy,n)}Pr(e,n){return Nc(e).put(ML(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=hu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Nc(e).ee({range:i,index:CV},((l,u,f)=>{const d=Dh(u);$m(n,d.target)&&(a=d,f.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=yo(e);return n.forEach((l=>{const u=cr(l.path);i.push(a.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=yo(e);return Y.forEach(n,(a=>{const l=cr(a.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=yo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=yo(e);let a=$e();return i.ee({range:r,X:!0},((l,u,f)=>{const d=ya(l[1]),m=new ve(d);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=cr(n.path),i=IDBKeyRange.bound([r],[_V(r)],!1,!0);let a=0;return yo(e).ee({index:TA,X:!0,range:i},(([l,u],f,d)=>{l!==0&&(a++,d.done())})).next((()=>a>0))}At(e,n){return Nc(e).get(n).next((r=>r?Dh(r):null))}}function Nc(t){return Rn(t,af)}function rD(t){return Rn(t,au)}function yo(t){return Rn(t,sf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="LruGarbageCollector",hG=1048576;function aD([t,e],[n,r]){const i=Fe(t,n);return i===0?Fe(e,r):i}class mG{constructor(e){this.Ir=e,this.buffer=new yt(aD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(iD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?fe(iD,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Vr(3e5)}))}}class pG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Rr.ce);const r=new mG(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(nD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),Mc()<=Ze.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function qL(t,e){return new pG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n){this.db=e,this.garbageCollector=qL(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return qg(e,r)}removeReference(e,n,r){return qg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return qg(e,n)}br(e,n){return(function(i,a){let l=!1;return zL(i).te((u=>BL(i,u,a).next((f=>(f&&(l=!0),Y.resolve(!f)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((l,u)=>{if(u<=n){const f=this.br(e,l).next((d=>{if(!d)return a++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Pe.min()),yo(e).delete((function(p){return[0,cr(p.path)]})(l)))))}));i.push(f)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return qg(e,n)}Sr(e,n){const r=yo(e);let i,a=Rr.ce;return r.ee({index:TA},(([l,u],{path:f,sequenceNumber:d})=>{l===0?(a!==Rr.ce&&n(new ve(ya(i)),a),a=d,i=f):a=Rr.ce})).next((()=>{a!==Rr.ce&&n(new ve(ya(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qg(t,e){return yo(t).put((function(r,i){return{targetId:0,path:cr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.changes=new Ss((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ml(e).put(r)}removeEntry(e,n,r){return Ml(e).delete((function(a,l){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Fy(l),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return Ml(e).ee({index:py,range:IDBKeyRange.only(ph(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return Ml(e).ee({index:py,range:IDBKeyRange.only(ph(n))},((i,a)=>{r={document:this.Cr(n,a),size:$y(a)}})).next((()=>r))}getEntries(e,n){let r=Or();return this.Fr(e,n,((i,a)=>{const l=this.Cr(i,a);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=Or(),i=new Dt(ve.comparator);return this.Fr(e,n,((a,l)=>{const u=this.Cr(a,l);r=r.insert(a,u),i=i.insert(a,$y(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new yt(lD);n.forEach((f=>i=i.add(f)));const a=IDBKeyRange.bound(ph(i.first()),ph(i.last())),l=i.getIterator();let u=l.getNext();return Ml(e).ee({index:py,range:a},((f,d,m)=>{const p=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&lD(u,p)<0;)r(u,null),u=l.getNext();u&&u.isEqual(p)&&(r(u,d),u=l.hasNext()?l.getNext():null),u?m.j(ph(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const l=n.path,u=[l.popLast().toArray(),l.lastSegment(),Fy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ml(e).J(IDBKeyRange.bound(u,f,!0)).next((d=>{a==null||a.incrementDocumentReadCount(d.length);let m=Or();for(const p of d){const v=this.Cr(ve.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(Hm(n,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=Or();const l=oD(n,r),u=oD(n,ei.max());return Ml(e).ee({index:OV,range:IDBKeyRange.bound(l,u,!0)},((f,d,m)=>{const p=this.Cr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new vG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return sD(e).get(ET).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return sD(e).put(ET,n)}Cr(e,n){if(n){const r=nG(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return Mt.newInvalidDocument(e)}}function KL(t){return new yG(t)}class vG extends $L{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ss((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new yt(((a,l)=>Fe(a.canonicalString(),l.canonicalString())));return this.changes.forEach(((a,l)=>{const u=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,u.readTime)),l.isValidDocument()){const f=qC(this.Nr.serializer,l);i=i.add(a.path.popLast());const d=$y(f);r+=d-u.size,n.push(this.Nr.addEntry(e,a,f))}else if(r-=u.size,this.trackRemovals){const f=qC(this.Nr.serializer,l.convertToNoDocument(Pe.min()));n.push(this.Nr.addEntry(e,a,f))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,l)=>{this.Br.set(a,{size:l,readTime:r.get(a).readTime})})),r)))}}function sD(t){return Rn(t,um)}function Ml(t){return Rn(t,jy)}function ph(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oD(t,e){const n=e.documentKey.path.toArray();return[t,Fy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lD(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fe(n[a],r[a]),i)return i;return i=Fe(n.length,r.length),i||(i=Fe(n[n.length-2],r[r.length-2]),i||Fe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Yh(r.mutation,i,Pr.empty(),dt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const i=va();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Oh();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=va();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Or();const l=Wh(),u=(function(){return Wh()})();return n.forEach(((f,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Is)?a=a.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Yh(m.mutation,d,m.mutation.getFieldMask(),dt.now())):l.set(d.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>u.set(d,new _G(m,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Wh();let i=new Dt(((l,u)=>l-u)),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||Pr.empty();m=u.applyToLocalView(d,m),r.set(f,m);const p=(i.get(u.batchId)||$e()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,p=lL();m.forEach((v=>{if(!a.has(v)){const b=pL(n.get(v),r.get(v));b!==null&&p.set(v,b),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(va());let u=nf,f=a;return l.next((d=>Y.forEach(d,((m,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{f=f.insert(m,v)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,$e()))).next((m=>({batchId:u,changes:oL(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let i=Oh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Oh();return this.indexManager.getCollectionParents(e,a).next((u=>Y.forEach(u,(f=>{const d=(function(p,v){return new As(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Mt.newInvalidDocument(m)))}));let u=Oh();return l.forEach(((f,d)=>{const m=a.get(f);m!==void 0&&Yh(m.mutation,d,Pr.empty(),dt.now()),Hm(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ln(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:UA(i.bundledQuery),readTime:ln(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.overlays=new Dt(ve.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=va();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=va(),a=n.length+1,l=new ve(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Dt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=va(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=va(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=i)););return Y.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new jA(n,r));let a=this.qr.get(n);a===void 0&&(a=$e(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.Qr=new yt(jn.$r),this.Ur=new yt(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new jn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new Je([])),r=new jn(n,e),i=new jn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new Je([])),r=new jn(n,e),i=new jn(n,e+1);let a=$e();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new jn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yt(jn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kA(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new jn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ao:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),i=new jn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Fe);return n.forEach((i=>{const a=new jn(i,0),l=new jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new jn(new ve(a),0);let u=new yt(Fe);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),l),Y.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new jn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new jn(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e){this.ri=e,this.docs=(function(){return new Dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Or();const l=n.path,u=new ve(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||wA(xV(m),r)<=0||(i.has(m.key)||Hm(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ee(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new AG(this)}getSize(e){return Y.resolve(this.size)}}class AG extends $L{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e){this.persistence=e,this.si=new Ss((n=>hu(n)),$m),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new FA,this.targetCount=0,this.ai=vu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rr(0),this.li=!1,this.li=!0,this.hi=new EG,this.referenceDelegate=e(this),this.Pi=new SG(this),this.indexManager=new cG,this.remoteDocumentCache=(function(i){return new xG(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kL(n),this.Ii=new bG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new TG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new IG(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class IG extends SV{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Ri=new FA,this.Vi=null}static mi(e){return new c0(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ve.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ky{constructor(e,n){this.persistence=e,this.pi=new Ss((r=>cr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=qL(this,n)}static mi(e,n){return new Ky(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yy(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Jv("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(qm)})(e),(function(f){f.createObjectStore(lm,{keyPath:$K}),f.createObjectStore(Mi,{keyPath:_C,autoIncrement:!0}).createIndex(Ql,bC,{unique:!0}),f.createObjectStore(rf)})(e),uD(e),(function(f){f.createObjectStore(Bl)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(sf),f.deleteObjectStore(af),f.deleteObjectStore(au)})(e),uD(e)),l=l.next((()=>(function(f){const d=f.store(au),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return d.put(Vy,m)})(a)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(f,d){return d.store(Mi).J().next((p=>{f.deleteObjectStore(Mi),f.createObjectStore(Mi,{keyPath:_C,autoIncrement:!0}).createIndex(Ql,bC,{unique:!0});const v=d.store(Mi),b=p.map((T=>v.put(T)));return Y.waitFor(b)}))})(e,a)))),l=l.next((()=>{(function(f){f.createObjectStore(of,{keyPath:JK})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(a)))),r<6&&i>=6&&(l=l.next((()=>((function(f){f.createObjectStore(um)})(e),this.wi(a))))),r<7&&i>=7&&(l=l.next((()=>this.Si(a)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,a)))),r<9&&i>=9&&(l=l.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(a)))),r<11&&i>=11&&(l=l.next((()=>{(function(f){f.createObjectStore(e0,{keyPath:eH})})(e),(function(f){f.createObjectStore(t0,{keyPath:tH})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(f){const d=f.createObjectStore(n0,{keyPath:lH});d.createIndex(xT,uH,{unique:!1}),d.createIndex(kV,cH,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(f){const d=f.createObjectStore(jy,{keyPath:HK});d.createIndex(py,GK),d.createIndex(OV,WK)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(Bl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(l=l.next((()=>(function(f){f.createObjectStore(xA,{keyPath:nH,autoIncrement:!0}).createIndex(TT,rH,{unique:!1}),f.createObjectStore(Kh,{keyPath:iH}).createIndex(DV,aH,{unique:!1}),f.createObjectStore(Hh,{keyPath:sH}).createIndex(NV,oH,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Kh).clear()})).next((()=>{n.objectStore(Hh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(f){f.createObjectStore(AA,{keyPath:fH})})(e)}))),r<18&&i>=18&&GM()&&(l=l.next((()=>{n.objectStore(Kh).clear()})).next((()=>{n.objectStore(Hh).clear()}))),l}wi(e){let n=0;return e.store(Bl).ee(((r,i)=>{n+=$y(i)})).next((()=>{const r={byteSize:n};return e.store(um).put(ET,r)}))}yi(e){const n=e.store(lm),r=e.store(Mi);return n.J().next((i=>Y.forEach(i,(a=>{const l=IDBKeyRange.bound([a.userId,Ao],[a.userId,a.lastAcknowledgedBatchId]);return r.J(Ql,l).next((u=>Y.forEach(u,(f=>{Ie(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Kl(this.serializer,f);return UL(e,a.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(sf),r=e.store(Bl);return e.store(au).get(Vy).next((i=>{const a=[];return r.ee(((l,u)=>{const f=new Je(l),d=(function(p){return[0,cr(p)]})(f);a.push(n.get(d).next((m=>m?Y.resolve():(p=>n.put({targetId:0,path:cr(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>Y.waitFor(a)))}))}bi(e,n){e.createObjectStore(cm,{keyPath:ZK});const r=n.store(cm),i=new zA,a=l=>{if(i.add(l)){const u=l.lastSegment(),f=l.popLast();return r.put({collectionId:u,parent:cr(f)})}};return n.store(Bl).ee({X:!0},((l,u)=>{const f=new Je(l);return a(f.popLast())})).next((()=>n.store(rf).ee({X:!0},(([l,u,f],d)=>{const m=ya(u);return a(m.popLast())}))))}Di(e){const n=e.store(af);return n.ee(((r,i)=>{const a=Dh(i),l=ML(this.serializer,a);return n.put(l)}))}Ci(e,n){const r=n.store(Bl),i=[];return r.ee(((a,l)=>{const u=n.store(jy),f=(function(p){return p.document?new ve(Je.fromString(p.document.name).popFirst(5)):p.noDocument?ve.fromSegments(p.noDocument.path):p.unknownDocument?ve.fromSegments(p.unknownDocument.path):Ee(36783)})(l).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(d))})).next((()=>Y.waitFor(i)))}Fi(e,n){const r=n.store(Mi),i=KL(this.serializer),a=new qA(c0.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((f=>{let d=u.get(f.userId)??$e();Kl(this.serializer,f).keys().forEach((m=>d=d.add(m))),u.set(f.userId,d)})),Y.forEach(u,((f,d)=>{const m=new Ln(d),p=l0.wt(this.serializer,m),v=a.getIndexManager(m),b=u0.wt(m,this.serializer,v,a.referenceDelegate);return new HL(i,b,p,v).recalculateAndSaveOverlaysForDocumentKeys(new AT(n,Rr.ce),f).next()}))}))}}function uD(t){t.createObjectStore(sf,{keyPath:QK}).createIndex(TA,XK,{unique:!0}),t.createObjectStore(af,{keyPath:"targetId"}).createIndex(CV,YK,{unique:!0}),t.createObjectStore(au)}const mo="IndexedDbPersistence",Tw=18e5,xw=5e3,Aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",GL="main";class $A{constructor(e,n,r,i,a,l,u,f,d,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=l,this.document=u,this.xi=d,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!$A.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gG(this,i),this.$i=n+GL,this.serializer=new kL(f),this.Ui=new ba(this.$i,this.Ni,new RG(this.serializer)),this.hi=new iG,this.Pi=new dG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=KL(this.serializer),this.Ii=new rG,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&on(mo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,Aw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Rr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$g(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Go(e))return fe(mo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(mo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return gh(e).get(Rc).next((n=>Y.resolve(this.es(n))))}ts(e){return $g(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Tw)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Rn(n,of);return r.J().next((i=>{const a=this.ss(i,Tw),l=i.filter((u=>a.indexOf(u)===-1));return Y.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Y.resolve(!0):gh(e).get(Rc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xw)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,Aw);return!1}}return!(!this.networkEnabled||!this.inForeground)||$g(e).J().next((r=>this.ss(r,xw).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(a||l&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&fe(mo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[qm,of],(e=>{const n=new AT(e,Rr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>$g(e).J().next((n=>this.ss(n,Tw).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return u0.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fG(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return l0.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe(mo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?mH:f===17?LV:f===16?hH:f===15?SA:f===14?VV:f===13?jV:f===12?dH:f===11?MV:void Ee(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,a,(u=>(l=new AT(u,this.ci?this.ci.next():Rr.ce),n==="readwrite-primary"?this.Hi(l).next((f=>!!f||this.Yi(l))).next((f=>{if(!f)throw on(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,AV);return r(l)})).next((f=>this.Xi(l).next((()=>f)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return gh(e).get(Rc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xw)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,Aw)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gh(e).put(Rc,n)}static v(){return ba.v()}Zi(e){const n=gh(e);return n.get(Rc).next((r=>this.es(r)?(fe(mo,"Releasing primary lease."),n.delete(Rc)):Y.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(on(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;HM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return fe(mo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return on(mo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){on("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(t){return Rn(t,qm)}function $g(t){return Rn(t,of)}function KA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=$e(),i=$e();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new HA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HM()?8:IV(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new PG;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Mc()<=Ze.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",jc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Mc()<=Ze.DEBUG&&fe("QueryEngine","Query:",jc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Mc()<=Ze.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",jc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):Y.resolve())}ys(e,n){if(NC(n))return Y.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=zy(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=$e(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,l,f.readTime)?this.ys(e,zy(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return NC(n)||i.isEqual(Pe.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Y.resolve(null):(Mc()<=Ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jc(n)),this.vs(e,l,n,TV(i,nf)).next((u=>u)))}))}Ds(e,n){let r=new yt(aL(e));return n.forEach(((i,a)=>{Hm(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Mc()<=Ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",jc(n)),this.ps.getDocumentsMatchingQuery(e,n,ei.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="LocalStore",OG=3e8;class CG{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Dt(Fe),this.xs=new Ss((a=>hu(a)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function YL(t,e,n,r){return new CG(t,e,n,r)}async function QL(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=$e();for(const d of i){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of a){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function DG(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,m){const p=d.batch,v=p.keys();let b=Y.resolve();return v.forEach((T=>{b=b.next((()=>m.getEntry(f,T))).next((w=>{const x=d.docVersions.get(T);Ie(x!==null,48541),w.version.compareTo(x)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),m.addEntry(w)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=$e();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function XL(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function NG(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;u.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,p))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Zt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(w,x,P){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=OG?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,b,m)&&u.push(n.Pi.updateTargetData(a,b))}));let f=Or(),d=$e();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),u.push(ZL(a,l,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!r.isEqual(Pe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(m)}return Y.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function ZL(t,e,n){let r=$e(),i=$e();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Or();return n.forEach(((u,f)=>{const d=a.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):fe(GA,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function kG(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ao),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mf(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new ls(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pf(t,e,n){const r=_e(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Go(l))throw l;fe(GA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Hy(t,e,n){const r=_e(t);let i=Pe.min(),a=$e();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,m){const p=_e(f),v=p.xs.get(m);return v!==void 0?Y.resolve(p.Ms.get(v)):p.Pi.getTargetData(d,m)})(r,l,wr(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Pe.min(),n?a:$e()))).next((u=>(t4(r,iL(e),u),{documents:u,Qs:a})))))}function JL(t,e){const n=_e(t),r=_e(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((l=>l?l.target:null))))}function e4(t,e){const n=_e(t),r=n.Os.get(e)||Pe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,TV(r,nf),Number.MAX_SAFE_INTEGER))).then((i=>(t4(n,e,i),i)))}function t4(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}async function MG(t,e,n,r){const i=_e(t);let a=$e(),l=Or();for(const d of n){const m=e.$s(d.metadata.name);d.document&&(a=a.add(m));const p=e.Us(d);p.setReadTime(e.Ks(d.metadata.readTime)),l=l.insert(m,p)}const u=i.Ns.newChangeBuffer({trackRemovals:!0}),f=await mf(i,(function(m){return wr(Lf(Je.fromString(`__bundle__/docs/${m}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>ZL(d,u,l).next((m=>(u.apply(d),m))).next((m=>i.Pi.removeMatchingKeysForTargetId(d,f.targetId).next((()=>i.Pi.addMatchingKeys(d,a,f.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,m.ks,m.qs))).next((()=>m.ks))))))}async function jG(t,e,n=$e()){const r=await mf(t,wr(UA(e.bundledQuery))),i=_e(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const l=ln(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ii.saveNamedQuery(a,e);const u=r.withResumeToken(Zt.EMPTY_BYTE_STRING,l);return i.Ms=i.Ms.insert(u.targetId,u),i.Pi.updateTargetData(a,u).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firestore_clients";function cD(t,e){return`${n4}_${t}_${e}`}const r4="firestore_mutations";function fD(t,e,n){let r=`${r4}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const i4="firestore_targets";function Sw(t,e){return`${i4}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="SharedClientState";class Gy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ce(i.error.code,i.error.message))),l?new Gy(e,n,i.state,a):(on(fa,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new ce(r.error.code,r.error.message))),a?new Qh(e,r.state,i):(on(fa,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=CA();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=RV(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new Wy(e,a):(on(fa,`Failed to parse client data for instance '${e}': ${n}`),null)}}class WA{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new WA(n.clientId,n.onlineState):(on(fa,`Failed to parse online state: ${e}`),null)}}class UT{constructor(){this.activeTargetIds=CA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iw{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Dt(Fe),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=cD(this.persistenceKey,this.Js),this.no=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new UT),this.ro=new RegExp(`^${n4}_${l}_([^_]*)$`),this.io=new RegExp(`^${r4}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${i4}_${l}_(\\d+)$`),this.oo=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this._o=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(cD(this.persistenceKey,r));if(i){const a=Wy.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Sw(this.persistenceKey,e));if(i){const a=Qh.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return fe(fa,"READ",e,n),n}setItem(e,n){fe(fa,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){fe(fa,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(fe(fa,"EVENT",n.key,n.newValue),n.key===this.eo)return void on("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let l=Rr.ce;if(a!=null)try{const u=JSON.parse(a);Ie(typeof u=="number",30636,{So:a}),l=u}catch(u){on(fa,"Failed to read sequence number from WebStorage",u)}return l})(n.newValue);r!==Rr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Gy(this.currentUser,e,n,r),a=fD(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=fD(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=Sw(this.persistenceKey,e),a=new Qh(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Wy.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Gy.Ws(new Ln(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Qh.Ws(i,n)}uo(e){return WA.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);fe(fa,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),l=[],u=[];return a.forEach((f=>{i.has(f)||l.push(f)})),i.forEach((f=>{a.has(f)||u.push(f)})),this.syncEngine.Fo(l,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=CA();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class a4{constructor(){this.Mo=new UT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="ConnectivityMonitor";class hD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(dD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(dD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg=null;function BT(){return Kg===null?Kg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kg++,"0x"+Kg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="RestConnection",LG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ly?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=BT(),u=this.zo(e,n.toUriEncodedString());fe(Rw,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:d}=new URL(u),m=Cf(d);return this.Jo(e,u,f,r,m).then((p=>(fe(Rw,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Sa(Rw,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=LG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class zG extends UG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=BT();return new Promise(((u,f)=>{const d=new dV;d.setWithCredentials(!0),d.listenOnce(hV.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case dy.NO_ERROR:const p=d.getResponseJson();fe(ar,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),u(p);break;case dy.TIMEOUT:fe(ar,`RPC '${e}' ${l} timed out`),f(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case dy.HTTP_ERROR:const v=d.getStatus();if(fe(ar,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const w=(function(P){const C=P.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(C)>=0?C:te.UNKNOWN})(T.status);f(new ce(w,T.message))}else f(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{fe(ar,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);fe(ar,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=BT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gV(),u=pV(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");fe(ar,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=l.createWebChannel(m,f);this.I_(p);let v=!1,b=!1;const T=new BG({Yo:x=>{b?fe(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(fe(ar,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),fe(ar,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Zo:()=>p.close()}),w=(x,P,C)=>{x.listen(P,(O=>{try{C(O)}catch(B){setTimeout((()=>{throw B}),0)}}))};return w(p,Ph.EventType.OPEN,(()=>{b||(fe(ar,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),w(p,Ph.EventType.CLOSE,(()=>{b||(b=!0,fe(ar,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),w(p,Ph.EventType.ERROR,(x=>{b||(b=!0,Sa(ar,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),T.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),w(p,Ph.EventType.MESSAGE,(x=>{var P;if(!b){const C=x.data[0];Ie(!!C,16349);const O=C,B=(O==null?void 0:O.error)||((P=O[0])==null?void 0:P.error);if(B){fe(ar,`RPC '${e}' stream ${i} received error:`,B);const L=B.status;let q=(function(M){const z=pn[M];if(z!==void 0)return vL(z)})(L),N=B.message;q===void 0&&(q=te.INTERNAL,N="Unknown error status: "+L+" with message "+B.message),b=!0,T.a_(new ce(q,N)),p.close()}else fe(ar,`RPC '${e}' stream ${i} received:`,C),T.u_(C)}})),w(u,mV.STAT_EVENT,(x=>{x.stat===_T.PROXY?fe(ar,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===_T.NOPROXY&&fe(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){return typeof window<"u"?window:null}function Ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return new HH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="PersistentStream";class o4{constructor(e,n,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(on(n.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(mD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(mD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FG extends o4{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YH(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?ln(l.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=kT(this.serializer),n.addTarget=(function(a,l){let u;const f=l.target;if(u=Uy(f)?{documents:RL(a,f)}:{query:PL(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=EL(a,l.resumeToken);const d=DT(a,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=hf(a,l.snapshotVersion.toTimestamp());const d=DT(a,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=XH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=kT(this.serializer),n.removeTarget=e,this.q_(n)}}class qG extends o4{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QH(e.writeResults,e.commitTime),r=ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=kT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gm(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{}class KG extends $G{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,NT(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(te.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,NT(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(on(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="RemoteStore";class GG{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Yo(this)&&(fe(_u,"Restarting streams for network reachability change."),await(async function(f){const d=_e(f);d.Ea.add(4),await zf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Xm(d)})(this))}))})),this.Ra=new HG(r,i)}}async function Xm(t){if(Yo(t))for(const e of t.da)await e(!0)}async function zf(t){for(const e of t.da)await e(!1)}function f0(t,e){const n=_e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ZA(n)?XA(n):qf(n).O_()&&QA(n,e))}function gf(t,e){const n=_e(t),r=qf(n);n.Ia.delete(e),r.O_()&&l4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yo(n)&&n.Ra.set("Unknown"))}function QA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qf(t).Y_(e)}function l4(t,e){t.Va.Ue(e),qf(t).Z_(e)}function XA(t){t.Va=new FH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qf(t).start(),t.Ra.ua()}function ZA(t){return Yo(t)&&!qf(t).x_()&&t.Ia.size>0}function Yo(t){return _e(t).Ea.size===0}function u4(t){t.Va=void 0}async function WG(t){t.Ra.set("Online")}async function YG(t){t.Ia.forEach(((e,n)=>{QA(t,e)}))}async function QG(t,e){u4(t),ZA(t)?(t.Ra.ha(e),XA(t)):t.Ra.set("Unknown")}async function XG(t,e,n){if(t.Ra.set("Online"),e instanceof wL&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){fe(_u,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yy(t,r)}else if(e instanceof by?t.Va.Ze(e):e instanceof bL?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await XL(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(d);m&&a.Ia.set(d,m.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(Zt.EMPTY_BYTE_STRING,m.snapshotVersion)),l4(a,f);const p=new ls(m.target,f,d,m.sequenceNumber);QA(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){fe(_u,"Failed to raise snapshot:",r),await Yy(t,r)}}async function Yy(t,e,n){if(!Go(e))throw e;t.Ea.add(1),await zf(t),t.Ra.set("Offline"),n||(n=()=>XL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(_u,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xm(t)}))}function c4(t,e){return e().catch((n=>Yy(t,n,e)))}async function Ff(t){const e=_e(t),n=Lo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ao;for(;ZG(e);)try{const i=await kG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,JG(e,i)}catch(i){await Yy(e,i)}f4(e)&&d4(e)}function ZG(t){return Yo(t)&&t.Ta.length<10}function JG(t,e){t.Ta.push(e);const n=Lo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function f4(t){return Yo(t)&&!Lo(t).x_()&&t.Ta.length>0}function d4(t){Lo(t).start()}async function eW(t){Lo(t).ra()}async function tW(t){const e=Lo(t);for(const n of t.Ta)e.ea(n.mutations)}async function nW(t,e,n){const r=t.Ta.shift(),i=MA.from(r,e,n);await c4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ff(t)}async function rW(t,e){e&&Lo(t).X_&&await(async function(r,i){if((function(l){return yL(l)&&l!==te.ABORTED})(i.code)){const a=r.Ta.shift();Lo(r).B_(),await c4(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ff(r)}})(t,e),f4(t)&&d4(t)}async function pD(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),fe(_u,"RemoteStore received new credentials");const r=Yo(n);n.Ea.add(3),await zf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xm(n)}async function zT(t,e){const n=_e(t);e?(n.Ea.delete(2),await Xm(n)):e||(n.Ea.add(2),await zf(n),n.Ra.set("Unknown"))}function qf(t){return t.ma||(t.ma=(function(n,r,i){const a=_e(n);return a.sa(),new FG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:WG.bind(null,t),t_:YG.bind(null,t),r_:QG.bind(null,t),H_:XG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ZA(t)?XA(t):t.Ra.set("Unknown")):(await t.ma.stop(),u4(t))}))),t.ma}function Lo(t){return t.fa||(t.fa=(function(n,r,i){const a=_e(n);return a.sa(),new qG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eW.bind(null,t),r_:rW.bind(null,t),ta:tW.bind(null,t),na:nW.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ff(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(_u,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new JA(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $f(t,e){if(on("AsyncQueue",`${e}: ${t}`),Go(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Oh(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.ga=new Dt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yf{constructor(e,n,r,i,a,l,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new yf(e,n,Gc.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aW{constructor(){this.queries=yD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=_e(n),a=i.queries;i.queries=yD(),a.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function yD(){return new Ss((t=>rL(t)),Km)}async function e1(t,e){const n=_e(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new iW,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=$f(l,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&n1(n)}async function t1(t,e){const n=_e(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sW(t,e){const n=_e(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&n1(n)}function oW(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function n1(t){t.Ca.forEach((e=>{e.next()}))}var FT,vD;(vD=FT||(FT={})).Ma="default",vD.Cache="cache";class r1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==FT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.serializer=e}$s(e){return wa(this.serializer,e)}Us(e){return e.metadata.exists?IL(this.serializer,e.document,!1):Mt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return ln(e)}}class uW{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=h4(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Je.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new _D(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const l of i.metadata.queries){const u=(n.get(l)||$e()).add(a);n.set(l,u)}}return n}async ja(e){const n=await MG(e,new _D(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await jG(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function h4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.key=e}}class p4{constructor(e){this.key=e}}class g4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=aL(e),this.tu=new Gc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gD,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),b=Hm(this.query,p)?p:null,T=!!v&&this.mutatedKeys.has(v.key),w=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;v&&b?v.data.isEqual(b.data)?T!==w&&(r.track({type:3,doc:b}),x=!0):this.su(v,b)||(r.track({type:2,doc:b}),x=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(u=!0)):!v&&b?(r.track({type:0,doc:b}),x=!0):v&&!b&&(r.track({type:1,doc:v}),x=!0,(f||d)&&(u=!0)),x&&(b?(l=l.add(b),a=w?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,T){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:x})}};return w(b)-w(T)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new yf(this.query,e.tu,a,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new p4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new m4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qo="SyncEngine";class cW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fW{constructor(e){this.key=e,this.hu=!1}}class dW{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ss((u=>rL(u)),Km),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(ve.comparator),this.Au=new Map,this.Ru=new FA,this.Vu={},this.mu=new Map,this.fu=vu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hW(t,e,n=!0){const r=d0(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await y4(r,e,n,!0),i}async function mW(t,e){const n=d0(t);await y4(n,e,!0,!1)}async function y4(t,e,n,r){const i=await mf(t.localStore,wr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await i1(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&f0(t.remoteStore,i),u}async function i1(t,e,n,r,i){t.pu=(p,v,b)=>(async function(w,x,P,C){let O=x.view.ru(P);O.Cs&&(O=await Hy(w.localStore,x.query,!1).then((({documents:N})=>x.view.ru(N,O))));const B=C&&C.targetChanges.get(x.targetId),L=C&&C.targetMismatches.get(x.targetId)!=null,q=x.view.applyChanges(O,w.isPrimaryClient,B,L);return qT(w,x.targetId,q.au),q.snapshot})(t,p,v,b);const a=await Hy(t.localStore,e,!0),l=new g4(e,a.Qs),u=l.ru(a.documents),f=Ym.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,f);qT(t,n,d.au);const m=new cW(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function pW(t,e,n){const r=_e(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Km(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gf(r.remoteStore,i.targetId),vf(r,i.targetId)})).catch(Ho)):(vf(r,i.targetId),await pf(r.localStore,i.targetId,!0))}async function gW(t,e){const n=_e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gf(n.remoteStore,r.targetId))}async function yW(t,e,n){const r=l1(t);try{const i=await(function(l,u){const f=_e(l),d=dt.now(),m=u.reduce(((b,T)=>b.add(T.key)),$e());let p,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=Or(),w=$e();return f.Ns.getEntries(b,m).next((x=>{T=x,T.forEach(((P,C)=>{C.isValidDocument()||(w=w.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,T))).next((x=>{p=x;const P=[];for(const C of u){const O=UH(C,p.get(C.key).overlayedDocument);O!=null&&P.push(new Is(C.key,O,WV(O.value.mapValue),Ft.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,P,u)})).next((x=>{v=x;const P=x.applyToLocalDocumentSet(p,w);return f.documentOverlayCache.saveOverlays(b,x.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:oL(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new Dt(Fe)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await Rs(r,i.changes),await Ff(r.remoteStore)}catch(i){const a=$f(i,"Failed to persist write");n.reject(a)}}async function v4(t,e){const n=_e(t);try{const r=await NG(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ie(l.hu,14607):i.removedDocuments.size>0&&(Ie(l.hu,42227),l.hu=!1))})),await Rs(n,r,e)}catch(r){await Ho(r)}}function bD(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=_e(l);f.onlineState=u;let d=!1;f.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(u)&&(d=!0)})),d&&n1(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vW(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Dt(ve.comparator);l=l.insert(a,Mt.newNoDocument(a,Pe.min()));const u=$e().add(a),f=new Wm(Pe.min(),new Map,new Dt(Fe),l,u);await v4(r,f),r.du=r.du.remove(a),r.Au.delete(e),o1(r)}else await pf(r.localStore,e,!1).then((()=>vf(r,e,n))).catch(Ho)}async function _W(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await DG(n.localStore,e);s1(n,r,null),a1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rs(n,i)}catch(i){await Ho(i)}}async function bW(t,e,n){const r=_e(t);try{const i=await(function(l,u){const f=_e(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next((p=>(Ie(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);s1(r,e,n),a1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rs(r,i)}catch(i){await Ho(i)}}async function wW(t,e){const n=_e(t);Yo(n.remoteStore)||fe(Qo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(l){const u=_e(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(n.localStore);if(r===Ao)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=$f(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function a1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function s1(t,e,n){const r=_e(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||_4(t,r)}))}function _4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),o1(t))}function qT(t,e,n){for(const r of n)r instanceof m4?(t.Ru.addReference(r.key,e),EW(t,r)):r instanceof p4?(fe(Qo,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_4(t,r.key)):Ee(19791,{wu:r})}function EW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(Qo,"New document in limbo: "+n),t.Eu.add(r),o1(t))}function o1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new fW(n)),t.du=t.du.insert(n,r),f0(t.remoteStore,new ls(wr(Lf(n.path)),r,"TargetPurposeLimboResolution",Rr.ce))}}async function Rs(t,e,n){const r=_e(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){i.push(d);const p=HA.As(f.targetId,d);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,d){const m=_e(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Y.forEach(d,(v=>Y.forEach(v.Es,(b=>m.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Y.forEach(v.ds,(b=>m.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!Go(p))throw p;fe(GA,"Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const b=m.Ms.get(v),T=b.snapshotVersion,w=b.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(v,w)}}})(r.localStore,a))}async function TW(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){fe(Qo,"User change. New user:",e.toKey());const r=await QL(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new ce(te.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rs(n,r.Ls)}}function xW(t,e){const n=_e(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let i=$e();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}async function AW(t,e){const n=_e(t),r=await Hy(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&qT(n,e.targetId,i.au),i}async function SW(t,e){const n=_e(t);return e4(n.localStore,e).then((r=>Rs(n,r)))}async function IW(t,e,n,r){const i=_e(t),a=await(function(u,f){const d=_e(u),m=_e(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,f).next((v=>v?d.localDocuments.getDocuments(p,v):Y.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await Ff(i.remoteStore):n==="acknowledged"||n==="rejected"?(s1(i,e,r||null),a1(i,e),(function(u,f){_e(_e(u).mutationQueue).ir(f)})(i.localStore,e)):Ee(6720,"Unknown batchState",{Su:n}),await Rs(i,a)):fe(Qo,"Cannot apply mutation batch with id: "+e)}async function RW(t,e){const n=_e(t);if(d0(n),l1(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await wD(n,r.toArray());n.gu=!0,await zT(n.remoteStore,!0);for(const a of i)f0(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(vf(n,l),pf(n.localStore,l,!0)))),gf(n.remoteStore,l)})),await i,await wD(n,r),(function(l){const u=_e(l);u.Au.forEach(((f,d)=>{gf(u.remoteStore,d)})),u.Ru.Jr(),u.Au=new Map,u.du=new Dt(ve.comparator)})(n),n.gu=!1,await zT(n.remoteStore,!1)}}async function wD(t,e,n){const r=_e(t),i=[],a=[];for(const l of e){let u;const f=r.Iu.get(l);if(f&&f.length!==0){u=await mf(r.localStore,wr(f[0]));for(const d of f){const m=r.Tu.get(d),p=await AW(r,m);p.snapshot&&a.push(p.snapshot)}}else{const d=await JL(r.localStore,l);u=await mf(r.localStore,d),await i1(r,b4(d),l,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(a),i}function b4(t){return nL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function PW(t){return(function(n){return _e(_e(n).persistence).Ts()})(_e(t).localStore)}async function OW(t,e,n,r){const i=_e(t);if(i.gu)return void fe(Qo,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const l=await e4(i.localStore,iL(a[0])),u=Wm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Zt.EMPTY_BYTE_STRING);await Rs(i,l,u);break}case"rejected":await pf(i.localStore,e,!0),vf(i,e,r);break;default:Ee(64155,n)}}async function CW(t,e,n){const r=d0(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){fe(Qo,"Adding an already active target "+i);continue}const a=await JL(r.localStore,i),l=await mf(r.localStore,a);await i1(r,b4(a),l.targetId,!1,l.resumeToken),f0(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await pf(r.localStore,i,!1).then((()=>{gf(r.remoteStore,i),vf(r,i)})).catch(Ho)}}function d0(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vW.bind(null,e),e.Pu.H_=sW.bind(null,e.eventManager),e.Pu.yu=oW.bind(null,e.eventManager),e}function l1(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_W.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bW.bind(null,e),e}function DW(t,e,n){const r=_e(t);(async function(a,l,u){try{const f=await l.getMetadata();if(await(function(b,T){const w=_e(b),x=ln(T.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",(P=>w.Ii.getBundleMetadata(P,T.id))).then((P=>!!P&&P.createTime.compareTo(x)>=0))})(a.localStore,f))return await l.close(),u._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(f)),Promise.resolve(new Set);u._updateProgress(h4(f));const d=new uW(f,l.serializer);let m=await l.bu();for(;m;){const v=await d.Ga(m);v&&u._updateProgress(v),m=await l.bu()}const p=await d.ja(a.localStore);return await Rs(a,p.Ha,void 0),await(function(b,T){const w=_e(b);return w.persistence.runTransaction("Save bundle","readwrite",(x=>w.Ii.saveBundleMetadata(x,T)))})(a.localStore,f),u._completeWith(p.progress),Promise.resolve(p.Ja)}catch(f){return Sa(Qo,`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YL(this.persistence,new WL,e.initialUser,this.serializer)}Cu(e){return new qA(c0.mi,this.serializer)}Du(e){return new a4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class NW extends ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Ky,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new qA((r=>Ky.mi(r,n)),this.serializer)}}class w4 extends ym{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await l1(this.xu.syncEngine),await Ff(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return YL(this.persistence,new WL,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new FL(r,e.asyncQueue,n)}Mu(e,n){const r=new FK(n,this.persistence);return new zK(e.asyncQueue,r)}Cu(e){const n=KA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new $A(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,s4(),Ey(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new a4}}class kW extends w4{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof Iw&&(this.sharedClientState.syncEngine={Co:IW.bind(null,n),vo:OW.bind(null,n),Fo:CW.bind(null,n),Ts:PW.bind(null,n),Do:SW.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await RW(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=s4();if(!Iw.v(n))throw new ce(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=KA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TW.bind(null,this.syncEngine),await zT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aW})()}createDatastore(e){const n=Qm(e.databaseInfo.databaseId),r=(function(a){return new zG(a)})(e.databaseInfo);return(function(a,l,u,f){return new KG(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new GG(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>bD(this.syncEngine,n,0)),(function(){return hD.v()?new hD:new VG})())}createSyncEngine(e,n){return(function(i,a,l,u,f,d,m){const p=new dW(i,a,l,u,f,d);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=_e(i);fe(_u,"RemoteStore shutting down."),a.Ea.add(5),await zf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vm.provider={build:()=>new vm};function ED(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):on("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new nr,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new lW(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const l=_e(i),u={documents:a.map((p=>pm(l.serializer,p)))},f=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Je.emptyPath(),u,a.length),d=new Map;f.forEach((p=>{const v=WH(l.serializer,p);d.set(v.key.toString(),v)}));const m=[];return a.forEach((p=>{const v=d.get(p.toString());Ie(!!v,55234,{key:p}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=ve.fromPath(r);this.mutations.push(new NA(i,this.precondition(i)))})),await(async function(r,i){const a=_e(r),l={writes:i.map((u=>gm(a.serializer,u)))};await a.Go("Commit",a.serializer.databaseId,Je.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});n=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ce(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Pe.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Pe.min()))throw new ce(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new YA(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new jW(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Fm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!yL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="FirestoreClient";class LW{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=_A.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{fe(Uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(fe(Uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$f(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pw(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await QL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function TD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u1(t);fe(Uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>pD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>pD(e.remoteStore,i))),t._onlineComponents=e}async function u1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Uo,"Using user provided OfflineComponentProvider");try{await Pw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Pw(t,new ym)}}else fe(Uo,"Using default OfflineComponentProvider"),await Pw(t,new NW(void 0));return t._offlineComponents}async function m0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Uo,"Using user provided OnlineComponentProvider"),await TD(t,t._uninitializedComponentsProvider._online)):(fe(Uo,"Using default OnlineComponentProvider"),await TD(t,new vm))),t._onlineComponents}function E4(t){return u1(t).then((e=>e.persistence))}function c1(t){return u1(t).then((e=>e.localStore))}function T4(t){return m0(t).then((e=>e.remoteStore))}function f1(t){return m0(t).then((e=>e.syncEngine))}function UW(t){return m0(t).then((e=>e.datastore))}async function _f(t){const e=await m0(t),n=e.eventManager;return n.onListen=hW.bind(null,e.syncEngine),n.onUnlisten=pW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gW.bind(null,e.syncEngine),n}function BW(t){return t.asyncQueue.enqueue((async()=>{const e=await E4(t),n=await T4(t);return e.setNetworkEnabled(!0),(function(i){const a=_e(i);return a.Ea.delete(0),Xm(a)})(n)}))}function zW(t){return t.asyncQueue.enqueue((async()=>{const e=await E4(t),n=await T4(t);return e.setNetworkEnabled(!1),(async function(i){const a=_e(i);a.Ea.add(0),await zf(a),a.Ra.set("Offline")})(n)}))}function FW(t,e){const n=new nr;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,l){try{const u=await(function(d,m){const p=_e(d);return p.persistence.runTransaction("read document","readonly",(v=>p.localDocuments.getDocument(v,m)))})(i,a);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ce(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=$f(u,`Failed to get document '${a} from cache`);l.reject(f)}})(await c1(t),e,n))),n.promise}function x4(t,e,n={}){const r=new nr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,d){const m=new h0({next:v=>{m.Nu(),l.enqueueAndForget((()=>t1(a,p)));const b=v.docs.has(u);!b&&v.fromCache?d.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?d.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new r1(Lf(u.path),m,{includeMetadataChanges:!0,qa:!0});return e1(a,p)})(await _f(t),t.asyncQueue,e,n,r))),r.promise}function qW(t,e){const n=new nr;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,l){try{const u=await Hy(i,a,!0),f=new g4(a,u.Qs),d=f.ru(u.documents),m=f.applyChanges(d,!1);l.resolve(m.snapshot)}catch(u){const f=$f(u,`Failed to execute query '${a} against cache`);l.reject(f)}})(await c1(t),e,n))),n.promise}function A4(t,e,n={}){const r=new nr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,d){const m=new h0({next:v=>{m.Nu(),l.enqueueAndForget((()=>t1(a,p))),v.fromCache&&f.source==="server"?d.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new r1(u,m,{includeMetadataChanges:!0,qa:!0});return e1(a,p)})(await _f(t),t.asyncQueue,e,n,r))),r.promise}function $W(t,e){const n=new h0(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){_e(i).Ca.add(a),a.next()})(await _f(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){_e(i).Ca.delete(a)})(await _f(t),n)))}}function KW(t,e,n,r){const i=(function(l,u){let f;return f=typeof l=="string"?_L().encode(l):l,(function(m,p){return new MW(m,p)})((function(m,p){if(m instanceof Uint8Array)return ED(m,p);if(m instanceof ArrayBuffer)return ED(new Uint8Array(m),p);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),u)})(n,Qm(e));t.asyncQueue.enqueueAndForget((async()=>{DW(await f1(t),i,r)}))}function HW(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const a=_e(r);return a.persistence.runTransaction("Get named query","readonly",(l=>a.Ii.getNamedQuery(l,i)))})(await c1(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firestore.googleapis.com",AD=!0;class SD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I4,this.ssl=AD}else this.host=e.host,this.ssl=e.ssl??AD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hG)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PK;switch(r.type){case"firstParty":return new NK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xD.get(n);r&&(fe("ComponentProvider","Removing Datastore"),xD.delete(n),r.terminate())})(this),Promise.resolve()}}function R4(t,e,n,r={}){var d;t=st(t,Zm);const i=Cf(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(zM(`https://${u}`),FM("Firestore",!0)),a.host!==I4&&a.host!==u&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!ms(f,l)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=Ln.MOCK_USER;else{m=H9(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ln(v)}t._authCredentials=new OK(new vV(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er=class P4{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new P4(this.firestore,e,this._query)}},Ct=class Nh{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nh(this.firestore,e,this._key)}toJSON(){return{type:Nh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zm(n,Nh._jsonSchema))return new Nh(e,r||null,new ve(Je.fromString(n.referencePath)))}};Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:vn("string",Ct._jsonSchemaVersion),referencePath:vn("string")};let So=class O4 extends Er{constructor(e,n,r){super(e,n,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ve(e))}withConverter(e){return new O4(this.firestore,e,this._path)}};function Qy(t,e,...n){if(t=De(t),bA("collection","path",e),t instanceof Zm){const r=Je.fromString(e,...n);return mC(r),new So(t,null,r)}{if(!(t instanceof Ct||t instanceof So))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return mC(r),new So(t.firestore,null,r)}}function GW(t,e){if(t=st(t,Zm),bA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Er(t,null,(function(r){return new As(Je.emptyPath(),r)})(e))}function bf(t,e,...n){if(t=De(t),arguments.length===1&&(e=_A.newId()),bA("doc","path",e),t instanceof Zm){const r=Je.fromString(e,...n);return hC(r),new Ct(t,null,new ve(r))}{if(!(t instanceof Ct||t instanceof So))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return hC(r),new Ct(t.firestore,t instanceof So?t.converter:null,new ve(r))}}function C4(t,e){return t=De(t),e=De(e),(t instanceof Ct||t instanceof So)&&(e instanceof Ct||e instanceof So)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function D4(t,e){return t=De(t),e=De(e),t instanceof Er&&e instanceof Er&&t.firestore===e.firestore&&Km(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="AsyncQueue";class RD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YA(this,"async_queue_retry"),this._c=()=>{const r=Ey();r&&fe(ID,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;fe(ID,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,on("INTERNAL UNHANDLED ERROR: ",PD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=JA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:PD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class WW{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=-1;let un=class extends Zm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new RD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RD(e),this._firestoreClient=void 0,await e}}};function QW(t,e){const n=typeof t=="object"?t:Qx(),r=typeof t=="string"?t:Ly,i=Nm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=$9("firestore");a&&R4(i,...a)}return i}function fr(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N4(t),t._firestoreClient}function N4(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,f,d,m){return new yH(u,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,S4(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new LW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}function k4(t,e){Sa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return M4(t,vm.provider,{build:r=>new w4(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function XW(t){Sa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();M4(t,vm.provider,{build:n=>new kW(n,e.cacheSizeBytes)})}function M4(t,e,n){if((t=st(t,un))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},N4(t)}function ZW(t){if(t._initialized&&!t._terminated)throw new ce(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new nr;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ba.v())return Promise.resolve();const i=r+GL;await ba.delete(i)})(KA(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function JW(t){return(function(n){const r=new nr;return n.asyncQueue.enqueueAndForget((async()=>wW(await f1(n),r))),r.promise})(fr(t=st(t,un)))}function eY(t){return BW(fr(t=st(t,un)))}function tY(t){return zW(fr(t=st(t,un)))}function nY(t,e){const n=fr(t=st(t,un)),r=new WW;return KW(n,t._databaseId,e,r),r}function rY(t,e){return HW(fr(t=st(t,un)),e).then((n=>n?new Er(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(Zt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ur(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zm(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:vn("string",ur._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(zm(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:vn("string",Bi._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zm(e,Ea._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ea(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ea._jsonSchemaVersion="firestore/vectorValue/1.0",Ea._jsonSchema={type:vn("string",Ea._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY=/^__.*__$/;class aY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uf(e,this.data,n,this.fieldTransforms)}}class j4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class p0{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new p0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V4(this.Ac)&&iY.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qm(e)}Cc(e,n,r,i=!1){return new p0({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ou(t){const e=t._freezeSettings(),n=Qm(t._databaseId);return new sY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g0(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);v1("Data must be an object, but it was:",l,r);const u=B4(r,l);let f,d;if(a.merge)f=new Pr(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const v=KT(e,p,n);if(!l.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);F4(m,v)||m.push(v)}f=new Pr(m),d=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=l.fieldTransforms;return new aY(new er(u),f,d)}class Jm extends Pu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jm}}function L4(t,e,n){return new p0({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class d1 extends Pu{_toFieldTransform(e){return new Gm(e.path,new ff)}isEqual(e){return e instanceof d1}}class h1 extends Pu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=L4(this,e,!0),r=this.vc.map((a=>Cu(a,n))),i=new mu(r);return new Gm(e.path,i)}isEqual(e){return e instanceof h1&&ms(this.vc,e.vc)}}class m1 extends Pu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=L4(this,e,!0),r=this.vc.map((a=>Cu(a,n))),i=new pu(r);return new Gm(e.path,i)}isEqual(e){return e instanceof m1&&ms(this.vc,e.vc)}}class p1 extends Pu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new df(e.serializer,cL(e.serializer,this.Fc));return new Gm(e.path,n)}isEqual(e){return e instanceof p1&&this.Fc===e.Fc}}function g1(t,e,n,r){const i=t.Cc(1,e,n);v1("Data must be an object, but it was:",i,r);const a=[],l=er.empty();Wo(r,((f,d)=>{const m=_1(e,f,n);d=De(d);const p=i.yc(m);if(d instanceof Jm)a.push(m);else{const v=Cu(d,p);v!=null&&(a.push(m),l.set(m,v))}}));const u=new Pr(a);return new j4(l,u,i.fieldTransforms)}function y1(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[KT(e,r,n)],f=[i];if(a.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(KT(e,a[v])),f.push(a[v+1]);const d=[],m=er.empty();for(let v=u.length-1;v>=0;--v)if(!F4(d,u[v])){const b=u[v];let T=f[v];T=De(T);const w=l.yc(b);if(T instanceof Jm)d.push(b);else{const x=Cu(T,w);x!=null&&(d.push(b),m.set(b,x))}}const p=new Pr(d);return new j4(m,p,l.fieldTransforms)}function U4(t,e,n,r=!1){return Cu(n,t.Cc(r?4:3,e))}function Cu(t,e){if(z4(t=De(t)))return v1("Unsupported field value:",e,t),B4(t,e);if(t instanceof Pu)return(function(r,i){if(!V4(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let f=Cu(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=De(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dt.fromDate(r);return{timestampValue:hf(i.serializer,a)}}if(r instanceof dt){const a=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(i.serializer,a)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ur)return{bytesValue:EL(i.serializer,r._byteString)};if(r instanceof Ct){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:LA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ea)return(function(l,u){return{mapValue:{fields:{[IA]:{stringValue:RA},[lf]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return DA(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Zv(r)}`)})(t,e)}function B4(t,e){const n={};return UV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,((r,i)=>{const a=Cu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function z4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Bi||t instanceof ur||t instanceof Ct||t instanceof Pu||t instanceof Ea)}function v1(t,e,n){if(!z4(n)||!wV(n)){const r=Zv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function KT(t,e,n){if((e=De(e))instanceof Bo)return e._internalPath;if(typeof e=="string")return _1(t,e);throw Xy("Field path arguments must be of type string or ",t,!1,void 0,n)}const oY=new RegExp("[~\\*/\\[\\]]");function _1(t,e,n){if(e.search(oY)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bo(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xy(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ce(te.INVALID_ARGUMENT,u+t+f)}function F4(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lY extends _m{data(){return super.data()}}function y0(t,e){return typeof e=="string"?_1(t,e):e instanceof Bo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b1{}class ep extends b1{}function is(t,e,...n){let r=[];e instanceof b1&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof w1)).length,u=a.filter((f=>f instanceof v0)).length;if(l>1||l>0&&u>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class v0 extends ep{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new v0(e,n,r)}_apply(e){const n=this._parse(e);return H4(e._query,n),new Er(e.firestore,e.converter,CT(e._query,n))}_parse(e){const n=Ou(e.firestore);return(function(a,l,u,f,d,m,p){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){CD(p,m);const T=[];for(const w of p)T.push(OD(f,a,w));v={arrayValue:{values:T}}}else v=OD(f,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||CD(p,m),v=U4(u,l,p,m==="in"||m==="not-in");return et.create(d,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uY(t,e,n){const r=e,i=y0("where",t);return v0._create(i,r,n)}class w1 extends b1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:gt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)H4(l,f),l=CT(l,f)})(e._query,n),new Er(e.firestore,e.converter,CT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E1 extends ep{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E1(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mm(a,l)})(e._query,this._field,this._direction);return new Er(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new As(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function $4(t,e="asc"){const n=e,r=y0("orderBy",t);return E1._create(r,n)}class _0 extends ep{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _0(e,n,r)}_apply(e){return new Er(e.firestore,e.converter,zy(e._query,this._limit,this._limitType))}}function cY(t){return EV("limit",t),_0._create("limit",t,"F")}function fY(t){return EV("limitToLast",t),_0._create("limitToLast",t,"L")}class b0 extends ep{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new b0(e,n,r)}_apply(e){const n=K4(e,this.type,this._docOrFields,this._inclusive);return new Er(e.firestore,e.converter,(function(i,a){return new As(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function dY(...t){return b0._create("startAt",t,!0)}function hY(...t){return b0._create("startAfter",t,!1)}class w0 extends ep{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new w0(e,n,r)}_apply(e){const n=K4(e,this.type,this._docOrFields,this._inclusive);return new Er(e.firestore,e.converter,(function(i,a){return new As(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function mY(...t){return w0._create("endBefore",t,!1)}function pY(...t){return w0._create("endAt",t,!0)}function K4(t,e,n,r){if(n[0]=De(n[0]),n[0]instanceof _m)return(function(a,l,u,f,d){if(!f)throw new ce(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const p of Hc(a))if(p.field.isKeyField())m.push(du(l,f.key));else{const v=f.data.field(p.field);if(r0(v))throw new ce(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=p.field.canonicalString();throw new ce(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}m.push(v)}return new Vo(m,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ou(t.firestore);return(function(l,u,f,d,m,p){const v=l.explicitOrderBy;if(m.length>v.length)throw new ce(te.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let T=0;T<m.length;T++){const w=m[T];if(v[T].field.isKeyField()){if(typeof w!="string")throw new ce(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!OA(l)&&w.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const x=l.path.child(Je.fromString(w));if(!ve.isDocumentKey(x))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const P=new ve(x);b.push(du(u,P))}else{const x=U4(f,d,w);b.push(x)}}return new Vo(b,p)})(t._query,t.firestore._databaseId,i,e,n,r)}}function OD(t,e,n){if(typeof(n=De(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OA(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ve.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(t,new ve(r))}if(n instanceof Ct)return du(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zv(n)}.`)}function CD(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H4(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T1{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[lf].arrayValue)==null?void 0:i.values)==null?void 0:a.map((l=>Ut(l.doubleValue)));return new Ea(n)}convertGeoPoint(e){return new Bi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fm(e));default:return null}}convertTimestamp(e){const n=ys(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Ie(NL(r),9688,{name:e});const i=new ko(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return i.isEqual(n)||on(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gY extends T1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ti=class G4 extends _m{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(y0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=G4._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:vn("string",Ti._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};let Xh=class extends Ti{data(e={}){return super.data(e)}},zi=class W4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Xh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Xh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:yY(u.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=W4._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_A.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function yY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}function Y4(t,e){return t instanceof Ti&&e instanceof Ti?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof zi&&e instanceof zi&&t._firestore===e._firestore&&D4(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t){t=st(t,Ct);const e=st(t.firestore,un);return x4(fr(e),t._key).then((n=>A1(e,t,n)))}zi._jsonSchemaVersion="firestore/querySnapshot/1.0",zi._jsonSchema={type:vn("string",zi._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};class Du extends T1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function _Y(t){t=st(t,Ct);const e=st(t.firestore,un),n=fr(e),r=new Du(e);return FW(n,t._key).then((i=>new Ti(e,r,t._key,i,new Xl(i!==null&&i.hasLocalMutations,!0),t.converter)))}function bY(t){t=st(t,Ct);const e=st(t.firestore,un);return x4(fr(e),t._key,{source:"server"}).then((n=>A1(e,t,n)))}function wY(t){t=st(t,Er);const e=st(t.firestore,un),n=fr(e),r=new Du(e);return q4(t._query),A4(n,t._query).then((i=>new zi(e,r,t,i)))}function EY(t){t=st(t,Er);const e=st(t.firestore,un),n=fr(e),r=new Du(e);return qW(n,t._query).then((i=>new zi(e,r,t,i)))}function TY(t){t=st(t,Er);const e=st(t.firestore,un),n=fr(e),r=new Du(e);return A4(n,t._query,{source:"server"}).then((i=>new zi(e,r,t,i)))}function DD(t,e,n){t=st(t,Ct);const r=st(t.firestore,un),i=E0(t.converter,e,n);return tp(r,[g0(Ou(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function HT(t,e,n,...r){t=st(t,Ct);const i=st(t.firestore,un),a=Ou(i);let l;return l=typeof(e=De(e))=="string"||e instanceof Bo?y1(a,"updateDoc",t._key,e,n,r):g1(a,"updateDoc",t._key,e),tp(i,[l.toMutation(t._key,Ft.exists(!0))])}function Q4(t){return tp(st(t.firestore,un),[new Bf(t._key,Ft.none())])}function X4(t,e){const n=st(t.firestore,un),r=bf(t),i=E0(t.converter,e);return tp(n,[g0(Ou(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ft.exists(!1))]).then((()=>r))}function x1(t,...e){var f,d,m;t=De(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$T(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($T(e[r])){const p=e[r];e[r]=(f=p.next)==null?void 0:f.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(m=p.complete)==null?void 0:m.bind(p)}let a,l,u;if(t instanceof Ct)l=st(t.firestore,un),u=Lf(t._key.path),a={next:p=>{e[r]&&e[r](A1(l,t,p))},error:e[r+1],complete:e[r+2]};else{const p=st(t,Er);l=st(p.firestore,un),u=p._query;const v=new Du(l);a={next:b=>{e[r]&&e[r](new zi(l,v,p,b))},error:e[r+1],complete:e[r+2]},q4(t._query)}return(function(v,b,T,w){const x=new h0(w),P=new r1(b,x,T);return v.asyncQueue.enqueueAndForget((async()=>e1(await _f(v),P))),()=>{x.Nu(),v.asyncQueue.enqueueAndForget((async()=>t1(await _f(v),P)))}})(fr(l),u,i,a)}function xY(t,e){return $W(fr(t=st(t,un)),$T(e)?e:{next:e})}function tp(t,e){return(function(r,i){const a=new nr;return r.asyncQueue.enqueueAndForget((async()=>yW(await f1(r),i,a))),a.promise})(fr(t),e)}function A1(t,e,n){const r=n.docs.get(e._key),i=new Du(t);return new Ti(t,i,e._key,r,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SY=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ou(e)}set(e,n,r){this._verifyNotCommitted();const i=wo(e,this._firestore),a=E0(i.converter,n,r),l=g0(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=wo(e,this._firestore);let l;return l=typeof(n=De(n))=="string"||n instanceof Bo?y1(this._dataReader,"WriteBatch.update",a._key,n,r,i):g1(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=wo(e,this._firestore);return this._mutations=this._mutations.concat(new Bf(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function wo(t,e){if((t=De(t)).firestore!==e)throw new ce(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ou(e)}get(e){const n=wo(e,this._firestore),r=new gY(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Ee(24041);const a=i[0];if(a.isFoundDocument())return new _m(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new _m(this._firestore,r,n._key,null,n.converter);throw Ee(18433,{doc:a})}))}set(e,n,r){const i=wo(e,this._firestore),a=E0(i.converter,n,r),l=g0(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const a=wo(e,this._firestore);let l;return l=typeof(n=De(n))=="string"||n instanceof Bo?y1(this._dataReader,"Transaction.update",a._key,n,r,i):g1(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,l),this}delete(e){const n=wo(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RY=class extends IY{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=wo(e,this._firestore),r=new Du(this._firestore);return super.get(e).then((i=>new Ti(this._firestore,r,n._key,i._document,new Xl(!1,!1),n.converter)))}};function PY(t,e,n){t=st(t,un);const r={...AY,...n};return(function(a){if(a.maxAttempts<1)throw new ce(te.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,l,u){const f=new nr;return a.asyncQueue.enqueueAndForget((async()=>{const d=await UW(a);new VW(a.asyncQueue,d,u,l,f).ju()})),f.promise})(fr(t),(i=>e(new RY(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(){return new Jm("deleteField")}function Z4(){return new d1("serverTimestamp")}function CY(...t){return new h1("arrayUnion",t)}function DY(...t){return new m1("arrayRemove",t)}function NY(t){return new p1("increment",t)}(function(e,n=!0){(function(i){Vf=i})($o),Co(new xa("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new un(new CK(r.getProvider("auth-internal")),new kK(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(d.options.projectId,m)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ui(uC,cC,e),Ui(uC,cC,"esm2020")})();const kY="@firebase/firestore-compat",MY="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ce("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){if(typeof Uint8Array>"u")throw new ce("unimplemented","Uint8Arrays are not available in this environment.")}function kD(){if(!pH())throw new ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}let J4=class GT{constructor(e){this._delegate=e}static fromBase64String(e){return kD(),new GT(ur.fromBase64String(e))}static fromUint8Array(e){return ND(),new GT(ur.fromUint8Array(e))}toBase64(){return kD(),this._delegate.toBase64()}toUint8Array(){return ND(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){return jY(t,["next","error","complete"])}function jY(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{enableIndexedDbPersistence(e,n){return k4(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return XW(e._delegate)}clearIndexedDbPersistence(e){return ZW(e._delegate)}}class e3{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ko||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Sa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){R4(this._delegate,e,n,r)}enableNetwork(){return eY(this._delegate)}disableNetwork(){return tY(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,bV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return JW(this._delegate)}onSnapshotsInSync(e){return xY(this._delegate,e)}get app(){if(!this._appCompat)throw new ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wf(this,Qy(this._delegate,e))}catch(n){throw yr(n,"collection()","Firestore.collection()")}}doc(e){try{return new wi(this,bf(this._delegate,e))}catch(n){throw yr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new gr(this,GW(this._delegate,e))}catch(n){throw yr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return PY(this._delegate,n=>e(new t3(this,n)))}batch(){return fr(this._delegate),new n3(new SY(this._delegate,e=>tp(this._delegate,e)))}loadBundle(e){return nY(this._delegate,e)}namedQuery(e){return rY(this._delegate,e).then(n=>n?new gr(this,n):null)}}class T0 extends T1{constructor(e){super(),this.firestore=e}convertBytes(e){return new J4(new ur(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return wi.forKey(n,this.firestore,null)}}function LY(t){IK(t)}class t3{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new T0(e)}get(e){const n=Zl(e);return this._delegate.get(n).then(r=>new bm(this._firestore,new Ti(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Zl(e);return r?(S1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Zl(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Zl(e);return this._delegate.delete(n),this}}class n3{constructor(e){this._delegate=e}set(e,n,r){const i=Zl(e);return r?(S1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Zl(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Zl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class bu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wm(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=bu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new bu(e,new T0(e),n),i.set(n,a)),a}}bu.INSTANCES=new WeakMap;class wi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new T0(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wi(n,new Ct(n._delegate,r,new ve(e)))}static forKey(e,n,r){return new wi(n,new Ct(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wf(this.firestore,Qy(this._delegate,e))}catch(n){throw yr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=De(e),e instanceof Ct?C4(this._delegate,e):!1}set(e,n){n=S1("DocumentReference.set",n);try{return n?DD(this._delegate,e,n):DD(this._delegate,e)}catch(r){throw yr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?HT(this._delegate,e):HT(this._delegate,e,n,...r)}catch(i){throw yr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Q4(this._delegate)}onSnapshot(...e){const n=r3(e),r=i3(e,i=>new bm(this.firestore,new Ti(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return x1(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=_Y(this._delegate):(e==null?void 0:e.source)==="server"?n=bY(this._delegate):n=vY(this._delegate),n.then(r=>new bm(this.firestore,new Ti(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wi(this.firestore,e?this._delegate.withConverter(bu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yr(t,e,n){return t.message=t.message.replace(e,n),t}function r3(t){for(const e of t)if(typeof e=="object"&&!WT(e))return e;return{}}function i3(t,e){var r,i;let n;return WT(t[0])?n=t[0]:WT(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class bm{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new wi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Y4(this._delegate,e._delegate)}}class wm extends bm{data(e){const n=this._delegate.data(e);return this._delegate._converter||RK(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class gr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new T0(e)}where(e,n,r){try{return new gr(this.firestore,is(this._delegate,uY(e,n,r)))}catch(i){throw yr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new gr(this.firestore,is(this._delegate,$4(e,n)))}catch(r){throw yr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new gr(this.firestore,is(this._delegate,cY(e)))}catch(n){throw yr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new gr(this.firestore,is(this._delegate,fY(e)))}catch(n){throw yr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new gr(this.firestore,is(this._delegate,dY(...e)))}catch(n){throw yr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new gr(this.firestore,is(this._delegate,hY(...e)))}catch(n){throw yr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new gr(this.firestore,is(this._delegate,mY(...e)))}catch(n){throw yr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new gr(this.firestore,is(this._delegate,pY(...e)))}catch(n){throw yr(n,"endAt()","Query.endAt()")}}isEqual(e){return D4(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=EY(this._delegate):(e==null?void 0:e.source)==="server"?n=TY(this._delegate):n=wY(this._delegate),n.then(r=>new YT(this.firestore,new zi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=r3(e),r=i3(e,i=>new YT(this.firestore,new zi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return x1(this._delegate,n,r)}withConverter(e){return new gr(this.firestore,e?this._delegate.withConverter(bu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class UY{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new wm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YT{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new gr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new UY(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new wm(this._firestore,r))})}isEqual(e){return Y4(this._delegate,e._delegate)}}class wf extends gr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wi(this.firestore,e):null}doc(e){try{return e===void 0?new wi(this.firestore,bf(this._delegate)):new wi(this.firestore,bf(this._delegate,e))}catch(n){throw yr(n,"doc()","CollectionReference.doc()")}}add(e){return X4(this._delegate,e).then(n=>new wi(this.firestore,n))}isEqual(e){return C4(this._delegate,e._delegate)}withConverter(e){return new wf(this.firestore,e?this._delegate.withConverter(bu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zl(t){return st(t,Ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(...e){this._delegate=new Bo(...e)}static documentId(){return new I1(zt.keyField().canonicalString())}isEqual(e){return e=De(e),e instanceof Bo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{static serverTimestamp(){const e=Z4();return e._methodName="FieldValue.serverTimestamp",new Wl(e)}static delete(){const e=OY();return e._methodName="FieldValue.delete",new Wl(e)}static arrayUnion(...e){const n=CY(...e);return n._methodName="FieldValue.arrayUnion",new Wl(n)}static arrayRemove(...e){const n=DY(...e);return n._methodName="FieldValue.arrayRemove",new Wl(n)}static increment(e){const n=NY(e);return n._methodName="FieldValue.increment",new Wl(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY={Firestore:e3,GeoPoint:Bi,Timestamp:dt,Blob:J4,Transaction:t3,WriteBatch:n3,DocumentReference:wi,DocumentSnapshot:bm,Query:gr,QueryDocumentSnapshot:wm,QuerySnapshot:YT,CollectionReference:wf,FieldPath:I1,FieldValue:Wl,setLogLevel:LY,CACHE_SIZE_UNLIMITED:YW};function zY(t,e){t.INTERNAL.registerComponent(new xa("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...BY}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t){zY(t,(e,n)=>new e3(e,n,new VY)),t.registerVersion(kY,MY)}FY(jf);const qY={apiKey:"AIzaSyCCk4Fh0jD3rudewpH-uPi1JR8-Nv9EzsQ",authDomain:"ideogrenci-b4ab8.firebaseapp.com",projectId:"ideogrenci-b4ab8",storageBucket:"ideogrenci-b4ab8.firebasestorage.app",messagingSenderId:"199114652020",appId:"1:199114652020:web:5c454c00cfdb9094d2d421"},a3=jf.initializeApp(qY),Io=R7(a3),kh=QW(a3);k4(kh).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser.")});const Kf=()=>A.jsxs("svg",{className:"animate-spin h-5 w-5 text-currentColor",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s3="/assets/idelogo-BBsGCnRP.png",R1=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$Y=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),MD=({type:t,message:e})=>{const n=t==="error",r={bgColor:n?"bg-red-100":"bg-green-100",borderColor:n?"border-red-400":"border-green-400",textColor:n?"text-red-700":"text-green-700",icon:n?A.jsx(R1,{className:"h-5 w-5"}):A.jsx($Y,{className:"h-5 w-5"})};return e?A.jsx("div",{className:`${r.bgColor} border-l-4 ${r.borderColor} p-4 mb-4 rounded-md`,role:"alert",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"py-1",children:r.icon}),A.jsx("div",{className:"ml-3",children:A.jsx("p",{className:`text-sm ${r.textColor}`,children:e})})]})}):null},KY=()=>{const[t,e]=R.useState("login"),[n,r]=R.useState(""),[i,a]=R.useState(""),[l,u]=R.useState(null),[f,d]=R.useState(null),[m,p]=R.useState(!1),[v,b]=R.useState(!1),[T,w]=R.useState(!1),x=B=>{let L=B.target.value;if(L.endsWith("@"))L=L+"ide.k12.tr";else{const q=L.indexOf("@");if(q>=0){const N=L.slice(0,q);L.slice(q+1).length===0&&(L=`${N}@ide.k12.tr`)}}r(L)},P=async B=>{B.preventDefault(),u(null),d(null),p(!0);const L=n.trim().toLowerCase();if(t!=="reset"&&(L.split("@")[1]||"")!=="ide.k12.tr"){u('Giri iin e-posta adresiniz "ide.k12.tr" uzantl olmaldr.'),p(!1);return}if(t!=="reset"&&i.length<6){u("ifreniz en az 6 karakter olmaldr."),p(!1);return}try{if(t==="register"){const q=await Vj(Io,L,i);if(q.user)try{await oA(q.user),d("Dorulama e-postas gnderildi. Ltfen gelen kutunuzu kontrol edin.")}catch{}}else t==="login"?await Lj(Io,L,i):t==="reset"&&(await Mj(Io,L),d("Parola sfrlama e-postas gnderildi. Ltfen gelen kutunuzu kontrol edin."),e("login"))}catch(q){const N=q;switch(console.error("Firebase Auth Error:",N.code),N.code){case"auth/invalid-email":u("Geersiz bir e-posta adresi girdiniz.");break;case"auth/user-not-found":u("Bu e-posta adresi ile kaytl bir kullanc bulunamad.");break;case"auth/wrong-password":case"auth/invalid-credential":u("E-posta adresiniz veya ifreniz hatal. Ltfen tekrar deneyin.");break;case"auth/email-already-in-use":u("Bu e-posta adresi zaten baka bir hesap tarafndan kullanlyor.");break;case"auth/too-many-requests":u("ok fazla deneme yapld. Ltfen daha sonra tekrar deneyin.");break;default:u("Bir hata olutu. Ltfen bilgilerinizi kontrol edip tekrar deneyin.")}}finally{p(!1)}},C=(B,L)=>{B.preventDefault(),u(null),d(null),a(""),e(L)},O=()=>t==="login"?"Hesabnza giri yapn":t==="register"?"Hesap oluturun":"Parolanz Sfrlayn";return A.jsx("div",{className:"relative flex flex-col items-center justify-center min-h-screen bg-gray-100 font-sans p-4",children:A.jsx("div",{className:"w-full max-w-sm",children:A.jsx("div",{className:"bg-white shadow-xl rounded-lg",children:A.jsxs("div",{className:"p-10",children:[A.jsx("div",{className:"mb-6 flex flex-col items-center justify-center gap-3",children:A.jsx("img",{src:s3,alt:"ide okullar",className:"h-16 w-auto"})}),A.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:O()}),t==="login"&&A.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Veya"," ",A.jsx("a",{href:"#",onClick:B=>C(B,"register"),className:"text-green-700 hover:underline font-semibold",children:"yeni bir hesap oluturun"})]}),A.jsxs("form",{onSubmit:P,className:"mt-6",children:[A.jsx(MD,{type:"error",message:l||""}),A.jsx(MD,{type:"success",message:f||""}),A.jsxs("div",{className:"mb-4 relative",children:[A.jsx("input",{id:"email",type:"email",value:n,onChange:x,placeholder:t==="login"?"E-posta adresi":"E-posta",className:"w-full pr-9 px-3 py-2 text-base text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 transition-colors",required:!0}),n&&A.jsx("button",{type:"button",onClick:()=>r(""),"aria-label":"E-postay temizle",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Temizle",children:""})]}),t!=="reset"&&A.jsxs("div",{className:"mb-6 relative",children:[A.jsx("input",{id:"password",type:T?"text":"password",value:i,onChange:B=>a(B.target.value),placeholder:t==="login"?"ifre":"Parola",className:"w-full pr-16 px-3 py-2 text-base text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 transition-colors",required:!0}),A.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[!!i&&A.jsx("button",{type:"button",onClick:()=>a(""),"aria-label":"Parolay temizle",title:"Temizle",className:"text-gray-500 hover:text-gray-700",children:""}),A.jsx("button",{type:"button",onClick:()=>w(B=>!B),"aria-label":T?"Parolay gizle":"Parolay gster",title:T?"Gizle":"Gster",className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:T?"Gizle":"Gster"})]})]}),t==="login"&&A.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm",children:[A.jsxs("label",{className:"inline-flex items-center gap-2 text-gray-700",children:[A.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-green-700 focus:ring-green-600",checked:v,onChange:B=>b(B.target.checked)}),"Beni hatrla"]}),A.jsx("a",{href:"#",onClick:B=>C(B,"reset"),className:"text-green-700 hover:underline font-semibold",children:"ifrenizi mi unuttunuz?"})]}),A.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[t==="login"&&A.jsx(A.Fragment,{children:A.jsx("span",{className:"hidden",children:"Hesabnz yok mu?"})}),t==="register"&&A.jsxs(A.Fragment,{children:[A.jsx("span",{children:"Zaten bir hesabnz var m? "}),A.jsx("a",{href:"#",onClick:B=>C(B,"login"),className:"text-green-700 hover:underline font-semibold",children:"Oturum an."})]}),t==="reset"&&A.jsx("a",{href:"#",onClick:B=>C(B,"login"),className:"text-gray-500 hover:underline font-semibold",children:"Giri ekranna geri dn"})]}),A.jsx("div",{className:"flex justify-center mt-6",children:A.jsx("button",{type:"submit",disabled:m,className:"bg-green-700 hover:bg-green-800 text-white font-semibold py-2.5 px-10 rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-200 disabled:bg-green-400 flex items-center justify-center min-w-[120px] h-11",children:m?A.jsx(Kf,{}):t==="login"?"Giri Yap":t==="register"?"Kayt Ol":"Sfrlama Linki Gnder"})})]})]})})})})},HY=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),GY=({user:t,onLogout:e})=>{var a;const[n,r]=R.useState(!1),i=R.useRef(null);return R.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),A.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40 border-b border-gray-200",children:A.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-16",children:A.jsxs("div",{className:"flex justify-between items-center h-16",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("img",{src:s3,alt:"ide okullar",className:"h-8 w-auto"}),A.jsx("span",{className:"text-xl font-bold text-gray-800",children:"ide okullar"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("nav",{className:"hidden sm:flex items-center gap-2",children:A.jsx("a",{href:"#",className:"p-3 bg-[#107C41] text-white rounded-full",children:A.jsx(HY,{})})}),A.jsxs("div",{className:"relative ml-4",ref:i,children:[A.jsxs("button",{onClick:()=>r(!n),className:"flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#107C41]",children:[A.jsx("span",{className:"sr-only",children:"Kullanc mensn a"}),A.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:`https://ui-avatars.com/api/?name=${(a=t.email)==null?void 0:a.charAt(0)}&background=107C41&color=fff&bold=true&size=128`,alt:"Kullanc avatar"})]}),n&&A.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu",children:[A.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 border-b",children:[A.jsx("p",{className:"font-semibold",children:"Giri Yapan"}),A.jsx("p",{className:"truncate",title:t.email||"",children:t.email})]}),A.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),e(),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"k Yap"})]})]})]})]})})})},P1=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4","aria-hidden":"true",children:[A.jsx("circle",{cx:"12",cy:"12",r:"9"}),A.jsx("path",{d:"M12 8h.01"}),A.jsx("path",{d:"M11 12h1v4h1"})]}),jD=({title:t,value:e,icon:n,badgeLabel:r,infoTitle:i})=>{const a=isNaN(Number(e))?"0":Number(e).toLocaleString("tr-TR");return A.jsxs("div",{className:"relative bg-white rounded-lg p-2.5 border border-gray-200 shadow-sm overflow-hidden",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsx("p",{className:"text-[9px] uppercase tracking-wide text-gray-500 font-medium",children:t}),i&&A.jsx("span",{title:i,"aria-label":i,className:"text-gray-400 hover:text-gray-600",children:A.jsx(P1,{className:"h-3 w-3"})}),r]}),A.jsx("p",{className:"text-lg font-extrabold text-gray-900 mt-0.5",children:a})]}),A.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:n})]})},WY=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),o3=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 4v16a2 2 0 002 2h10a2 2 0 002-2V8.586a2 2 0 00-.586-1.414l-4-4A2 2 0 0010.586 2H7a2 2 0 00-2 2zm5 12a3 3 0 100-6 3 3 0 000 6z"})}),YY=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),yh=({columnKey:t,sortConfig:e})=>{const n=(e==null?void 0:e.key)===t,r=n&&(e==null?void 0:e.direction)==="ascending",i=n&&(e==null?void 0:e.direction)==="descending",a=r?"text-gray-900":"text-gray-400",l=i?"text-gray-900":"text-gray-400";return A.jsxs("span",{className:"inline-flex flex-col -space-y-1.5 ml-1",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${a}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${l}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})},VD=(t,e,n=0)=>{const r=t||0,i=e||0,a=n||0,l=r+i+a,u=r-i/4;if(l===0)return{percentage:0,display:"0%",net:0};const f=Math.round(Math.max(0,u)/l*100);return{percentage:f,display:`${f}%`,net:u}},LD=t=>t>=70?"bg-[#4CAF50]":t>=60?"bg-[#FFC107]":"bg-[#F44336]",QY=t=>t>=70?"bg-emerald-50 text-emerald-700 border border-emerald-200":t>=60?"bg-amber-50 text-amber-700 border border-amber-200":"bg-rose-50 text-rose-700 border border-rose-200",XY=({onAddResult:t,currentUserEmail:e,onCancel:n,isCompact:r})=>{const[i,a]=R.useState(""),[l,u]=R.useState(""),[f,d]=R.useState(""),[m,p]=R.useState(""),[v,b]=R.useState(!1),[T,w]=R.useState(null),x=async()=>{if(!i||l===""||f===""||m===""){w("Tm alanlar doldurulmaldr.");return}w(null),b(!0);try{await t(i,parseInt(l,10),parseInt(f,10),parseInt(m,10))}catch(O){console.error("Error in handleSave:",O)}finally{b(!1)}},P=r?"px-1 py-0.5":"px-2 py-1",C=O=>{O.key==="Enter"&&(O.preventDefault(),x())};return A.jsxs("tr",{className:"bg-yellow-50 border-b",children:[A.jsx("td",{className:`${P} border-r border-l border-gray-300`,children:A.jsxs("select",{value:i,onChange:O=>a(O.target.value),onKeyDown:C,className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"}`,required:!0,children:[A.jsx("option",{value:"",disabled:!0,children:"Bir ders sein"}),A.jsx("option",{value:"Trke",children:"Trke"}),A.jsx("option",{value:"Matematik",children:"Matematik"}),A.jsx("option",{value:"Fen Bilgisi",children:"Fen Bilgisi"}),A.jsx("option",{value:"Sosyal Bilgiler",children:"Sosyal Bilgiler"}),A.jsx("option",{value:"Din Kltr",children:"Din Kltr"}),A.jsx("option",{value:"ngilizce",children:"ngilizce"})]})}),A.jsx("td",{className:`${P} border-r border-gray-300 w-28`,children:A.jsx("input",{type:"number",value:l,onChange:O=>{const B=O.target.value.replace(/\D/g,"");if(B==="")return u("");const L=Math.min(50,parseInt(B,10));u(String(L))},onKeyDown:C,placeholder:"0",min:"0",max:"50",className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"} text-right`})}),A.jsx("td",{className:`${P} border-r border-gray-300 w-28`,children:A.jsx("input",{type:"number",value:f,onChange:O=>{const B=O.target.value.replace(/\D/g,"");if(B==="")return d("");const L=Math.min(50,parseInt(B,10));d(String(L))},onKeyDown:C,placeholder:"0",min:"0",max:"50",className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"} text-right`})}),A.jsx("td",{className:`${P} border-r border-gray-300 w-28`,children:A.jsx("input",{type:"number",value:m,onChange:O=>{const B=O.target.value.replace(/\D/g,"");if(B==="")return p("");const L=Math.min(50,parseInt(B,10));p(String(L))},onKeyDown:C,placeholder:"0",min:"0",max:"50",className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"} text-right`})}),A.jsx("td",{className:`${P} border-r border-gray-300 w-28`,children:((Number(l)||0)-(Number(f)||0)/4).toFixed(2)}),A.jsx("td",{className:`${P} border-r border-gray-300 w-48`}),A.jsx("td",{className:`${P} border-r border-gray-300 truncate`,children:e}),A.jsxs("td",{className:`${P} border-r border-gray-300 w-32 text-center`,children:[A.jsxs("div",{className:"flex items-center justify-center gap-1",children:[A.jsx("button",{onClick:x,disabled:v,className:`${r?"p-1":"p-1.5"} text-green-600 hover:bg-green-100 rounded-full`,children:v?A.jsx(Kf,{}):A.jsx(o3,{})}),A.jsx("button",{onClick:n,disabled:v,className:`${r?"p-1":"p-1.5"} text-red-600 hover:bg-red-100 rounded-full`,children:A.jsx(R1,{})})]}),T&&A.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:T})]})]})},ZY=({results:t,currentUserId:e,onDelete:n,onAddResult:r,onUpdateResult:i,currentUserEmail:a,isAdding:l,onCancelAdd:u,sortConfig:f,requestSort:d,isCompact:m})=>{const[p,v]=R.useState(null),[b,T]=R.useState({dersAdi:"",dogruSayisi:"",yanlisSayisi:"",bosSayisi:""}),[w,x]=R.useState(!1),[P,C]=R.useState(null),O=M=>{v(M.id),T({dersAdi:M.dersAdi,dogruSayisi:String(M.dogruSayisi),yanlisSayisi:String(M.yanlisSayisi),bosSayisi:String(M.bosSayisi||0)}),C(null)},B=()=>{v(null),C(null)},L=M=>{const{name:z,value:U}=M.target;if(z==="dogruSayisi"||z==="yanlisSayisi"||z==="bosSayisi"){const F=U.replace(/\D/g,""),V=F===""?"":String(Math.min(50,parseInt(F,10)));T(be=>({...be,[z]:V}))}else T(F=>({...F,[z]:U}))},q=async M=>{if(!b.dersAdi||b.dogruSayisi===""||b.yanlisSayisi===""||b.bosSayisi===""){C("Tm alanlar doldurulmaldr.");return}C(null),x(!0);try{await i(M,b.dersAdi,parseInt(b.dogruSayisi,10),parseInt(b.yanlisSayisi,10),parseInt(b.bosSayisi,10)),v(null)}catch{}finally{x(!1)}},N=m?"px-1 py-0.5":"px-2 py-1",D=m?"px-1.5 py-1.5":"px-2 py-2";return A.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg shadow-sm bg-white",children:A.jsxs("table",{className:"w-full text-xs text-left text-gray-700",children:[A.jsx("thead",{className:"text-[10px] text-gray-700 uppercase bg-gradient-to-b from-gray-100 to-gray-200",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200`,children:A.jsxs("button",{onClick:()=>d("dersAdi"),className:"flex items-center gap-1 w-full",children:["Ders Ad ",A.jsx(yh,{columnKey:"dersAdi",sortConfig:f})]})}),A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:A.jsxs("button",{onClick:()=>d("dogruSayisi"),className:"flex items-center gap-1 w-full justify-center",children:["Doru ",A.jsx(yh,{columnKey:"dogruSayisi",sortConfig:f})]})}),A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:A.jsxs("button",{onClick:()=>d("yanlisSayisi"),className:"flex items-center gap-1 w-full justify-center",children:["Yanl ",A.jsx(yh,{columnKey:"yanlisSayisi",sortConfig:f})]})}),A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:A.jsxs("button",{onClick:()=>d("bosSayisi"),className:"flex items-center gap-1 w-full justify-center",children:["Bo ",A.jsx(yh,{columnKey:"bosSayisi",sortConfig:f})]})}),A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:"Net"}),A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-48 text-center`,children:"Baar Oran"}),A.jsx("th",{scope:"col",className:`${D} border-r border-gray-200`,children:A.jsxs("button",{onClick:()=>d("kullaniciEmail"),className:"flex items-center gap-1 w-full",children:["E-posta ",A.jsx(yh,{columnKey:"kullaniciEmail",sortConfig:f})]})}),A.jsx("th",{scope:"col",className:`${D} w-32 text-center`,children:"Eylemler"})]})}),A.jsxs("tbody",{children:[l&&A.jsx(XY,{onAddResult:r,currentUserEmail:a,onCancel:u,isCompact:m}),t.map((M,z)=>{const U=p===M.id,F=`${z%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-50/70 transition-colors`;if(U){const{percentage:ie,net:pe}=VD(Number(b.dogruSayisi)||0,Number(b.yanlisSayisi)||0,Number(b.bosSayisi)||0),xe=LD(ie),$=oe=>{oe.key==="Enter"&&(oe.preventDefault(),q(M.id))};return A.jsxs("tr",{className:"bg-yellow-50 border-b",children:[A.jsx("td",{className:`${N} border-r border-l border-gray-300`,children:A.jsx("input",{type:"text",name:"dersAdi",value:b.dersAdi,onChange:L,onKeyDown:$,className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2"})}),A.jsx("td",{className:`${N} border-r border-gray-300 w-28`,children:A.jsx("input",{type:"number",name:"dogruSayisi",value:b.dogruSayisi,onChange:L,onKeyDown:$,min:"0",max:"50",className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2 text-right"})}),A.jsx("td",{className:`${N} border-r border-gray-300 w-28`,children:A.jsx("input",{type:"number",name:"yanlisSayisi",value:b.yanlisSayisi,onChange:L,onKeyDown:$,min:"0",max:"50",className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2 text-right"})}),A.jsx("td",{className:`${N} border-r border-gray-300 w-28`,children:A.jsx("input",{type:"number",name:"bosSayisi",value:b.bosSayisi,onChange:L,onKeyDown:$,min:"0",max:"50",className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2 text-right"})}),A.jsx("td",{className:`${N} text-right border-r border-gray-300 w-28`,children:pe.toFixed(2)}),A.jsx("td",{className:`${N} border-r border-gray-300 w-48`,children:A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsx("div",{className:"w-full h-1.5 bg-gray-100 rounded-full",children:A.jsx("div",{className:`${xe} h-1.5 rounded-full`,style:{width:`${ie}%`}})}),A.jsxs("span",{className:"font-medium text-gray-700 text-[10px]",children:[ie,"%"]})]})}),A.jsx("td",{className:`${N} border-r border-gray-300 truncate`,children:M.kullaniciEmail}),A.jsxs("td",{className:`${N} border-r border-gray-300 w-32`,children:[A.jsxs("div",{className:"flex justify-center items-center gap-1",children:[A.jsx("button",{onClick:()=>q(M.id),disabled:w,className:"p-1.5 text-green-600 hover:bg-green-100 rounded-full disabled:opacity-50","aria-label":"Kaydet",children:w?A.jsx(Kf,{}):A.jsx(o3,{})}),A.jsx("button",{onClick:B,disabled:w,className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full disabled:opacity-50","aria-label":"ptal",children:A.jsx(R1,{})})]}),P&&A.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:P})]})]},M.id)}const{percentage:V,display:be,net:Se}=VD(M.dogruSayisi||0,M.yanlisSayisi||0,M.bosSayisi||0),Z=LD(V);return A.jsxs("tr",{className:`${F} border-b`,children:[A.jsx("td",{className:`${N} font-medium text-gray-900 border-r border-l border-gray-200`,children:M.dersAdi}),A.jsx("td",{className:`${N} text-right border-r border-gray-200`,children:M.dogruSayisi}),A.jsx("td",{className:`${N} text-right border-r border-gray-200`,children:M.yanlisSayisi}),A.jsx("td",{className:`${N} text-right border-r border-gray-200`,children:M.bosSayisi||0}),A.jsx("td",{className:`${N} text-right border-r border-gray-200 ${V>=70?"text-emerald-700":V>=60?"text-amber-700":"text-rose-700"}`,children:Se.toFixed(2)}),A.jsx("td",{className:`${N} border-r border-gray-200`,children:A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsx("div",{className:"w-full h-1.5 bg-gray-100 rounded-full",children:A.jsx("div",{className:`${Z} h-1.5 rounded-full`,style:{width:`${V}%`}})}),A.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-[10px] font-medium ${QY(V)}`,children:be})]})}),A.jsx("td",{className:`${N} border-r border-gray-200 truncate`,title:M.kullaniciEmail,children:M.kullaniciEmail}),A.jsx("td",{className:`${N} border-r border-gray-200`,children:M.kullaniciId===e&&A.jsxs("div",{className:"flex justify-center items-center gap-1",children:[A.jsx("button",{onClick:()=>O(M),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full","aria-label":"Dzenle",children:A.jsx(YY,{})}),A.jsx("button",{onClick:()=>n(M.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full","aria-label":"Sil",children:A.jsx(WY,{})})]})})]},M.id)}),t.length===0&&!l&&A.jsx("tr",{className:"bg-white",children:A.jsxs("td",{colSpan:8,className:"text-center text-gray-500 py-8 border border-gray-300",children:[A.jsx("p",{children:"Henz test sonucu eklenmemi."}),A.jsx("p",{className:"text-xs",children:'Balamak iin yukardaki "Yeni Sonu Ekle" butonunu kullann.'})]})})]})]})})},JY=({message:t,type:e,onClose:n})=>{const[r,i]=R.useState(!1);R.useEffect(()=>{i(!0);const f=setTimeout(()=>{i(!1),setTimeout(n,300)},2700);return()=>clearTimeout(f)},[n]);const a="fixed top-5 right-5 flex items-center p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform text-white",l={success:"bg-green-500",error:"bg-red-500"},u=r?"translate-x-0 opacity-100":"translate-x-10 opacity-0";return A.jsxs("div",{className:`${a} ${l[e]} ${u}`,children:[A.jsx("span",{className:"material-symbols-outlined",children:e==="success"?"check_circle":"error"}),A.jsx("span",{className:"ml-3 font-medium",children:t})]})},UD=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t??"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),eQ=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.125-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.125-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),BD=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})});function l3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=l3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=l3(t))&&(r&&(r+=" "),r+=e);return r}var Ow={},Cw={},zD;function tQ(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Cw)),Cw}var Dw={},FD;function u3(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Dw)),Dw}var Nw={},qD;function c3(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Nw)),Nw}var kw={},$D;function O1(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const d=n[a];u?d==="\\"&&a+1<i?(a++,l+=n[a]):d===u?u="":l+=d:f?d==='"'||d==="'"?u=d:d==="]"?(f=!1,r.push(l),l=""):l+=d:d==="["?(f=!0,l&&(r.push(l),l="")):d==="."?l&&(r.push(l),l=""):l+=d,a++}return l&&r.push(l),r}t.toPath=e})(kw)),kw}var KD;function C1(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tQ(),n=u3(),r=c3(),i=O1();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?n.isDeepKey(f)?a(u,i.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=u[f];return m===void 0?d:m}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?d:m}}}function l(u,f,d){if(f.length===0)return d;let m=u;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return d;m=m[f[p]]}return m===void 0?d:m}t.get=a})(Ow)),Ow}var Mw,HD;function nQ(){return HD||(HD=1,Mw=C1().get),Mw}var rQ=nQ();const Ef=Oa(rQ);var jw={exports:{}},xt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function iQ(){if(GD)return xt;GD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function T(w){if(typeof w=="object"&&w!==null){var x=w.$$typeof;switch(x){case t:switch(w=w.type,w){case n:case i:case r:case f:case d:case v:return w;default:switch(w=w&&w.$$typeof,w){case l:case u:case p:case m:return w;case a:return w;default:return x}}case e:return x}}}return xt.ContextConsumer=a,xt.ContextProvider=l,xt.Element=t,xt.ForwardRef=u,xt.Fragment=n,xt.Lazy=p,xt.Memo=m,xt.Portal=e,xt.Profiler=i,xt.StrictMode=r,xt.Suspense=f,xt.SuspenseList=d,xt.isContextConsumer=function(w){return T(w)===a},xt.isContextProvider=function(w){return T(w)===l},xt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},xt.isForwardRef=function(w){return T(w)===u},xt.isFragment=function(w){return T(w)===n},xt.isLazy=function(w){return T(w)===p},xt.isMemo=function(w){return T(w)===m},xt.isPortal=function(w){return T(w)===e},xt.isProfiler=function(w){return T(w)===i},xt.isStrictMode=function(w){return T(w)===r},xt.isSuspense=function(w){return T(w)===f},xt.isSuspenseList=function(w){return T(w)===d},xt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===l||w.$$typeof===a||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},xt.typeOf=T,xt}var WD;function aQ(){return WD||(WD=1,jw.exports=iQ()),jw.exports}var sQ=aQ(),Cr=t=>t===0?0:t>0?1:-1,ti=t=>typeof t=="number"&&t!=+t,Jl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ke=t=>(typeof t=="number"||t instanceof Number)&&!ti(t),Ra=t=>ke(t)||typeof t=="string",oQ=0,Em=t=>{var e=++oQ;return"".concat(t||"").concat(e)},qi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&typeof e!="string")return r;var a;if(Jl(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return ti(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},f3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function yn(t,e,n){return ke(t)&&ke(e)?t+n*(e-t):e}function d3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ef(r,e))===n)}var $t=t=>t===null||typeof t>"u",np=t=>$t(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),lQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function D1(t){if(typeof t!="string")return!1;var e=lQ;return e.includes(t)}var uQ=["viewBox","children"],YD=["points","pathLength"],Vw={svg:uQ,polygon:YD,polyline:YD},N1=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{D1(i)&&(r[i]=(a=>n[i](n,a)))}),r},cQ=(t,e,n)=>r=>(t(e,n,r),null),k1=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];D1(i)&&typeof a=="function"&&(r||(r={}),r[i]=cQ(a,e,n))}),r},fQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function h3(t){if(typeof t!="string")return!1;var e=fQ;return e.includes(t)}function Xo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return h3(r)});return Object.fromEntries(e)}var QD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",XD=null,Lw=null,m3=t=>{if(t===XD&&Array.isArray(Lw))return Lw;var e=[];return R.Children.forEach(t,n=>{$t(n)||(sQ.isFragment(n)?e=e.concat(m3(n.props.children)):e.push(n))}),Lw=e,XD=t,e};function dQ(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>QD(i)):r=[QD(e)],m3(t).forEach(i=>{var a=Ef(i,"type.displayName")||Ef(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var p3=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,hQ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&(Vw==null?void 0:Vw[r]))!==null&&i!==void 0?i:[],l=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||h3(e)),f=!!n&&D1(e);return l||u||f},cn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(R.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;hQ((l=r)===null||l===void 0?void 0:l[a],a,e,n)&&(i[a]=r[a])}),i},mQ=["children","width","height","viewBox","className","style","title","desc"];function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QT.apply(null,arguments)}function pQ(t,e){if(t==null)return{};var n,r,i=gQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g3=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:f,desc:d}=t,m=pQ(t,mQ),p=a||{width:r,height:i,x:0,y:0},v=At("recharts-surface",l);return R.createElement("svg",QT({},cn(m,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),R.createElement("title",null,f),R.createElement("desc",null,d),n)}),yQ=["children","className"];function XT(){return XT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XT.apply(null,arguments)}function vQ(t,e){if(t==null)return{};var n,r,i=_Q(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Q(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $i=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=vQ(t,yQ),a=At("recharts-layer",r);return R.createElement("g",XT({className:a},cn(i,!0),{ref:e}),n)}),bQ=jM(),wQ=R.createContext(null);function Ot(t){return function(){return t}}const y3=Math.cos,Zy=Math.sin,Ki=Math.sqrt,Jy=Math.PI,x0=2*Jy,ZT=Math.PI,JT=2*ZT,zl=1e-6,EQ=JT-zl;function v3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function TQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v3;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v3:TQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-e,d=i-n,m=l-e,p=u-n,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>zl)if(!(Math.abs(p*f-d*m)>zl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,T=i-u,w=f*f+d*d,x=b*b+T*T,P=Math.sqrt(w),C=Math.sqrt(v),O=a*Math.tan((ZT-Math.acos((w+v-x)/(2*P*C)))/2),B=O/C,L=O/P;Math.abs(B-1)>zl&&this._append`L${e+B*m},${n+B*p}`,this._append`A${a},${a},0,0,${+(p*b>m*T)},${this._x1=e+L*f},${this._y1=n+L*d}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,m=n+f,p=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>zl||Math.abs(this._y1-m)>zl)&&this._append`L${d},${m}`,r&&(v<0&&(v=v%JT+JT),v>EQ?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=m}`:v>zl&&this._append`A${r},${r},0,${+(v>=ZT)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function M1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xQ(e)}function j1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _3(t){this._context=t}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function A0(t){return new _3(t)}function b3(t){return t[0]}function w3(t){return t[1]}function E3(t,e){var n=Ot(!0),r=null,i=A0,a=null,l=M1(u);t=typeof t=="function"?t:t===void 0?b3:Ot(t),e=typeof e=="function"?e:e===void 0?w3:Ot(e);function u(f){var d,m=(f=j1(f)).length,p,v=!1,b;for(r==null&&(a=i(b=l())),d=0;d<=m;++d)!(d<m&&n(p=f[d],d,f))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,d,f),+e(p,d,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ot(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function Hg(t,e,n){var r=null,i=Ot(!0),a=null,l=A0,u=null,f=M1(d);t=typeof t=="function"?t:t===void 0?b3:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w3:Ot(+n);function d(p){var v,b,T,w=(p=j1(p)).length,x,P=!1,C,O=new Array(w),B=new Array(w);for(a==null&&(u=l(C=f())),v=0;v<=w;++v){if(!(v<w&&i(x=p[v],v,p))===P)if(P=!P)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=v-1;T>=b;--T)u.point(O[T],B[T]);u.lineEnd(),u.areaEnd()}P&&(O[v]=+t(x,v,p),B[v]=+e(x,v,p),u.point(r?+r(x,v,p):O[v],n?+n(x,v,p):B[v]))}if(C)return u=null,C+""||null}function m(){return E3().defined(i).curve(l).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ot(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ot(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ot(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ot(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ot(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ot(+p),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ot(!!p),d):i},d.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),d):l},d.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),d):a},d}class T3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function AQ(t){return new T3(t,!0)}function SQ(t){return new T3(t,!1)}const V1={draw(t,e){const n=Ki(e/Jy);t.moveTo(n,0),t.arc(0,0,n,0,x0)}},IQ={draw(t,e){const n=Ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},x3=Ki(1/3),RQ=x3*2,PQ={draw(t,e){const n=Ki(e/RQ),r=n*x3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OQ={draw(t,e){const n=Ki(e),r=-n/2;t.rect(r,r,n,n)}},CQ=.8908130915292852,A3=Zy(Jy/10)/Zy(7*Jy/10),DQ=Zy(x0/10)*A3,NQ=-y3(x0/10)*A3,kQ={draw(t,e){const n=Ki(e*CQ),r=DQ*n,i=NQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=x0*a/5,u=y3(l),f=Zy(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Uw=Ki(3),MQ={draw(t,e){const n=-Ki(e/(Uw*3));t.moveTo(0,n*2),t.lineTo(-Uw*n,-n),t.lineTo(Uw*n,-n),t.closePath()}},yi=-.5,vi=Ki(3)/2,ex=1/Ki(12),jQ=(ex/2+1)*3,VQ={draw(t,e){const n=Ki(e/jQ),r=n/2,i=n*ex,a=r,l=n*ex+n,u=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,f),t.lineTo(yi*r-vi*i,vi*r+yi*i),t.lineTo(yi*a-vi*l,vi*a+yi*l),t.lineTo(yi*u-vi*f,vi*u+yi*f),t.lineTo(yi*r+vi*i,yi*i-vi*r),t.lineTo(yi*a+vi*l,yi*l-vi*a),t.lineTo(yi*u+vi*f,yi*f-vi*u),t.closePath()}};function LQ(t,e){let n=null,r=M1(i);t=typeof t=="function"?t:Ot(t||V1),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ev(){}function tv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function S3(t){this._context=t}S3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UQ(t){return new S3(t)}function I3(t){this._context=t}I3.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BQ(t){return new I3(t)}function R3(t){this._context=t}R3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zQ(t){return new R3(t)}function P3(t){this._context=t}P3.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FQ(t){return new P3(t)}function ZD(t){return t<0?-1:1}function JD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(ZD(a)+ZD(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function eN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function nv(t){this._context=t}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bw(this,this._t0,eN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bw(this,eN(this,n=JD(this,t,e)),n);break;default:Bw(this,this._t0,n=JD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O3(t){this._context=new C3(t)}(O3.prototype=Object.create(nv.prototype)).point=function(t,e){nv.prototype.point.call(this,e,t)};function C3(t){this._context=t}C3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function qQ(t){return new nv(t)}function $Q(t){return new O3(t)}function D3(t){this._context=t}D3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tN(t),i=tN(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function KQ(t){return new D3(t)}function S0(t,e){this._context=t,this._t=e}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function HQ(t){return new S0(t,.5)}function GQ(t){return new S0(t,0)}function WQ(t){return new S0(t,1)}function Tf(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YQ(t,e){return t[e]}function QQ(t){const e=[];return e.key=t,e}function XQ(){var t=Ot([]),e=tx,n=Tf,r=YQ;function i(a){var l=Array.from(t.apply(this,arguments),QQ),u,f=l.length,d=-1,m;for(const p of a)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(p,l[u].key,d,a)]).data=p;for(u=0,m=j1(e(l));u<f;++u)l[m[u]].index=u;return n(l,m),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ot(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?tx:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Tf,i):n},i}function ZQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Tf(t,e)}}function JQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Tf(t,e)}}function eX(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,d=0;u<l;++u){for(var m=t[e[u]],p=m[r][1]||0,v=m[r-1][1]||0,b=(p-v)/2,T=0;T<u;++T){var w=t[e[T]],x=w[r][1]||0,P=w[r-1][1]||0;b+=x-P}f+=p,d+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Tf(t,e)}}var tX=["type","size","sizeType"];function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(null,arguments)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e){if(t==null)return{};var n,r,i=sX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N3={symbolCircle:V1,symbolCross:IQ,symbolDiamond:PQ,symbolSquare:OQ,symbolStar:kQ,symbolTriangle:MQ,symbolWye:VQ},oX=Math.PI/180,lX=t=>{var e="symbol".concat(np(t));return N3[e]||V1},uX=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*oX;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cX=(t,e)=>{N3["symbol".concat(np(t))]=e},k3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=aX(t,tX),a=rN(rN({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var v=lX(l),b=LQ().type(v).size(uX(n,r,l));return b()},{className:f,cx:d,cy:m}=a,p=cn(a,!0);return d===+d&&m===+m&&n===+n?R.createElement("path",nx({},p,{className:At("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:u()})):null};k3.registerSymbol=cX;var zw={},Fw={},iN;function fX(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Fw)),Fw}var qw={},aN;function M3(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(qw)),qw}var $w={},Kw={},Hw={},sN;function dX(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Hw)),Hw}var oN;function L1(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dX();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Kw)),Kw}var Gw={},lN;function hX(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Gw)),Gw}var uN;function mX(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L1(),n=hX();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($w)),$w}var Ww={},Yw={},cN;function pX(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C1();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Yw)),Yw}var Qw={},Xw={},Zw={},Jw={},fN;function j3(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Jw)),Jw}var eE={},dN;function V3(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(eE)),eE}var tE={},hN;function L3(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(tE)),tE}var mN;function gX(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U1(),n=j3(),r=V3(),i=L3();function a(p,v,b){return typeof b!="function"?e.isMatch(p,v):l(p,v,function T(w,x,P,C,O,B){const L=b(w,x,P,C,O,B);return L!==void 0?!!L:l(w,x,T,B)},new Map)}function l(p,v,b,T){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,b,T);case"function":return Object.keys(v).length>0?l(p,{...v},b,T):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function u(p,v,b,T){if(v==null)return!0;if(Array.isArray(v))return d(p,v,b,T);if(v instanceof Map)return f(p,v,b,T);if(v instanceof Set)return m(p,v,b,T);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(T&&T.has(v))return T.get(v)===p;T&&T.set(v,p);try{for(let x=0;x<w.length;x++){const P=w[x];if(!r.isPrimitive(p)&&!(P in p)||v[P]===void 0&&p[P]!==void 0||v[P]===null&&p[P]!==null||!b(p[P],v[P],P,p,v,T))return!1}return!0}finally{T&&T.delete(v)}}function f(p,v,b,T){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,x]of v.entries()){const P=p.get(w);if(b(P,x,w,p,v,T)===!1)return!1}return!0}function d(p,v,b,T){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let x=0;x<v.length;x++){const P=v[x];let C=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const B=p[O];let L=!1;if(b(B,P,x,p,v,T)&&(L=!0),L){w.add(O),C=!0;break}}if(!C)return!1}return!0}function m(p,v,b,T){return v.size===0?!0:p instanceof Set?d([...p],[...v],b,T):!1}t.isMatchWith=a,t.isSetMatch=m})(Zw)),Zw}var pN;function U1(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gX();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Xw)),Xw}var nE={},rE={},iE={},gN;function yX(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(iE)),iE}var aE={},yN;function U3(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(aE)),aE}var sE={},vN;function B3(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",p="[object Function]",v="[object ArrayBuffer]",b="[object Object]",T="[object Error]",w="[object DataView]",x="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]",B="[object BigUint64Array]",L="[object Int8Array]",q="[object Int16Array]",N="[object Int32Array]",D="[object BigInt64Array]",M="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=w,t.dateTag=u,t.errorTag=T,t.float32ArrayTag=M,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=q,t.int32ArrayTag=N,t.int8ArrayTag=L,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=O,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=P})(sE)),sE}var oE={},_N;function vX(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(oE)),oE}var bN;function z3(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yX(),n=U3(),r=B3(),i=V3(),a=vX();function l(m,p){return u(m,void 0,m,new Map,p)}function u(m,p,v,b=new Map,T=void 0){const w=T==null?void 0:T(m,p,v,b);if(w!==void 0)return w;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const x=new Array(m.length);b.set(m,x);for(let P=0;P<m.length;P++)x[P]=u(m[P],P,v,b,T);return Object.hasOwn(m,"index")&&(x.index=m.index),Object.hasOwn(m,"input")&&(x.input=m.input),x}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const x=new RegExp(m.source,m.flags);return x.lastIndex=m.lastIndex,x}if(m instanceof Map){const x=new Map;b.set(m,x);for(const[P,C]of m)x.set(P,u(C,P,v,b,T));return x}if(m instanceof Set){const x=new Set;b.set(m,x);for(const P of m)x.add(u(P,void 0,v,b,T));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const x=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,x);for(let P=0;P<m.length;P++)x[P]=u(m[P],P,v,b,T);return x}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const x=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,x),f(x,m,v,b,T),x}if(typeof File<"u"&&m instanceof File){const x=new File([m],m.name,{type:m.type});return b.set(m,x),f(x,m,v,b,T),x}if(m instanceof Blob){const x=new Blob([m],{type:m.type});return b.set(m,x),f(x,m,v,b,T),x}if(m instanceof Error){const x=new m.constructor;return b.set(m,x),x.message=m.message,x.name=m.name,x.stack=m.stack,x.cause=m.cause,f(x,m,v,b,T),x}if(typeof m=="object"&&d(m)){const x=Object.create(Object.getPrototypeOf(m));return b.set(m,x),f(x,m,v,b,T),x}return m}function f(m,p,v=m,b,T){const w=[...Object.keys(p),...e.getSymbols(p)];for(let x=0;x<w.length;x++){const P=w[x],C=Object.getOwnPropertyDescriptor(m,P);(C==null||C.writable)&&(m[P]=u(p[P],P,v,b,T))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(rE)),rE}var wN;function _X(){return wN||(wN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(nE)),nE}var EN;function bX(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U1(),n=_X();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Qw)),Qw}var lE={},uE={},cE={},TN;function wX(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z3(),n=B3();function r(i,a){return e.cloneDeepWith(i,(l,u,f,d)=>{const m=a==null?void 0:a(l,u,f,d);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(cE)),cE}var xN;function EX(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wX();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(uE)),uE}var fE={},dE={},AN;function F3(){return AN||(AN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(dE)),dE}var hE={},SN;function TX(){return SN||(SN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U3();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(hE)),hE}var IN;function xX(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u3(),n=F3(),r=TX(),i=O1();function a(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let m=0;m<f.length;m++){const p=f[m];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(fE)),fE}var RN;function AX(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U1(),n=c3(),r=EX(),i=C1(),a=xX();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const m=i.get(d,u);return m===void 0?a.has(d,u):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=l})(lE)),lE}var PN;function SX(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M3(),n=pX(),r=bX(),i=AX();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Ww)),Ww}var ON;function IX(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fX(),n=M3(),r=mX(),i=SX();function a(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=a})(zw)),zw}var mE,CN;function RX(){return CN||(CN=1,mE=IX().uniqBy),mE}var PX=RX();const DN=Oa(PX);function OX(t,e,n){return e===!0?DN(t,n):typeof e=="function"?DN(t,e):t}var pE={exports:{}},gE={},yE={exports:{}},vE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function CX(){if(NN)return vE;NN=1;var t=Of();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(p,v){var b=v(),T=r({inst:{value:b,getSnapshot:v}}),w=T[0].inst,x=T[1];return a(function(){w.value=b,w.getSnapshot=v,f(w)&&x({inst:w})},[p,b,v]),i(function(){return f(w)&&x({inst:w}),p(function(){f(w)&&x({inst:w})})},[p]),l(b),b}function f(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function d(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return vE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,vE}var kN;function DX(){return kN||(kN=1,yE.exports=CX()),yE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function NX(){if(MN)return gE;MN=1;var t=Of(),e=DX();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return gE.useSyncExternalStoreWithSelector=function(d,m,p,v,b){var T=a(null);if(T.current===null){var w={hasValue:!1,value:null};T.current=w}else w=T.current;T=u(function(){function P(q){if(!C){if(C=!0,O=q,q=v(q),b!==void 0&&w.hasValue){var N=w.value;if(b(N,q))return B=N}return B=q}if(N=B,r(O,q))return N;var D=v(q);return b!==void 0&&b(N,D)?(O=q,N):(O=q,B=D)}var C=!1,O,B,L=p===void 0?null:p;return[function(){return P(m())},L===null?void 0:function(){return P(L())}]},[m,p,v,b]);var x=i(d,T[0],T[1]);return l(function(){w.hasValue=!0,w.value=x},[x]),f(x),x},gE}var jN;function kX(){return jN||(jN=1,pE.exports=NX()),pE.exports}var MX=kX(),B1=R.createContext(null),jX=t=>t,Fn=()=>{var t=R.useContext(B1);return t?t.store.dispatch:jX},Ty=()=>{},VX=()=>Ty,LX=(t,e)=>t===e;function Ce(t){var e=R.useContext(B1);return MX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:VX,e?e.store.getState:Ty,e?e.store.getState:Ty,e?t:Ty,LX)}function UX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function BX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function zX(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var VN=t=>Array.isArray(t)?t:[t];function FX(t){const e=Array.isArray(t[0])?t[0]:t;return zX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function qX(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var $X=class{constructor(t){this.value=t}deref(){return this.value}},KX=typeof WeakRef<"u"?WeakRef:$X,HX=0,LN=1;function Gg(){return{s:HX,v:void 0,o:null,p:null}}function q3(t,e={}){let n=Gg();const{resultEqualityCheck:r}=e;let i,a=0;function l(){var p;let u=n;const{length:f}=arguments;for(let v=0,b=f;v<b;v++){const T=arguments[v];if(typeof T=="function"||typeof T=="object"&&T!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const x=w.get(T);x===void 0?(u=Gg(),w.set(T,u)):u=x}else{let w=u.p;w===null&&(u.p=w=new Map);const x=w.get(T);x===void 0?(u=Gg(),w.set(T,u)):u=x}}const d=u;let m;if(u.s===LN)m=u.v;else if(m=t.apply(null,arguments),a++,r){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&r(v,m)&&(m=v,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new KX(m):m}return d.s=LN,d.v=m,m}return l.clearCache=()=>{n=Gg(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function GX(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),UX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:b=q3,argsMemoizeOptions:T=[]}=m,w=VN(v),x=VN(T),P=FX(i),C=p(function(){return a++,d.apply(null,arguments)},...w),O=b(function(){l++;const L=qX(P,arguments);return u=C.apply(null,L),u},...x);return Object.assign(O,{resultFunc:d,memoizedResultFunc:C,dependencies:P,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=GX(q3),WX=Object.assign((t,e=re)=>{BX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>WX}),_E={},bE={},wE={},UN;function YX(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(wE)),wE}var EE={},TE={},BN;function $3(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(TE)),TE}var zN;function QX(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(EE)),EE}var FN;function XX(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YX(),n=QX(),r=O1();function i(a,l,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const d=(b,T)=>{let w=b;for(let x=0;x<T.length&&w!=null;++x)w=w[T[x]];return w},m=(b,T)=>T==null||b==null?T:typeof b=="object"&&"key"in b?Object.hasOwn(T,b.key)?T[b.key]:d(T,b.path):typeof b=="function"?b(T):Array.isArray(b)?d(T,b):typeof T=="object"?T[b]:T,p=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(T=>m(T,b))})).slice().sort((b,T)=>{for(let w=0;w<p.length;w++){const x=e.compareValues(b.criteria[w],T.criteria[w],u[w]);if(x!==0)return x}return 0}).map(b=>b.original)}t.orderBy=i})(bE)),bE}var xE={},qN;function ZX(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const m=u[d];Array.isArray(m)&&f<a?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e})(xE)),xE}var AE={},$N;function K3(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3(),n=L1(),r=j3(),i=L3();function a(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=a})(AE)),AE}var KN;function JX(){return KN||(KN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XX(),n=ZX(),r=K3();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(_E)),_E}var SE,HN;function eZ(){return HN||(HN=1,SE=JX().sortBy),SE}var tZ=eZ();const I0=Oa(tZ);var H3=t=>t.legend.settings,nZ=t=>t.legend.size,rZ=t=>t.legend.payload;re([rZ,H3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?I0(r,n):r});var Wg=1;function iZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Wg||Math.abs(l.left-e.left)>Wg||Math.abs(l.top-e.top)>Wg||Math.abs(l.width-e.width)>Wg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Xn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",GN=aZ,IE=()=>Math.random().toString(36).substring(7).split("").join("."),sZ={INIT:`@@redux/INIT${IE()}`,REPLACE:`@@redux/REPLACE${IE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${IE()}`},rv=sZ;function z1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function G3(t,e,n){if(typeof t!="function")throw new Error(Xn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xn(1));return n(G3)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,f=!1;function d(){l===a&&(l=new Map,a.forEach((x,P)=>{l.set(P,x)}))}function m(){if(f)throw new Error(Xn(3));return i}function p(x){if(typeof x!="function")throw new Error(Xn(4));if(f)throw new Error(Xn(5));let P=!0;d();const C=u++;return l.set(C,x),function(){if(P){if(f)throw new Error(Xn(6));P=!1,d(),l.delete(C),a=null}}}function v(x){if(!z1(x))throw new Error(Xn(7));if(typeof x.type>"u")throw new Error(Xn(8));if(typeof x.type!="string")throw new Error(Xn(17));if(f)throw new Error(Xn(9));try{f=!0,i=r(i,x)}finally{f=!1}return(a=l).forEach(C=>{C()}),x}function b(x){if(typeof x!="function")throw new Error(Xn(10));r=x,v({type:rv.REPLACE})}function T(){const x=p;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Xn(11));function C(){const B=P;B.next&&B.next(m())}return C(),{unsubscribe:x(C)}},[GN](){return this}}}return v({type:rv.INIT}),{dispatch:v,subscribe:p,getState:m,replaceReducer:b,[GN]:T}}function oZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rv.INIT})>"u")throw new Error(Xn(12));if(typeof n(void 0,{type:rv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xn(13))})}function W3(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{oZ(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let m=0;m<r.length;m++){const p=r[m],v=n[p],b=l[p],T=v(b,u);if(typeof T>"u")throw u&&u.type,new Error(Xn(14));d[p]=T,f=f||T!==b}return f=f||r.length!==Object.keys(l).length,f?d:l}}function iv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function lZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Xn(15))};const l={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},u=t.map(f=>f(l));return a=iv(...u)(i.dispatch),{...i,dispatch:a}}}function Y3(t){return z1(t)&&"type"in t&&typeof t.type=="string"}var Q3=Symbol.for("immer-nothing"),WN=Symbol.for("immer-draftable"),ni=Symbol.for("immer-state");function ji(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xf=Object.getPrototypeOf;function wu(t){return!!t&&!!t[ni]}function _s(t){var e;return t?X3(t)||Array.isArray(t)||!!t[WN]||!!((e=t.constructor)!=null&&e[WN])||rp(t)||P0(t):!1}var uZ=Object.prototype.constructor.toString();function X3(t){if(!t||typeof t!="object")return!1;const e=xf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===uZ}function av(t,e){R0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function R0(t){const e=t[ni];return e?e.type_:Array.isArray(t)?1:rp(t)?2:P0(t)?3:0}function rx(t,e){return R0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z3(t,e,n){const r=R0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rp(t){return t instanceof Map}function P0(t){return t instanceof Set}function Fl(t){return t.copy_||t.base_}function ix(t,e){if(rp(t))return new Map(t);if(P0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=X3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ni];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(xf(t),r)}else{const r=xf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function F1(t,e=!1){return O0(t)||wu(t)||!_s(t)||(R0(t)>1&&Object.defineProperties(t,{set:{value:Yg},add:{value:Yg},clear:{value:Yg},delete:{value:Yg}}),Object.freeze(t),e&&Object.values(t).forEach(n=>F1(n,!0))),t}function Yg(){ji(2)}function O0(t){return Object.isFrozen(t)}var fZ={};function Eu(t){const e=fZ[t];return e||ji(0,t),e}var Tm;function J3(){return Tm}function dZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YN(t,e){e&&(Eu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ax(t){sx(t),t.drafts_.forEach(hZ),t.drafts_=null}function sx(t){t===Tm&&(Tm=t.parent_)}function QN(t){return Tm=dZ(Tm,t)}function hZ(t){const e=t[ni];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function XN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ni].modified_&&(ax(e),ji(4)),_s(t)&&(t=sv(e,t),e.parent_||ov(e,t)),e.patches_&&Eu("Patches").generateReplacementPatches_(n[ni].base_,t,e.patches_,e.inversePatches_)):t=sv(e,n,[]),ax(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q3?t:void 0}function sv(t,e,n){if(O0(e))return e;const r=e[ni];if(!r)return av(e,(i,a)=>ZN(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ov(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),av(a,(u,f)=>ZN(t,r,i,u,f,n,l)),ov(t,i,!1),n&&t.patches_&&Eu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function ZN(t,e,n,r,i,a,l){if(wu(i)){const u=a&&e&&e.type_!==3&&!rx(e.assigned_,r)?a.concat(r):void 0,f=sv(t,i,u);if(Z3(n,r,f),wu(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(_s(i)&&!O0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;sv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(rp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ov(t,i)}}function ov(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&F1(e,n)}function mZ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:J3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=q1;n&&(i=[r],a=xm);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var q1={get(t,e){if(e===ni)return t;const n=Fl(t);if(!rx(n,e))return pZ(t,n,e);const r=n[e];return t.finalized_||!_s(r)?r:r===RE(t.base_,e)?(PE(t),t.copy_[e]=lx(r,t)):r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=e6(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=RE(Fl(t),e),a=i==null?void 0:i[ni];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cZ(n,i)&&(n!==void 0||rx(t.base_,e)))return!0;PE(t),ox(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return RE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,PE(t),ox(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ji(11)},getPrototypeOf(t){return xf(t.base_)},setPrototypeOf(){ji(12)}},xm={};av(q1,(t,e)=>{xm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});xm.deleteProperty=function(t,e){return xm.set.call(this,t,e,void 0)};xm.set=function(t,e,n){return q1.set.call(this,t[0],e,n,t[0])};function RE(t,e){const n=t[ni];return(n?Fl(n):t)[e]}function pZ(t,e,n){var i;const r=e6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function e6(t,e){if(!(e in t))return;let n=xf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xf(n)}}function ox(t){t.modified_||(t.modified_=!0,t.parent_&&ox(t.parent_))}function PE(t){t.copy_||(t.copy_=ix(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(f=a,...d){return l.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&ji(6),r!==void 0&&typeof r!="function"&&ji(7);let i;if(_s(e)){const a=QN(this),l=lx(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?ax(a):sx(a)}return YN(a,r),XN(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Q3&&(i=void 0),this.autoFreeze_&&F1(i,!0),r){const a=[],l=[];Eu("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else ji(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){_s(t)||ji(8),wu(t)&&(t=ds(t));const e=QN(this),n=lx(t,void 0);return n[ni].isManual_=!0,sx(e),n}finishDraft(t,e){const n=t&&t[ni];(!n||!n.isManual_)&&ji(9);const{scope_:r}=n;return YN(r,e),XN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Eu("Patches").applyPatches_;return wu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function lx(t,e){const n=rp(t)?Eu("MapSet").proxyMap_(t,e):P0(t)?Eu("MapSet").proxySet_(t,e):mZ(t,e);return(e?e.scope_:J3()).drafts_.push(n),n}function ds(t){return wu(t)||ji(10,t),t6(t)}function t6(t){if(!_s(t)||O0(t))return t;const e=t[ni];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ix(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ix(t,!0);return av(n,(r,i)=>{Z3(n,r,t6(i))}),e&&(e.finalized_=!1),n}var yZ=new gZ,n6=yZ.produce;function r6(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var vZ=r6(),_Z=r6,bZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iv:iv.apply(null,arguments)};function Ai(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Jr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Y3(r)&&r.type===t,n}var i6=class Mh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Mh.prototype)}static get[Symbol.species](){return Mh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Mh(...e[0].concat(this)):new Mh(...e.concat(this))}};function JN(t){return _s(t)?n6(t,()=>{}):t}function Qg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function wZ(t){return typeof t=="boolean"}var EZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new i6;return n&&(wZ(n)?l.push(vZ):l.push(_Z(n.extraArgument))),l},TZ="RTK_autoBatch",e2=t=>e=>{setTimeout(e,t)},xZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:e2(10):t.type==="callback"?t.queueNotification:e2(t.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),v=r.subscribe(p);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[TZ]),a=!i,a&&(l||(l=!0,f(d))),r.dispatch(m)}finally{i=!0}}})},AZ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new i6(t);return r&&i.push(xZ(typeof r=="object"?r:void 0)),i};function SZ(t){const e=EZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(z1(n))u=W3(n);else throw new Error(Jr(1));let f;typeof r=="function"?f=r(e):f=e();let d=iv;i&&(d=bZ({trace:!1,...typeof i=="object"&&i}));const m=lZ(...f),p=AZ(m);let v=typeof l=="function"?l(p):p();const b=d(...v);return G3(u,a,b)}function a6(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Jr(28));if(u in e)throw new Error(Jr(29));return e[u]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function IZ(t){return typeof t=="function"}function RZ(t,e){let[n,r,i]=a6(e),a;if(IZ(t))a=()=>JN(t());else{const u=JN(t);a=()=>u}function l(u=a(),f){let d=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[i]),d.reduce((m,p)=>{if(p)if(wu(m)){const b=p(m,f);return b===void 0?m:b}else{if(_s(m))return n6(m,v=>p(v,f));{const v=p(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return l.getInitialState=a,l}var PZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OZ=(t=21)=>{let e="",n=t;for(;n--;)e+=PZ[Math.random()*64|0];return e},CZ=Symbol.for("rtk-slice-createasyncthunk");function DZ(t,e){return`${t}/${e}`}function NZ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[CZ];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(Jr(11));const u=(typeof i.reducers=="function"?i.reducers(MZ()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(B,L){const q=typeof B=="string"?B:B.type;if(!q)throw new Error(Jr(12));if(q in d.sliceCaseReducersByType)throw new Error(Jr(13));return d.sliceCaseReducersByType[q]=L,m},addMatcher(B,L){return d.sliceMatchers.push({matcher:B,reducer:L}),m},exposeAction(B,L){return d.actionCreators[B]=L,m},exposeCaseReducer(B,L){return d.sliceCaseReducersByName[B]=L,m}};f.forEach(B=>{const L=u[B],q={reducerName:B,type:DZ(a,B),createNotation:typeof i.reducers=="function"};VZ(L)?UZ(q,L,m,e):jZ(q,L,m)});function p(){const[B={},L=[],q=void 0]=typeof i.extraReducers=="function"?a6(i.extraReducers):[i.extraReducers],N={...B,...d.sliceCaseReducersByType};return RZ(i.initialState,D=>{for(let M in N)D.addCase(M,N[M]);for(let M of d.sliceMatchers)D.addMatcher(M.matcher,M.reducer);for(let M of L)D.addMatcher(M.matcher,M.reducer);q&&D.addDefaultCase(q)})}const v=B=>B,b=new Map,T=new WeakMap;let w;function x(B,L){return w||(w=p()),w(B,L)}function P(){return w||(w=p()),w.getInitialState()}function C(B,L=!1){function q(D){let M=D[B];return typeof M>"u"&&L&&(M=Qg(T,q,P)),M}function N(D=v){const M=Qg(b,L,()=>new WeakMap);return Qg(M,D,()=>{const z={};for(const[U,F]of Object.entries(i.selectors??{}))z[U]=kZ(F,D,()=>Qg(T,D,P),L);return z})}return{reducerPath:B,getSelectors:N,get selectors(){return N(q)},selectSlice:q}}const O={name:a,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...C(l),injectInto(B,{reducerPath:L,...q}={}){const N=L??l;return B.inject({reducerPath:N,reducer:x},q),{...O,...C(N,!0)}}};return O}}function kZ(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ii=NZ();function MZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jZ({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!LZ(r))throw new Error(Jr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Ai(t,l):Ai(t))}function VZ(t){return t._reducerDefinitionType==="asyncThunk"}function LZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function UZ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Jr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:f,settled:d,options:m}=n,p=i(t,a,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Xg,pending:u||Xg,rejected:f||Xg,settled:d||Xg})}function Xg(){}var BZ="task",s6="listener",o6="completed",$1="cancelled",zZ=`task-${$1}`,FZ=`task-${o6}`,ux=`${s6}-${$1}`,qZ=`${s6}-${o6}`,C0=class{constructor(t){rw(this,"name","TaskAbortError");rw(this,"message");this.code=t,this.message=`${BZ} ${$1} (reason: ${t})`}},K1=(t,e)=>{if(typeof t!="function")throw new TypeError(Jr(32))},lv=()=>{},l6=(t,e=lv)=>(t.catch(e),t),u6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),su=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ou=t=>{if(t.aborted){const{reason:e}=t;throw new C0(e)}};function c6(t,e){let n=lv;return new Promise((r,i)=>{const a=()=>i(new C0(t.reason));if(t.aborted){a();return}n=u6(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=lv})}var $Z=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof C0?"cancelled":"rejected",error:n}}finally{e==null||e()}},uv=t=>e=>l6(c6(t,e).then(n=>(ou(t),n))),f6=t=>{const e=uv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wc}=Object,t2={},D0="listenerMiddleware",KZ=(t,e)=>{const n=r=>u6(t,()=>su(r,t.reason));return(r,i)=>{K1(r);const a=new AbortController;n(a);const l=$Z(async()=>{ou(t),ou(a.signal);const u=await r({pause:uv(a.signal),delay:f6(a.signal),signal:a.signal});return ou(a.signal),u},()=>su(a,FZ));return i!=null&&i.autoJoin&&e.push(l.catch(lv)),{result:uv(t)(l),cancel(){su(a,zZ)}}}},HZ=(t,e)=>{const n=async(r,i)=>{ou(e);let a=()=>{};const u=[new Promise((f,d)=>{let m=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});a=()=>{m(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await c6(e,Promise.race(u));return ou(e),f}finally{a()}};return(r,i)=>l6(n(r,i))},d6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ai(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jr(21));return K1(a),{predicate:i,type:e,effect:a}},h6=Wc(t=>{const{type:e,predicate:n,effect:r}=d6(t);return{id:OZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jr(22))}}},{withTypes:()=>h6}),n2=(t,e)=>{const{type:n,effect:r,predicate:i}=d6(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},cx=t=>{t.pending.forEach(e=>{su(e,ux)})},GZ=t=>()=>{t.forEach(cx),t.clear()},r2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},m6=Wc(Ai(`${D0}/add`),{withTypes:()=>m6}),WZ=Ai(`${D0}/removeAll`),p6=Wc(Ai(`${D0}/remove`),{withTypes:()=>p6}),YZ=(...t)=>{console.error(`${D0}/error`,...t)},ip=(t={})=>{const e=new Map,{extra:n,onError:r=YZ}=t;K1(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&cx(m)}),a=m=>{const p=n2(e,m)??h6(m);return i(p)};Wc(a,{withTypes:()=>a});const l=m=>{const p=n2(e,m);return p&&(p.unsubscribe(),m.cancelActive&&cx(p)),!!p};Wc(l,{withTypes:()=>l});const u=async(m,p,v,b)=>{const T=new AbortController,w=HZ(a,T.signal),x=[];try{m.pending.add(T),await Promise.resolve(m.effect(p,Wc({},v,{getOriginalState:b,condition:(P,C)=>w(P,C).then(Boolean),take:w,delay:f6(T.signal),pause:uv(T.signal),extra:n,signal:T.signal,fork:KZ(T.signal,x),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((P,C,O)=>{P!==T&&(su(P,ux),O.delete(P))})},cancel:()=>{su(T,ux),m.pending.delete(T)},throwIfCancelled:()=>{ou(T.signal)}})))}catch(P){P instanceof C0||r2(r,P,{raisedBy:"effect"})}finally{await Promise.all(x),su(T,qZ),m.pending.delete(T)}},f=GZ(e);return{middleware:m=>p=>v=>{if(!Y3(v))return p(v);if(m6.match(v))return a(v.payload);if(WZ.match(v)){f();return}if(p6.match(v))return l(v.payload);let b=m.getState();const T=()=>{if(b===t2)throw new Error(Jr(23));return b};let w;try{if(w=p(v),e.size>0){const x=m.getState(),P=Array.from(e.values());for(const C of P){let O=!1;try{O=C.predicate(v,x,b)}catch(B){O=!1,r2(r,B,{raisedBy:"predicate"})}O&&u(C,v,m,T)}}}finally{b=t2}return w},startListening:a,stopListening:l,clearListeners:f}};function Jr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},g6=ii({name:"chartLayout",initialState:QZ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:XZ,setLayout:ZZ,setChartSize:JZ,setScale:eJ}=g6.actions,tJ=g6.reducer;function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){nJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e,n){return(e=rJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJ(t){var e=iJ(t,"string");return typeof e=="symbol"?e:e+""}function iJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cv=Math.PI/180,aJ=t=>t*180/Math.PI,tr=(t,e,n,r)=>({x:t+Math.cos(-cv*r)*n,y:e+Math.sin(-cv*r)*n}),sJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oJ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},lJ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=oJ({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:l,angle:aJ(f),angleInRadian:f}},uJ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},cJ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},fJ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=lJ({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=uJ(e),m=a,p;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}return p?a2(a2({},e),{},{radius:i,angle:cJ(m,e)}):null};function y6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return(e=hJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=mJ(t,"string");return typeof e=="symbol"?e:e+""}function mJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e,n){return $t(t)||$t(e)?n:Ra(e)?Ef(t,e,n):typeof e=="function"?e(t):n}var pJ=(t,e,n,r,i)=>{var a,l=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,m=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Cr(m-d)!==Cr(p-m)){var b=[];if(Cr(p-m)===Cr(i[1]-i[0])){v=p;var T=m+i[1]-i[0];b[0]=Math.min(T,(T+d)/2),b[1]=Math.max(T,(T+d)/2)}else{v=d;var w=p+i[1]-i[0];b[0]=Math.min(m,(w+m)/2),b[1]=Math.max(m,(w+m)/2)}var x=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>x[0]&&t<=x[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var P=Math.min(d,p),C=Math.max(d,p);if(t>(P+m)/2&&t<=(C+m)/2){({index:l}=n[f]);break}}}else if(e){for(var O=0;O<u;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<u-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===u-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:l}=e[O]);break}}return l},gJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&ke(t[a]))return bi(bi({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&ke(t[l]))return bi(bi({},t),{},{[l]:t[l]+(i||0)})}return t},Zo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",v6=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},_6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:m,ticks:p,niceTicks:v,axisType:b}=t;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(w=b==="angleAxis"&&a&&a.length>=2?Cr(a[0]-a[1])*2*w:w,p||v){var x=(p||v||[]).map((P,C)=>{var O=r?r.indexOf(P):P;return{coordinate:l(O)+w,value:P,offset:w,index:C}});return x.filter(P=>!ti(P.coordinate))}return f&&d?d.map((P,C)=>({coordinate:l(P)+w,value:P,index:C,offset:w})):l.ticks&&m!=null?l.ticks(m).map((P,C)=>({coordinate:l(P)+w,value:P,offset:w,index:C})):l.domain().map((P,C)=>({coordinate:l(P)+w,value:r?r[P]:P,index:C,offset:w}))},o2=1e-4,yJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-o2,a=Math.max(r[0],r[1])+o2,l=t(e[0]),u=t(e[n-1]);(l<i||l>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},vJ=(t,e)=>{if(!e||e.length!==2||!ke(e[0])||!ke(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ke(t[0])||t[0]<n)&&(i[0]=n),(!ke(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},_J=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var u=ti(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1])}},bJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=ti(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},wJ={sign:_J,expand:ZQ,none:Tf,silhouette:JQ,wiggle:eX,positive:bJ},EJ=(t,e,n)=>{var r=wJ[n],i=XQ().keys(e).value((a,l)=>+Bn(a,l,0)).order(tx).offset(r);return i(t)};function TJ(t){return t==null?void 0:String(t)}function l2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$t(i[e.dataKey])){var u=d3(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Bn(i,$t(l)?e.dataKey:l);return $t(f)?null:e.scale(f)}var u2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Bn(a,e.dataKey,e.scale.domain()[l]);return $t(u)?null:e.scale(u)-i/2+r},xJ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},AJ=t=>{var e=t.flat(2).filter(ke);return[Math.min(...e),Math.max(...e)]},SJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],IJ=(t,e,n)=>{if(t!=null)return SJ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,u=l.reduce((f,d)=>{var m=y6(d,e,n),p=AJ(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},c2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Am=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=I0(e,m=>m.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function d2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return bi(bi({},e),{},{dataKey:n,payload:r,value:i,name:a})}function N0(t,e){if(t)return String(t);if(typeof e=="string")return e}function RJ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?fJ({x:t,y:e},r):null}var PJ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=r;return bi(bi(bi({},r),tr(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:f}=r;return bi(bi(bi({},r),tr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},OJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ps=t=>t.layout.width,Os=t=>t.layout.height,CJ=t=>t.layout.scale,b6=t=>t.layout.margin,k0=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),M0=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),DJ="data-recharts-item-index",NJ="data-recharts-item-data-key",ap=60;function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VJ=t=>t.brush.height;function LJ(t){var e=M0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ap;return n+i}return n},0)}function UJ(t){var e=M0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ap;return n+i}return n},0)}function BJ(t){var e=k0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function zJ(t){var e=k0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=re([Ps,Os,b6,VJ,LJ,UJ,BJ,zJ,H3,nZ],(t,e,n,r,i,a,l,u,f,d)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Zg(Zg({},p),m),b=v.bottom;v.bottom+=r,v=gJ(v,f,d);var T=t-v.left-v.right,w=e-v.top-v.bottom;return Zg(Zg({brushBottom:b},v),{},{width:Math.max(T,0),height:Math.max(w,0)})}),FJ=re(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),H1=re(Ps,Os,(t,e)=>({x:0,y:0,width:t,height:e})),qJ=R.createContext(null),Nr=()=>R.useContext(qJ)!=null,j0=t=>t.brush,V0=re([j0,qn,b6],(t,e,n)=>({height:t.height,x:ke(t.x)?t.x:e.left,y:ke(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ke(t.width)?t.width:e.width})),G1=()=>{var t,e=Nr(),n=Ce(FJ),r=Ce(V0),i=(t=Ce(j0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},$J={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w6=()=>{var t;return(t=Ce(qn))!==null&&t!==void 0?t:$J},E6=()=>Ce(Ps),T6=()=>Ce(Os),ut=t=>t.layout.layoutType,L0=()=>Ce(ut),KJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},x6=ii({name:"legend",initialState:KJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ds(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:uhe,setLegendSettings:che,addLegendPayload:HJ,removeLegendPayload:GJ}=x6.actions,WJ=x6.reducer;function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(null,arguments)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=QJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=XJ(t,"string");return typeof e=="symbol"?e:e+""}function XJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZJ(t){return Array.isArray(t)&&Ra(t[0])&&Ra(t[1])?t.join(" ~ "):t}var JJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:m,labelFormatter:p,accessibilityLayer:v=!1}=t,b=()=>{if(a&&a.length){var L={padding:0,margin:0},q=(u?I0(a,u):a).map((N,D)=>{if(N.type==="none")return null;var M=N.formatter||l||ZJ,{value:z,name:U}=N,F=z,V=U;if(M){var be=M(z,U,N,D,a);if(Array.isArray(be))[F,V]=be;else if(be!=null)F=be;else return null}var Se=OE({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:Se},Ra(V)?R.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ra(V)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},F),R.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:L},q)}return null},T=OE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=OE({margin:0},i),x=!$t(m),P=x?m:"",C=At("recharts-default-tooltip",f),O=At("recharts-tooltip-label",d);x&&p&&a!==void 0&&a!==null&&(P=p(m,a));var B=v?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",fx({className:C,style:T},B),R.createElement("p",{className:O,style:w},R.isValidElement(P)?P:"".concat(P)),b())},vh="recharts-tooltip-wrapper",eee={visibility:"hidden"};function tee(t){var{coordinate:e,translateX:n,translateY:r}=t;return At(vh,{["".concat(vh,"-right")]:ke(n)&&e&&ke(e.x)&&n>=e.x,["".concat(vh,"-left")]:ke(n)&&e&&ke(e.x)&&n<e.x,["".concat(vh,"-bottom")]:ke(r)&&e&&ke(e.y)&&r>=e.y,["".concat(vh,"-top")]:ke(r)&&e&&ke(e.y)&&r<e.y})}function p2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(a&&ke(a[r]))return a[r];var m=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var v=f[r];if(v==null)return 0;if(l[r]){var b=m,T=v;return b<T?Math.max(p,v):Math.max(m,v)}if(d==null)return 0;var w=p+u,x=v+d;return w>x?Math.max(m,v):Math.max(p,v)}function nee(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ree(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,d,m,p;return l.height>0&&l.width>0&&n?(m=p2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=p2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=nee({translateX:m,translateY:p,useTranslate3d:u})):d=eee,{cssProperties:d,cssClasses:tee({translateX:m,translateY:p,coordinate:n})}}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dx(t,e,n){return(e=iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=aee(t,"string");return typeof e=="symbol"?e:e+""}function aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class see extends R.PureComponent{constructor(){super(...arguments),dx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:m,reverseDirection:p,useTranslate3d:v,viewBox:b,wrapperStyle:T,lastBoundingBox:w,innerRef:x,hasPortalFromProps:P}=this.props,{cssClasses:C,cssProperties:O}=ree({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:b}),B=P?{}:Jg(Jg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),L=Jg(Jg({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},T);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:L,ref:x},a)}}var oee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nu={devToolsEnabled:!1,isSsr:oee()},A6=()=>Ce(t=>t.rootProps.accessibilityLayer);function ri(t){return Number.isFinite(t)}function fv(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(null,arguments)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return(e=uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _2={curveBasisClosed:BQ,curveBasisOpen:zQ,curveBasis:UQ,curveBumpX:AQ,curveBumpY:SQ,curveLinearClosed:FQ,curveLinear:A0,curveMonotoneX:qQ,curveMonotoneY:$Q,curveNatural:KQ,curveStep:HQ,curveStepAfter:WQ,curveStepBefore:GQ},ey=t=>ri(t.x)&&ri(t.y),_h=t=>t.x,bh=t=>t.y,fee=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(np(t));return(n==="curveMonotone"||n==="curveBump")&&e?_2["".concat(n).concat(e==="vertical"?"Y":"X")]:_2[n]||A0},dee=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=fee(e,i),u=a?n.filter(ey):n,f;if(Array.isArray(r)){var d=a?r.filter(p=>ey(p)):r,m=u.map((p,v)=>v2(v2({},p),{},{base:d[v]}));return i==="vertical"?f=Hg().y(bh).x1(_h).x0(p=>p.base.x):f=Hg().x(_h).y1(bh).y0(p=>p.base.y),f.defined(ey).curve(l),f(m)}return i==="vertical"&&ke(r)?f=Hg().y(bh).x1(_h).x0(r):ke(r)?f=Hg().x(_h).y1(bh).y0(r):f=E3().x(_h).y(bh),f.defined(ey).curve(l),f(u)},S6=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?dee(t):r;return R.createElement("path",hx({},Xo(t),N1(t),{className:At("recharts-curve",e),d:a===null?void 0:a,ref:i}))},hee=["x","y","top","left","width","height","className"];function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(null,arguments)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vee(t,e){if(t==null)return{};var n,r,i=_ee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bee=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),wee=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,f=vee(t,hee),d=mee({x:e,y:n,top:r,left:i,width:a,height:l},f);return!ke(e)||!ke(n)||!ke(a)||!ke(l)||!ke(r)||!ke(i)?null:R.createElement("path",mx({},cn(d,!0),{className:At("recharts-cross",u),d:bee(e,n,a,l,r,i)}))};function Eee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e,n){return(e=Aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=See(t,"string");return typeof e=="symbol"?e:e+""}function See(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kr(t,e){var n=Tee({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Iee(){}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){Ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ree(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cee=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),I6=(t,e,n)=>t.map(r=>"".concat(Cee(r)," ").concat(e,"ms ").concat(n)).join(","),Dee=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Sm=(t,e)=>Object.keys(e).reduce((n,r)=>T2(T2({},n),{},{[r]:t(r,e[r])}),{});function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){Nee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nee(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dv=(t,e,n)=>t+(e-t)*n,px=t=>{var{from:e,to:n}=t;return e!==n},R6=(t,e,n)=>{var r=Sm((i,a)=>{if(px(a)){var[l,u]=t(a.from,a.to,a.velocity);return Jn(Jn({},a),{},{from:l,velocity:u})}return a},e);return n<1?Sm((i,a)=>px(a)?Jn(Jn({},a),{},{velocity:dv(a.velocity,r[i].velocity,n),from:dv(a.from,r[i].from,n)}):a,e):R6(t,r,n-1)};function jee(t,e,n,r,i,a){var l,u=r.reduce((v,b)=>Jn(Jn({},v),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Sm((v,b)=>b.from,u),d=()=>!Object.values(u).filter(px).length,m=null,p=v=>{l||(l=v);var b=v-l,T=b/n.dt;u=R6(n,u,T),i(Jn(Jn(Jn({},t),e),f())),l=v,d()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{m()})}function Vee(t,e,n,r,i,a,l){var u=null,f=i.reduce((p,v)=>Jn(Jn({},p),{},{[v]:[t[v],e[v]]}),{}),d,m=p=>{d||(d=p);var v=(p-d)/r,b=Sm((w,x)=>dv(...x,n(v)),f);if(a(Jn(Jn(Jn({},t),e),b)),v<1)u=l.setTimeout(m);else{var T=Sm((w,x)=>dv(...x,n(1)),f);a(Jn(Jn(Jn({},t),e),T))}};return()=>(u=l.setTimeout(m),()=>{u()})}const Lee=(t,e,n,r,i,a)=>{var l=Dee(t,e);return n.isStepper===!0?jee(t,e,n,l,i,a):Vee(t,e,n,r,l,i,a)};var hv=1e-4,P6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],O6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),A2=(t,e)=>n=>{var r=P6(t,e);return O6(r,n)},Uee=(t,e)=>n=>{var r=P6(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return O6(i,n)},S2=function(){for(var e,n,r,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(T=>parseFloat(T)))}}else l.length===4&&([e,r,n,i]=l);var d=A2(e,n),m=A2(r,i),p=Uee(e,n),v=T=>T>1?1:T<0?0:T,b=T=>{for(var w=T>1?1:T,x=w,P=0;P<8;++P){var C=d(x)-w,O=p(x);if(Math.abs(C-w)<hv||O<hv)return m(x);x=v(x-C/O)}return m(x)};return b.isStepper=!1,b},Bee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,f)=>{var d=-(l-u)*n,m=f*r,p=f+(d-m)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<hv&&Math.abs(p)<hv?[u,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},zee=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S2(t);case"spring":return Bee();default:if(t.split("(")[0]==="cubic-bezier")return S2(t)}return typeof t=="function"?t:null};function Fee(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,d),f);return}a(f),i=t.setTimeout(a.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class qee{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function $ee(){return Fee(new qee)}var Kee=R.createContext($ee);function Hee(t,e){var n=R.useContext(Kee);return R.useMemo(()=>e??n(t),[t,e,n])}var Gee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},I2={t:0},CE={t:1};function U0(t){var e=kr(t,Gee),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=e,m=Hee(e.animationId,e.animationManager),[p,v]=R.useState(n?I2:CE),b=R.useRef(null);return R.useEffect(()=>{n||v(CE)},[n]),R.useEffect(()=>{if(!n||!r)return Iee;var T=Lee(I2,CE,zee(a),i,v,m.getTimeoutController()),w=()=>{b.current=T()};return m.start([f,l,w,i,u]),()=>{m.stop(),b.current&&b.current(),u()}},[n,r,i,a,l,f,u,m]),d(p.t)}function B0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Em(e)),r=R.useRef(t);return r.current!==t&&(n.current=Em(e),r.current=t),n.current}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){Wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wee(t,e,n){return(e=Yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}var O2=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(e)),d+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),d+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},Xee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},C6=t=>{var e=kr(t,Xee),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var be=n.current.getTotalLength();be&&i(be)}catch{}},[]);var{x:a,y:l,width:u,height:f,radius:d,className:m}=e,{animationEasing:p,animationDuration:v,animationBegin:b,isAnimationActive:T,isUpdateAnimationActive:w}=e,x=R.useRef(u),P=R.useRef(f),C=R.useRef(a),O=R.useRef(l),B=R.useMemo(()=>({x:a,y:l,width:u,height:f,radius:d}),[a,l,u,f,d]),L=B0(B,"rectangle-");if(a!==+a||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var q=At("recharts-rectangle",m);if(!w)return R.createElement("path",mv({},cn(e,!0),{className:q,d:O2(a,l,u,f,d)}));var N=x.current,D=P.current,M=C.current,z=O.current,U="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),V=I6(["strokeDasharray"],v,typeof p=="string"?p:void 0);return R.createElement(U0,{animationId:L,key:L,canBegin:r>0,duration:v,easing:p,isActive:w,begin:b},be=>{var Se=yn(N,u,be),Z=yn(D,f,be),ie=yn(M,a,be),pe=yn(z,l,be);n.current&&(x.current=Se,P.current=Z,C.current=ie,O.current=pe);var xe;return T?be>0?xe={transition:V,strokeDasharray:F}:xe={strokeDasharray:U}:xe={strokeDasharray:F},R.createElement("path",mv({},cn(e,!0),{className:q,d:O2(ie,pe,Se,Z,d),ref:n,style:P2(P2({},xe),e.style)}))})};function D6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=tr(e,n,r,i),u=tr(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(null,arguments)}var Zee=(t,e)=>{var n=Cr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ty=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,d=u*(l?1:-1)+r,m=Math.asin(u/d)/cv,p=f?i:i+a*m,v=tr(e,n,d,p),b=tr(e,n,r,p),T=f?i-a*m:i,w=tr(e,n,d*Math.cos(m*cv),T);return{center:v,circleTangency:b,lineTangency:w,theta:m}},N6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=Zee(a,l),f=a+u,d=tr(e,n,i,a),m=tr(e,n,i,f),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=tr(e,n,r,a),b=tr(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Jee=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=t,m=Cr(d-f),{circleTangency:p,lineTangency:v,theta:b}=ty({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:w,theta:x}=ty({cx:e,cy:n,radius:i,angle:d,sign:-m,cornerRadius:a,cornerIsExternal:u}),P=u?Math.abs(f-d):Math.abs(f-d)-b-x;if(P<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):N6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:B,theta:L}=ty({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:q,lineTangency:N,theta:D}=ty({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(f-d):Math.abs(f-d)-L-D;if(M<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},ete={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k6=t=>{var e=kr(t,ete),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:m,className:p}=e;if(a<i||d===m)return null;var v=At("recharts-sector",p),b=a-i,T=qi(l,b,0,!0),w;return T>0&&Math.abs(d-m)<360?w=Jee({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:m}):w=N6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:m}),R.createElement("path",gx({},cn(e,!0),{className:v,d:w}))};function tte(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:d,outerRadius:m,angle:p}=e,v=tr(u,f,d,p),b=tr(u,f,m,p);r=v.x,i=v.y,a=b.x,l=b.y}else return D6(e);return[{x:r,y:i},{x:a,y:l}]}var DE={},NE={},kE={},C2;function nte(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(kE)),kE}var D2;function rte(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nte();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(NE)),NE}var N2;function ite(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K3(),n=rte();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}t.range=r})(DE)),DE}var ME,k2;function ate(){return k2||(k2=1,ME=ite().range),ME}var ste=ate();const M6=Oa(ste);function Ro(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ote(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W1(t){let e,n,r;t.length!==2?(e=Ro,n=(u,f)=>Ro(t(u),f),r=(u,f)=>t(u)-f):(e=t===Ro||t===ote?t:lte,n=t,r=t);function i(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(u[p],f)<0?d=p+1:m=p}while(d<m)}return d}function a(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(u[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function l(u,f,d=0,m=u.length){const p=i(u,f,d,m-1);return p>d&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:l,right:a}}function lte(){return 0}function j6(t){return t===null?NaN:+t}function*ute(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cte=W1(Ro),sp=cte.right;W1(j6).center;class M2 extends Map{constructor(e,n=hte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(j2(this,e))}has(e){return super.has(j2(this,e))}set(e,n){return super.set(fte(this,e),n)}delete(e){return super.delete(dte(this,e))}}function j2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mte(t=Ro){if(t===Ro)return V6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function V6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pte=Math.sqrt(50),gte=Math.sqrt(10),yte=Math.sqrt(2);function pv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=pte?10:a>=gte?5:a>=yte?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?pv(t,e,n*2):[u,f,d]}function yx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?pv(e,t,n):pv(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(a-d)/-l;else for(let d=0;d<u;++d)f[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function vx(t,e,n){return e=+e,t=+t,n=+n,pv(t,e,n)[2]}function _x(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vx(e,t,n):vx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function V2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function L2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function L6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?V6:mte(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(f-p)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(e-d*p/f+v)),T=Math.min(r,Math.floor(e+(f-d)*p/f+v));L6(t,e,b,T,i)}const a=t[e];let l=n,u=r;for(wh(t,n,e),i(t[r],a)>0&&wh(t,n,r);l<u;){for(wh(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?wh(t,n,u):(++u,wh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function wh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function vte(t,e,n){if(t=Float64Array.from(ute(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return L2(t);if(e>=1)return V2(t);var r,i=(r-1)*e,a=Math.floor(i),l=V2(L6(t,a).subarray(0,a+1)),u=L2(t.subarray(a+1));return l+(u-l)*(i-a)}}function _te(t,e,n=j6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function bte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bx=Symbol("implicit");function Y1(){var t=new M2,e=[],n=[],r=bx;function i(a){let l=t.get(a);if(l===void 0){if(r!==bx)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new M2;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Y1(e,n).unknown(r)},Ii.apply(i,arguments),i}function Q1(){var t=Y1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,f=0,d=0,m=.5;delete t.unknown;function p(){var v=e().length,b=i<r,T=b?i:r,w=b?r:i;a=(w-T)/Math.max(1,v-f+d*2),u&&(a=Math.floor(a)),T+=(w-T-a*(v-f))*m,l=a*(1-f),u&&(T=Math.round(T),l=Math.round(l));var x=bte(v).map(function(P){return T+a*P});return n(b?x.reverse():x)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),p()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},t.paddingOuter=function(v){return arguments.length?(d=+v,p()):d},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},t.copy=function(){return Q1(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(m)},Ii.apply(p(),arguments)}function U6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return U6(e())},t}function wte(){return U6(Q1.apply(null,arguments).paddingInner(1))}function X1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function B6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function op(){}var Im=.7,gv=1/Im,Yc="\\s*([+-]?\\d+)\\s*",Rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ete=/^#([0-9a-f]{3,8})$/,Tte=new RegExp(`^rgb\\(${Yc},${Yc},${Yc}\\)$`),xte=new RegExp(`^rgb\\(${Ta},${Ta},${Ta}\\)$`),Ate=new RegExp(`^rgba\\(${Yc},${Yc},${Yc},${Rm}\\)$`),Ste=new RegExp(`^rgba\\(${Ta},${Ta},${Ta},${Rm}\\)$`),Ite=new RegExp(`^hsl\\(${Rm},${Ta},${Ta}\\)$`),Rte=new RegExp(`^hsla\\(${Rm},${Ta},${Ta},${Rm}\\)$`),U2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X1(op,Pm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:B2,formatHex:B2,formatHex8:Pte,formatHsl:Ote,formatRgb:z2,toString:z2});function B2(){return this.rgb().formatHex()}function Pte(){return this.rgb().formatHex8()}function Ote(){return z6(this).formatHsl()}function z2(){return this.rgb().formatRgb()}function Pm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ete.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?F2(e):n===3?new Dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ny(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ny(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tte.exec(t))?new Dr(e[1],e[2],e[3],1):(e=xte.exec(t))?new Dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ate.exec(t))?ny(e[1],e[2],e[3],e[4]):(e=Ste.exec(t))?ny(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ite.exec(t))?K2(e[1],e[2]/100,e[3]/100,1):(e=Rte.exec(t))?K2(e[1],e[2]/100,e[3]/100,e[4]):U2.hasOwnProperty(t)?F2(U2[t]):t==="transparent"?new Dr(NaN,NaN,NaN,0):null}function F2(t){return new Dr(t>>16&255,t>>8&255,t&255,1)}function ny(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dr(t,e,n,r)}function Cte(t){return t instanceof op||(t=Pm(t)),t?(t=t.rgb(),new Dr(t.r,t.g,t.b,t.opacity)):new Dr}function wx(t,e,n,r){return arguments.length===1?Cte(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}X1(Dr,wx,B6(op,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Im:Math.pow(Im,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dr(lu(this.r),lu(this.g),lu(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q2,formatHex:q2,formatHex8:Dte,formatRgb:$2,toString:$2}));function q2(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}`}function Dte(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}${eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function $2(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eu(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function K2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vi(t,e,n,r)}function z6(t){if(t instanceof Vi)return new Vi(t.h,t.s,t.l,t.opacity);if(t instanceof op||(t=Pm(t)),!t)return new Vi;if(t instanceof Vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new Vi(l,u,f,t.opacity)}function Nte(t,e,n,r){return arguments.length===1?z6(t):new Vi(t,e,n,r??1)}function Vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}X1(Vi,Nte,B6(op,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new Vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Im:Math.pow(Im,t),new Vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dr(jE(t>=240?t-240:t+120,i,r),jE(t,i,r),jE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vi(H2(this.h),ry(this.s),ry(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${H2(this.h)}, ${ry(this.s)*100}%, ${ry(this.l)*100}%${t===1?")":`, ${t})`}`}}));function H2(t){return t=(t||0)%360,t<0?t+360:t}function ry(t){return Math.max(0,Math.min(1,t||0))}function jE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Z1=t=>()=>t;function kte(t,e){return function(n){return t+n*e}}function Mte(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jte(t){return(t=+t)==1?F6:function(e,n){return n-e?Mte(e,n,t):Z1(isNaN(e)?n:e)}}function F6(t,e){var n=e-t;return n?kte(t,n):Z1(isNaN(t)?e:t)}const G2=(function t(e){var n=jte(e);function r(i,a){var l=n((i=wx(i)).r,(a=wx(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=F6(i.opacity,a.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=t,r})(1);function Vte(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Lte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ute(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Hf(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function Bte(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zte(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ex=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VE=new RegExp(Ex.source,"g");function Fte(t){return function(){return t}}function qte(t){return function(e){return t(e)+""}}function $te(t,e){var n=Ex.lastIndex=VE.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Ex.exec(t))&&(i=VE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:vv(r,i)})),n=VE.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?qte(f[0].x):Fte(e):(e=f.length,function(d){for(var m=0,p;m<e;++m)u[(p=f[m]).i]=p.x(d);return u.join("")})}function Hf(t,e){var n=typeof e,r;return e==null||n==="boolean"?Z1(e):(n==="number"?vv:n==="string"?(r=Pm(e))?(e=r,G2):$te:e instanceof Pm?G2:e instanceof Date?Bte:Lte(e)?Vte:Array.isArray(e)?Ute:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zte:vv)(t,e)}function J1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Kte(t,e){e===void 0&&(e=t,t=Hf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function Hte(t){return function(){return t}}function _v(t){return+t}var W2=[0,1];function _r(t){return t}function Tx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hte(isNaN(e)?NaN:.5)}function Gte(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wte(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=Tx(i,r),a=n(l,a)):(r=Tx(r,i),a=n(a,l)),function(u){return a(r(u))}}function Yte(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Tx(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var f=sp(t,u,1,r)-1;return a[f](i[f](u))}}function lp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function z0(){var t=W2,e=W2,n=Hf,r,i,a,l=_r,u,f,d;function m(){var v=Math.min(t.length,e.length);return l!==_r&&(l=Gte(t[0],t[v-1])),u=v>2?Yte:Wte,f=d=null,p}function p(v){return v==null||isNaN(v=+v)?a:(f||(f=u(t.map(r),e,n)))(r(l(v)))}return p.invert=function(v){return l(i((d||(d=u(e,t.map(r),vv)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,_v),m()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=J1,m()},p.clamp=function(v){return arguments.length?(l=v?!0:_r,m()):l!==_r},p.interpolate=function(v){return arguments.length?(n=v,m()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,b){return r=v,i=b,m()}}function eS(){return z0()(_r,_r)}function Qte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Af(t){return t=bv(Math.abs(t)),t?t[1]:NaN}function Xte(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Zte(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Jte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Om(t){if(!(e=Jte.exec(t)))throw new Error("invalid format: "+t);var e;return new tS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Om.prototype=tS.prototype;function tS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ene(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var q6;function tne(t,e){var n=bv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(q6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bv(t,Math.max(0,e+a-1))[0]}function Y2(t,e){var n=bv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Q2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Y2(t*100,e),r:Y2,s:tne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function X2(t){return t}var Z2=Array.prototype.map,J2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nne(t){var e=t.grouping===void 0||t.thousands===void 0?X2:Xte(Z2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?X2:Zte(Z2.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Om(p);var v=p.fill,b=p.align,T=p.sign,w=p.symbol,x=p.zero,P=p.width,C=p.comma,O=p.precision,B=p.trim,L=p.type;L==="n"?(C=!0,L="g"):Q2[L]||(O===void 0&&(O=12),B=!0,L="g"),(x||v==="0"&&b==="=")&&(x=!0,v="0",b="=");var q=w==="$"?n:w==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",N=w==="$"?r:/[%p]/.test(L)?l:"",D=Q2[L],M=/[defgprs%]/.test(L);O=O===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function z(U){var F=q,V=N,be,Se,Z;if(L==="c")V=D(U)+V,U="";else{U=+U;var ie=U<0||1/U<0;if(U=isNaN(U)?f:D(Math.abs(U),O),B&&(U=ene(U)),ie&&+U==0&&T!=="+"&&(ie=!1),F=(ie?T==="("?T:u:T==="-"||T==="("?"":T)+F,V=(L==="s"?J2[8+q6/3]:"")+V+(ie&&T==="("?")":""),M){for(be=-1,Se=U.length;++be<Se;)if(Z=U.charCodeAt(be),48>Z||Z>57){V=(Z===46?i+U.slice(be+1):U.slice(be))+V,U=U.slice(0,be);break}}}C&&!x&&(U=e(U,1/0));var pe=F.length+U.length+V.length,xe=pe<P?new Array(P-pe+1).join(v):"";switch(C&&x&&(U=e(xe+U,xe.length?P-V.length:1/0),xe=""),b){case"<":U=F+U+V+xe;break;case"=":U=F+xe+U+V;break;case"^":U=xe.slice(0,pe=xe.length>>1)+F+U+V+xe.slice(pe);break;default:U=xe+F+U+V;break}return a(U)}return z.toString=function(){return p+""},z}function m(p,v){var b=d((p=Om(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(Af(v)/3)))*3,w=Math.pow(10,-T),x=J2[8+T/3];return function(P){return b(w*P)+x}}return{format:d,formatPrefix:m}}var iy,nS,$6;rne({thousands:",",grouping:[3],currency:["$",""]});function rne(t){return iy=nne(t),nS=iy.format,$6=iy.formatPrefix,iy}function ine(t){return Math.max(0,-Af(Math.abs(t)))}function ane(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Af(e)/3)))*3-Af(Math.abs(t)))}function sne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Af(e)-Af(t))+1}function K6(t,e,n,r){var i=_x(t,e,n),a;switch(r=Om(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ane(i,l))&&(r.precision=a),$6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=sne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ine(i))&&(r.precision=a-(r.type==="%")*2);break}}return nS(r)}function Jo(t){var e=t.domain;return t.ticks=function(n){var r=e();return yx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return K6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],f,d,m=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);m-- >0;){if(d=vx(l,u,n),d===f)return r[i]=l,r[a]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function H6(){var t=eS();return t.copy=function(){return lp(t,H6())},Ii.apply(t,arguments),Jo(t)}function G6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_v),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return G6(t).unknown(e)},t=arguments.length?Array.from(t,_v):[0,1],Jo(n)}function W6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function ek(t){return Math.log(t)}function tk(t){return Math.exp(t)}function one(t){return-Math.log(-t)}function lne(t){return-Math.exp(-t)}function une(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cne(t){return t===10?une:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nk(t){return(e,n)=>-t(-e,n)}function rS(t){const e=t(ek,tk),n=e.domain;let r=10,i,a;function l(){return i=fne(r),a=cne(r),n()[0]<0?(i=nk(i),a=nk(a),t(one,lne)):t(ek,tk),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let d=f[0],m=f[f.length-1];const p=m<d;p&&([d,m]=[m,d]);let v=i(d),b=i(m),T,w;const x=u==null?10:+u;let P=[];if(!(r%1)&&b-v<x){if(v=Math.floor(v),b=Math.ceil(b),d>0){for(;v<=b;++v)for(T=1;T<r;++T)if(w=v<0?T/a(-v):T*a(v),!(w<d)){if(w>m)break;P.push(w)}}else for(;v<=b;++v)for(T=r-1;T>=1;--T)if(w=v>0?T/a(-v):T*a(v),!(w<d)){if(w>m)break;P.push(w)}P.length*2<x&&(P=yx(d,m,x))}else P=yx(v,b,Math.min(b-v,x)).map(a);return p?P.reverse():P},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Om(f)).precision==null&&(f.trim=!0),f=nS(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=d?f(m):""}},e.nice=()=>n(W6(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function Y6(){const t=rS(z0()).domain([1,10]);return t.copy=()=>lp(t,Y6()).base(t.base()),Ii.apply(t,arguments),t}function rk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ik(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iS(t){var e=1,n=t(rk(e),ik(e));return n.constant=function(r){return arguments.length?t(rk(e=+r),ik(e)):e},Jo(n)}function Q6(){var t=iS(z0());return t.copy=function(){return lp(t,Q6()).constant(t.constant())},Ii.apply(t,arguments)}function ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hne(t){return t<0?-t*t:t*t}function aS(t){var e=t(_r,_r),n=1;function r(){return n===1?t(_r,_r):n===.5?t(dne,hne):t(ak(n),ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Jo(e)}function sS(){var t=aS(z0());return t.copy=function(){return lp(t,sS()).exponent(t.exponent())},Ii.apply(t,arguments),t}function mne(){return sS.apply(null,arguments).exponent(.5)}function sk(t){return Math.sign(t)*t*t}function pne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function X6(){var t=eS(),e=[0,1],n=!1,r;function i(a){var l=pne(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(sk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,_v)).map(sk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return X6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ii.apply(i,arguments),Jo(i)}function Z6(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=_te(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[sp(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ro),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Z6().domain(t).range(e).unknown(r)},Ii.apply(a,arguments)}function J6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[sp(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return J6().domain([t,e]).range(i).unknown(a)},Ii.apply(Jo(l),arguments)}function eU(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[sp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eU().domain(t).range(e).unknown(n)},Ii.apply(i,arguments)}const LE=new Date,UE=new Date;function Pn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let d;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<l);return f},i.filter=a=>Pn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(LE.setTime(+a),UE.setTime(+l),t(LE),t(UE),Math.floor(n(LE,UE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const wv=Pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wv);wv.range;const us=1e3,Ei=us*60,cs=Ei*60,bs=cs*24,oS=bs*7,ok=bs*30,BE=bs*365,tu=Pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCSeconds());tu.range;const lS=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*us)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getMinutes());lS.range;const uS=Pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getUTCMinutes());uS.range;const cS=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*us-t.getMinutes()*Ei)},(t,e)=>{t.setTime(+t+e*cs)},(t,e)=>(e-t)/cs,t=>t.getHours());cS.range;const fS=Pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*cs)},(t,e)=>(e-t)/cs,t=>t.getUTCHours());fS.range;const up=Pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/bs,t=>t.getDate()-1);up.range;const F0=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bs,t=>t.getUTCDate()-1);F0.range;const tU=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bs,t=>Math.floor(t/bs));tU.range;function ku(t){return Pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ei)/oS)}const q0=ku(0),Ev=ku(1),gne=ku(2),yne=ku(3),Sf=ku(4),vne=ku(5),_ne=ku(6);q0.range;Ev.range;gne.range;yne.range;Sf.range;vne.range;_ne.range;function Mu(t){return Pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oS)}const $0=Mu(0),Tv=Mu(1),bne=Mu(2),wne=Mu(3),If=Mu(4),Ene=Mu(5),Tne=Mu(6);$0.range;Tv.range;bne.range;wne.range;If.range;Ene.range;Tne.range;const dS=Pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dS.range;const hS=Pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hS.range;const ws=Pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ws.range;const Es=Pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Es.range;function nU(t,e,n,r,i,a){const l=[[tu,1,us],[tu,5,5*us],[tu,15,15*us],[tu,30,30*us],[a,1,Ei],[a,5,5*Ei],[a,15,15*Ei],[a,30,30*Ei],[i,1,cs],[i,3,3*cs],[i,6,6*cs],[i,12,12*cs],[r,1,bs],[r,2,2*bs],[n,1,oS],[e,1,ok],[e,3,3*ok],[t,1,BE]];function u(d,m,p){const v=m<d;v&&([d,m]=[m,d]);const b=p&&typeof p.range=="function"?p:f(d,m,p),T=b?b.range(d,+m+1):[];return v?T.reverse():T}function f(d,m,p){const v=Math.abs(m-d)/p,b=W1(([,,x])=>x).right(l,v);if(b===l.length)return t.every(_x(d/BE,m/BE,p));if(b===0)return wv.every(Math.max(_x(d,m,p),1));const[T,w]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return T.every(w)}return[u,f]}const[xne,Ane]=nU(Es,hS,$0,tU,fS,uS),[Sne,Ine]=nU(ws,dS,q0,up,cS,lS);function zE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function FE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Eh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Rne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=Th(i),m=xh(i),p=Th(a),v=xh(a),b=Th(l),T=xh(l),w=Th(u),x=xh(u),P=Th(f),C=xh(f),O={a:ie,A:pe,b:xe,B:$,c:null,d:hk,e:hk,f:Xne,g:ore,G:ure,H:Wne,I:Yne,j:Qne,L:rU,m:Zne,M:Jne,p:oe,q:se,Q:gk,s:yk,S:ere,u:tre,U:nre,V:rre,w:ire,W:are,x:null,X:null,y:sre,Y:lre,Z:cre,"%":pk},B={a:me,A:Re,b:Ne,B:je,c:null,d:mk,e:mk,f:mre,g:xre,G:Sre,H:fre,I:dre,j:hre,L:aU,m:pre,M:gre,p:Kt,q:ct,Q:gk,s:yk,S:yre,u:vre,U:_re,V:bre,w:wre,W:Ere,x:null,X:null,y:Tre,Y:Are,Z:Ire,"%":pk},L={a:z,A:U,b:F,B:V,c:be,d:fk,e:fk,f:$ne,g:ck,G:uk,H:dk,I:dk,j:Bne,L:qne,m:Une,M:zne,p:M,q:Lne,Q:Hne,s:Gne,S:Fne,u:Nne,U:kne,V:Mne,w:Dne,W:jne,x:Se,X:Z,y:ck,Y:uk,Z:Vne,"%":Kne};O.x=q(n,O),O.X=q(r,O),O.c=q(e,O),B.x=q(n,B),B.X=q(r,B),B.c=q(e,B);function q(we,Be){return function(Ve){var de=[],St=-1,ze=0,Nt=we.length,tn,Ht,Ms;for(Ve instanceof Date||(Ve=new Date(+Ve));++St<Nt;)we.charCodeAt(St)===37&&(de.push(we.slice(ze,St)),(Ht=lk[tn=we.charAt(++St)])!=null?tn=we.charAt(++St):Ht=tn==="e"?" ":"0",(Ms=Be[tn])&&(tn=Ms(Ve,Ht)),de.push(tn),ze=St+1);return de.push(we.slice(ze,St)),de.join("")}}function N(we,Be){return function(Ve){var de=Eh(1900,void 0,1),St=D(de,we,Ve+="",0),ze,Nt;if(St!=Ve.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Be&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(ze=FE(Eh(de.y,0,1)),Nt=ze.getUTCDay(),ze=Nt>4||Nt===0?Tv.ceil(ze):Tv(ze),ze=F0.offset(ze,(de.V-1)*7),de.y=ze.getUTCFullYear(),de.m=ze.getUTCMonth(),de.d=ze.getUTCDate()+(de.w+6)%7):(ze=zE(Eh(de.y,0,1)),Nt=ze.getDay(),ze=Nt>4||Nt===0?Ev.ceil(ze):Ev(ze),ze=up.offset(ze,(de.V-1)*7),de.y=ze.getFullYear(),de.m=ze.getMonth(),de.d=ze.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Nt="Z"in de?FE(Eh(de.y,0,1)).getUTCDay():zE(Eh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Nt+5)%7:de.w+de.U*7-(Nt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,FE(de)):zE(de)}}function D(we,Be,Ve,de){for(var St=0,ze=Be.length,Nt=Ve.length,tn,Ht;St<ze;){if(de>=Nt)return-1;if(tn=Be.charCodeAt(St++),tn===37){if(tn=Be.charAt(St++),Ht=L[tn in lk?Be.charAt(St++):tn],!Ht||(de=Ht(we,Ve,de))<0)return-1}else if(tn!=Ve.charCodeAt(de++))return-1}return de}function M(we,Be,Ve){var de=d.exec(Be.slice(Ve));return de?(we.p=m.get(de[0].toLowerCase()),Ve+de[0].length):-1}function z(we,Be,Ve){var de=b.exec(Be.slice(Ve));return de?(we.w=T.get(de[0].toLowerCase()),Ve+de[0].length):-1}function U(we,Be,Ve){var de=p.exec(Be.slice(Ve));return de?(we.w=v.get(de[0].toLowerCase()),Ve+de[0].length):-1}function F(we,Be,Ve){var de=P.exec(Be.slice(Ve));return de?(we.m=C.get(de[0].toLowerCase()),Ve+de[0].length):-1}function V(we,Be,Ve){var de=w.exec(Be.slice(Ve));return de?(we.m=x.get(de[0].toLowerCase()),Ve+de[0].length):-1}function be(we,Be,Ve){return D(we,e,Be,Ve)}function Se(we,Be,Ve){return D(we,n,Be,Ve)}function Z(we,Be,Ve){return D(we,r,Be,Ve)}function ie(we){return l[we.getDay()]}function pe(we){return a[we.getDay()]}function xe(we){return f[we.getMonth()]}function $(we){return u[we.getMonth()]}function oe(we){return i[+(we.getHours()>=12)]}function se(we){return 1+~~(we.getMonth()/3)}function me(we){return l[we.getUTCDay()]}function Re(we){return a[we.getUTCDay()]}function Ne(we){return f[we.getUTCMonth()]}function je(we){return u[we.getUTCMonth()]}function Kt(we){return i[+(we.getUTCHours()>=12)]}function ct(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var Be=q(we+="",O);return Be.toString=function(){return we},Be},parse:function(we){var Be=N(we+="",!1);return Be.toString=function(){return we},Be},utcFormat:function(we){var Be=q(we+="",B);return Be.toString=function(){return we},Be},utcParse:function(we){var Be=N(we+="",!0);return Be.toString=function(){return we},Be}}}var lk={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,Pne=/^%/,One=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Cne(t){return t.replace(One,"\\$&")}function Th(t){return new RegExp("^(?:"+t.map(Cne).join("|")+")","i")}function xh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Dne(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nne(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kne(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mne(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jne(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function uk(t,e,n){var r=$n.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ck(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vne(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lne(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Une(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fk(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Bne(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dk(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zne(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fne(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qne(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $ne(t,e,n){var r=$n.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kne(t,e,n){var r=Pne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hne(t,e,n){var r=$n.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gne(t,e,n){var r=$n.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hk(t,e){return ot(t.getDate(),e,2)}function Wne(t,e){return ot(t.getHours(),e,2)}function Yne(t,e){return ot(t.getHours()%12||12,e,2)}function Qne(t,e){return ot(1+up.count(ws(t),t),e,3)}function rU(t,e){return ot(t.getMilliseconds(),e,3)}function Xne(t,e){return rU(t,e)+"000"}function Zne(t,e){return ot(t.getMonth()+1,e,2)}function Jne(t,e){return ot(t.getMinutes(),e,2)}function ere(t,e){return ot(t.getSeconds(),e,2)}function tre(t){var e=t.getDay();return e===0?7:e}function nre(t,e){return ot(q0.count(ws(t)-1,t),e,2)}function iU(t){var e=t.getDay();return e>=4||e===0?Sf(t):Sf.ceil(t)}function rre(t,e){return t=iU(t),ot(Sf.count(ws(t),t)+(ws(t).getDay()===4),e,2)}function ire(t){return t.getDay()}function are(t,e){return ot(Ev.count(ws(t)-1,t),e,2)}function sre(t,e){return ot(t.getFullYear()%100,e,2)}function ore(t,e){return t=iU(t),ot(t.getFullYear()%100,e,2)}function lre(t,e){return ot(t.getFullYear()%1e4,e,4)}function ure(t,e){var n=t.getDay();return t=n>=4||n===0?Sf(t):Sf.ceil(t),ot(t.getFullYear()%1e4,e,4)}function cre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function mk(t,e){return ot(t.getUTCDate(),e,2)}function fre(t,e){return ot(t.getUTCHours(),e,2)}function dre(t,e){return ot(t.getUTCHours()%12||12,e,2)}function hre(t,e){return ot(1+F0.count(Es(t),t),e,3)}function aU(t,e){return ot(t.getUTCMilliseconds(),e,3)}function mre(t,e){return aU(t,e)+"000"}function pre(t,e){return ot(t.getUTCMonth()+1,e,2)}function gre(t,e){return ot(t.getUTCMinutes(),e,2)}function yre(t,e){return ot(t.getUTCSeconds(),e,2)}function vre(t){var e=t.getUTCDay();return e===0?7:e}function _re(t,e){return ot($0.count(Es(t)-1,t),e,2)}function sU(t){var e=t.getUTCDay();return e>=4||e===0?If(t):If.ceil(t)}function bre(t,e){return t=sU(t),ot(If.count(Es(t),t)+(Es(t).getUTCDay()===4),e,2)}function wre(t){return t.getUTCDay()}function Ere(t,e){return ot(Tv.count(Es(t)-1,t),e,2)}function Tre(t,e){return ot(t.getUTCFullYear()%100,e,2)}function xre(t,e){return t=sU(t),ot(t.getUTCFullYear()%100,e,2)}function Are(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function Sre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?If(t):If.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function Ire(){return"+0000"}function pk(){return"%"}function gk(t){return+t}function yk(t){return Math.floor(+t/1e3)}var kc,oU,lU;Rre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rre(t){return kc=Rne(t),oU=kc.format,kc.parse,lU=kc.utcFormat,kc.utcParse,kc}function Pre(t){return new Date(t)}function Ore(t){return t instanceof Date?+t:+new Date(+t)}function mS(t,e,n,r,i,a,l,u,f,d){var m=eS(),p=m.invert,v=m.domain,b=d(".%L"),T=d(":%S"),w=d("%I:%M"),x=d("%I %p"),P=d("%a %d"),C=d("%b %d"),O=d("%B"),B=d("%Y");function L(q){return(f(q)<q?b:u(q)<q?T:l(q)<q?w:a(q)<q?x:r(q)<q?i(q)<q?P:C:n(q)<q?O:B)(q)}return m.invert=function(q){return new Date(p(q))},m.domain=function(q){return arguments.length?v(Array.from(q,Ore)):v().map(Pre)},m.ticks=function(q){var N=v();return t(N[0],N[N.length-1],q??10)},m.tickFormat=function(q,N){return N==null?L:d(N)},m.nice=function(q){var N=v();return(!q||typeof q.range!="function")&&(q=e(N[0],N[N.length-1],q??10)),q?v(W6(N,q)):m},m.copy=function(){return lp(m,mS(t,e,n,r,i,a,l,u,f,d))},m}function Cre(){return Ii.apply(mS(Sne,Ine,ws,dS,q0,up,cS,lS,tu,oU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dre(){return Ii.apply(mS(xne,Ane,Es,hS,$0,F0,fS,uS,tu,lU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K0(){var t=0,e=1,n,r,i,a,l=_r,u=!1,f;function d(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(l=p,d):l};function m(p){return function(v){var b,T;return arguments.length?([b,T]=v,l=p(b,T),d):[l(0),l(1)]}}return d.range=m(Hf),d.rangeRound=m(J1),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function el(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uU(){var t=Jo(K0()(_r));return t.copy=function(){return el(t,uU())},Cs.apply(t,arguments)}function cU(){var t=rS(K0()).domain([1,10]);return t.copy=function(){return el(t,cU()).base(t.base())},Cs.apply(t,arguments)}function fU(){var t=iS(K0());return t.copy=function(){return el(t,fU()).constant(t.constant())},Cs.apply(t,arguments)}function pS(){var t=aS(K0());return t.copy=function(){return el(t,pS()).exponent(t.exponent())},Cs.apply(t,arguments)}function Nre(){return pS.apply(null,arguments).exponent(.5)}function dU(){var t=[],e=_r;function n(r){if(r!=null&&!isNaN(r=+r))return e((sp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ro),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>vte(t,a/r))},n.copy=function(){return dU(e).domain(t)},Cs.apply(n,arguments)}function H0(){var t=0,e=.5,n=1,r=1,i,a,l,u,f,d=_r,m,p=!1,v;function b(w){return isNaN(w=+w)?v:(w=.5+((w=+m(w))-a)*(r*w<r*a?u:f),d(p?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([t,e,n]=w,i=m(t=+t),a=m(e=+e),l=m(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(w){return arguments.length?(p=!!w,b):p},b.interpolator=function(w){return arguments.length?(d=w,b):d};function T(w){return function(x){var P,C,O;return arguments.length?([P,C,O]=x,d=Kte(w,[P,C,O]),b):[d(0),d(.5),d(1)]}}return b.range=T(Hf),b.rangeRound=T(J1),b.unknown=function(w){return arguments.length?(v=w,b):v},function(w){return m=w,i=w(t),a=w(e),l=w(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function hU(){var t=Jo(H0()(_r));return t.copy=function(){return el(t,hU())},Cs.apply(t,arguments)}function mU(){var t=rS(H0()).domain([.1,1,10]);return t.copy=function(){return el(t,mU()).base(t.base())},Cs.apply(t,arguments)}function pU(){var t=iS(H0());return t.copy=function(){return el(t,pU()).constant(t.constant())},Cs.apply(t,arguments)}function gS(){var t=aS(H0());return t.copy=function(){return el(t,gS()).exponent(t.exponent())},Cs.apply(t,arguments)}function kre(){return gS.apply(null,arguments).exponent(.5)}const jh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Q1,scaleDiverging:hU,scaleDivergingLog:mU,scaleDivergingPow:gS,scaleDivergingSqrt:kre,scaleDivergingSymlog:pU,scaleIdentity:G6,scaleImplicit:bx,scaleLinear:H6,scaleLog:Y6,scaleOrdinal:Y1,scalePoint:wte,scalePow:sS,scaleQuantile:Z6,scaleQuantize:J6,scaleRadial:X6,scaleSequential:uU,scaleSequentialLog:cU,scaleSequentialPow:pS,scaleSequentialQuantile:dU,scaleSequentialSqrt:Nre,scaleSequentialSymlog:fU,scaleSqrt:mne,scaleSymlog:Q6,scaleThreshold:eU,scaleTime:Cre,scaleUtc:Dre,tickFormat:K6},Symbol.toStringTag,{value:"Module"}));var tl=t=>t.chartData,Mre=re([tl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),G0=(t,e,n,r)=>r?Mre(t):tl(t);function Rf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ri(e)&&ri(n))return!0}return!1}function vk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function jre(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ri(n))i=n;else if(typeof n=="function")return;if(ri(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Rf(l))return l}}function Vre(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Rf(r))return vk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(ke(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&c2.test(i)){var f=c2.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(ke(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&f2.test(a)){var m=f2.exec(a);if(m==null||e==null)u=void 0;else{var p=+m[1];u=e[1]+p}}else u=e==null?void 0:e[1];var v=[l,u];if(Rf(v))return e==null?v:vk(v,e,n)}}}var Gf=1e9,Lre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vS,qt=!0,Si="[DecimalError] ",uu=Si+"Invalid argument: ",yS=Si+"Exponent out of range: ",Wf=Math.floor,ql=Math.pow,Ure=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,Vn=1e7,kt=7,gU=9007199254740991,xv=Wf(gU/kt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return hs(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Rt(hs(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return _n(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qr))throw Error(Si+"NaN");if(n.s<1)throw Error(Si+(n.s?"NaN":"-Infinity"));return n.eq(Qr)?new r(0):(qt=!1,e=hs(Cm(n,a),Cm(t,a),a),qt=!0,Rt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_U(e,t):yU(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Si+"NaN");return n.s?(qt=!1,e=hs(n,t,0,1).times(t),qt=!0,n.minus(e)):Rt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return vU(this)};Te.naturalLogarithm=Te.ln=function(){return Cm(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yU(e,t):_U(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uu+t);if(e=_n(i)+1,r=i.d.length-1,n=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Si+"NaN")}for(t=_n(u),qt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=_a(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(hs(u,a,l+2)).times(.5),_a(a.d).slice(0,l)===(e=_a(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Rt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return qt=!0,Rt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,l,u,f,d,m=this,p=m.constructor,v=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=v.length,d=b.length,f<d&&(a=v,v=b,b=a,l=f,f=d,d=l),a=[],l=f+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*v[i-r-1]+e,a[i--]=u%Vn|0,e=u/Vn|0;a[i]=(a[i]+e)%Vn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,qt?Rt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Pa(t,0,Gf),e===void 0?e=r.rounding:Pa(e,0,8),Rt(n,t+_n(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Tu(r,!0):(Pa(t,0,Gf),e===void 0?e=i.rounding:Pa(e,0,8),r=Rt(new i(r),t+1,e),n=Tu(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Tu(i):(Pa(t,0,Gf),e===void 0?e=a.rounding:Pa(e,0,8),r=Rt(new a(i),t+_n(i)+1,e),n=Tu(r.abs(),!1,t+_n(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Rt(new e(t),_n(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,l,u=this,f=u.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(Qr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Si+"Infinity");return u}if(u.eq(Qr))return u;if(r=f.precision,t.eq(Qr))return Rt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=m<0?-m:m)<=gU){for(i=new f(Qr),e=Math.ceil(r/kt+4),qt=!1;n%2&&(i=i.times(u),bk(i.d,e)),n=Wf(n/2),n!==0;)u=u.times(u),bk(u.d,e);return qt=!0,t.s<0?new f(Qr).div(i):Rt(i,r)}}else if(a<0)throw Error(Si+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,qt=!1,i=t.times(Cm(u,r+d)),qt=!0,i=vU(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=_n(i),r=Tu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Pa(t,1,Gf),e===void 0?e=a.rounding:Pa(e,0,8),i=Rt(new a(i),t,e),n=_n(i),r=Tu(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Pa(t,1,Gf),e===void 0?e=r.rounding:Pa(e,0,8)),Rt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_n(t),n=t.constructor;return Tu(t,e<=n.toExpNeg||e>=n.toExpPos)};function yU(t,e){var n,r,i,a,l,u,f,d,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),qt?Rt(e,p):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(p/kt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/Vn|0,f[a]%=Vn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,qt?Rt(e,p):e}function Pa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uu+t)}function _a(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=kt-r.length,n&&(a+=po(n)),a+=r;l=t[e],r=l+"",n=kt-r.length,n&&(a+=po(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var hs=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Vn|0,l=a/Vn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Vn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,d,m,p,v,b,T,w,x,P,C,O,B,L,q,N,D,M=r.constructor,z=r.s==i.s?1:-1,U=r.d,F=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Si+"Division by zero");for(f=r.e-i.e,N=F.length,L=U.length,b=new M(z),T=b.d=[],d=0;F[d]==(U[d]||0);)++d;if(F[d]>(U[d]||0)&&--f,a==null?C=a=M.precision:l?C=a+(_n(r)-_n(i))+1:C=a,C<0)return new M(0);if(C=C/kt+2|0,d=0,N==1)for(m=0,F=F[0],C++;(d<L||m)&&C--;d++)O=m*Vn+(U[d]||0),T[d]=O/F|0,m=O%F|0;else{for(m=Vn/(F[0]+1)|0,m>1&&(F=t(F,m),U=t(U,m),N=F.length,L=U.length),B=N,w=U.slice(0,N),x=w.length;x<N;)w[x++]=0;D=F.slice(),D.unshift(0),q=F[0],F[1]>=Vn/2&&++q;do m=0,u=e(F,w,N,x),u<0?(P=w[0],N!=x&&(P=P*Vn+(w[1]||0)),m=P/q|0,m>1?(m>=Vn&&(m=Vn-1),p=t(F,m),v=p.length,x=w.length,u=e(p,w,v,x),u==1&&(m--,n(p,N<v?D:F,v))):(m==0&&(u=m=1),p=F.slice()),v=p.length,v<x&&p.unshift(0),n(w,p,x),u==-1&&(x=w.length,u=e(F,w,N,x),u<1&&(m++,n(w,N<x?D:F,x))),x=w.length):u===0&&(m++,w=[0]),T[d++]=m,u&&w[0]?w[x++]=U[B]||0:(w=[U[B]],x=1);while((B++<L||w[0]!==void 0)&&C--)}return T[0]||T.shift(),b.e=f,Rt(b,l?a+_n(b)+1:a)}})();function vU(t,e){var n,r,i,a,l,u,f=0,d=0,m=t.constructor,p=m.precision;if(_n(t)>16)throw Error(yS+_n(t));if(!t.s)return new m(Qr);for(qt=!1,u=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(ql(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new m(Qr),m.precision=u;;){if(i=Rt(i.times(t),u),n=n.times(++f),l=a.plus(hs(i,n,u)),_a(l.d).slice(0,u)===_a(a.d).slice(0,u)){for(;d--;)a=Rt(a.times(a),u);return m.precision=p,e==null?(qt=!0,Rt(a,p)):a}a=l}}function _n(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function qE(t,e,n){if(e>t.LN10.sd())throw qt=!0,n&&(t.precision=n),Error(Si+"LN10 precision limit exceeded");return Rt(new t(t.LN10),e)}function po(t){for(var e="";t--;)e+="0";return e}function Cm(t,e){var n,r,i,a,l,u,f,d,m,p=1,v=10,b=t,T=b.d,w=b.constructor,x=w.precision;if(b.s<1)throw Error(Si+(b.s?"NaN":"-Infinity"));if(b.eq(Qr))return new w(0);if(e==null?(qt=!1,d=x):d=e,b.eq(10))return e==null&&(qt=!0),qE(w,d);if(d+=v,w.precision=d,n=_a(T),r=n.charAt(0),a=_n(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=_a(b.d),r=n.charAt(0),p++;a=_n(b),r>1?(b=new w("0."+n),a++):b=new w(r+"."+n.slice(1))}else return f=qE(w,d+2,x).times(a+""),b=Cm(new w(r+"."+n.slice(1)),d-v).plus(f),w.precision=x,e==null?(qt=!0,Rt(b,x)):b;for(u=l=b=hs(b.minus(Qr),b.plus(Qr),d),m=Rt(b.times(b),d),i=3;;){if(l=Rt(l.times(m),d),f=u.plus(hs(l,new w(i),d)),_a(f.d).slice(0,d)===_a(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(qE(w,d+2,x).times(a+""))),u=hs(u,new w(p),d),w.precision=x,e==null?(qt=!0,Rt(u,x)):u;u=f,i+=2}}function _k(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Wf(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=kt;r<i;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qt&&(t.e>xv||t.e<-xv))throw Error(yS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Rt(t,e,n){var r,i,a,l,u,f,d,m,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=kt,i=e,d=p[m=0];else{if(m=Math.ceil((r+1)/kt),a=p.length,m>=a)return t;for(d=a=p[m],l=1;a>=10;a/=10)l++;r%=kt,i=r-kt+l}if(n!==void 0&&(a=ql(10,l-i-1),u=d/a%10|0,f=e<0||p[m+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/ql(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=_n(t),p.length=1,e=e-a-1,p[0]=ql(10,(kt-e%kt)%kt),t.e=Wf(-e/kt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=ql(10,kt-r),p[m]=i>0?(d/ql(10,l-i)%ql(10,i)|0)*a:0),f)for(;;)if(m==0){(p[0]+=a)==Vn&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=Vn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(qt&&(t.e>xv||t.e<-xv))throw Error(yS+_n(t));return t}function _U(t,e){var n,r,i,a,l,u,f,d,m,p,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),qt?Rt(e,b):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(m=l<0,m?(n=f,l=-l,u=p.length):(n=p,r=d,u=f.length),i=Math.max(Math.ceil(b/kt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}l=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Vn-1;--f[a],f[i]+=Vn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,qt?Rt(e,b):e):new v(0)}function Tu(t,e,n){var r,i=_n(t),a=_a(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+po(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+po(-i-1)+a,n&&(r=n-l)>0&&(a+=po(r))):i>=l?(a+=po(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+po(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=po(r))),t.s<0?"-"+a:a}function bk(t,e){if(t.length>e)return t.length=e,!0}function bU(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uu+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return _k(l,a.toString())}else if(typeof a!="string")throw Error(uu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Ure.test(a))_k(l,a);else throw Error(uu+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bU,i.config=i.set=Bre,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Bre(t){if(!t||typeof t!="object")throw Error(Si+"Object expected");var e,n,r,i=["precision",1,Gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Wf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uu+n+": "+r);return this}var vS=bU(Lre);Qr=new vS(1);const pt=vS;var zre=t=>t,wU={},EU=t=>t===wU,wk=t=>function e(){return arguments.length===0||arguments.length===1&&EU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},TU=(t,e)=>t===1?e:wk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==wU).length;return a>=t?e(...r):TU(t-a,wk(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(m=>EU(m)?u.shift():m);return e(...d,...u)}))}),W0=t=>TU(t.length,t),xx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Fre=W0((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),qre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zre;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),a(...arguments))}},Ax=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),xU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,u)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function AU(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function SU(t,e,n){for(var r=new pt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}W0((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});W0((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});W0((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var IU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},RU=(t,e,n)=>{if(t.lte(0))return new pt(0);var r=AU(t.toNumber()),i=new pt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new pt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new pt(f.toNumber()):new pt(Math.ceil(f.toNumber()))},$re=(t,e,n)=>{var r=new pt(1),i=new pt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new pt(10).pow(AU(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));var l=Math.floor((e-1)/2),u=qre(Fre(f=>i.add(new pt(f-l).mul(r)).toNumber()),xx);return u(0,e)},PU=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var l=RU(new pt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new pt(0):(u=new pt(e).add(n).div(2),u=u.sub(new pt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),d=Math.ceil(new pt(n).sub(u).div(l).toNumber()),m=f+d+1;return m>r?PU(e,n,r,i,a+1):(m<r&&(d=n>0?d+(r-m):d,f=n>0?f:f+(r-m)),{step:l,tickMin:u.sub(new pt(f).mul(l)),tickMax:u.add(new pt(d).mul(l))})};function Kre(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=IU([e,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...xx(0,r-1).map(()=>1/0)]:[...xx(0,r-1).map(()=>-1/0),u];return e>n?Ax(f):f}if(l===u)return $re(l,r,i);var{step:d,tickMin:m,tickMax:p}=PU(l,u,a,i,0),v=SU(m,p.add(new pt(.1).mul(d)),d);return e>n?Ax(v):v}function Hre(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=IU([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(e,2),f=RU(new pt(l).sub(a).div(u-1),i,0),d=[...SU(new pt(a),new pt(l),f),l];return i===!1&&(d=d.map(m=>Math.round(m))),n>r?Ax(d):d}var Gre=xU(Kre),Wre=xU(Hre),OU=t=>t.rootProps.maxBarSize,Yre=t=>t.rootProps.barGap,CU=t=>t.rootProps.barCategoryGap,Qre=t=>t.rootProps.barSize,Y0=t=>t.rootProps.stackOffset,_S=t=>t.options.chartName,bS=t=>t.rootProps.syncId,DU=t=>t.rootProps.syncMethod,wS=t=>t.options.eventEmitter,as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Q0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Xre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},Zre={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,ticks:void 0,type:Gr.type,unit:void 0},Jre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eie={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,ticks:void 0,type:"category",unit:void 0},ES=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Jre:Xre,TS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?eie:Zre,X0=t=>t.polarOptions,xS=re([Ps,Os,qn],sJ),NU=re([X0,xS],(t,e)=>{if(t!=null)return qi(t.innerRadius,e,0)}),kU=re([X0,xS],(t,e)=>{if(t!=null)return qi(t.outerRadius,e,e*.8)}),tie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},MU=re([X0],tie);re([ES,MU],Q0);var jU=re([xS,NU,kU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([TS,jU],Q0);var VU=re([ut,X0,NU,kU,Ps,Os],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=e;return{cx:qi(l,i,i/2),cy:qi(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),bn=(t,e)=>e,Z0=(t,e,n)=>n;function AS(t){return t==null?void 0:t.id}var On=t=>{var e=ut(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Yf=t=>t.tooltip.settings.axisId,Kn=t=>{var e=On(t),n=Yf(t);return cp(t,e,n)},LU=re([Kn],t=>t==null?void 0:t.dataKey);function UU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var m=AS(u);d.forEach((p,v)=>{var b=a==null||i?v:String(Bn(p,a,null)),T=Bn(p,u.dataKey,0),w;l.has(b)?w=l.get(b):w={},Object.assign(w,{[m]:T}),l.set(b,w)})}}),Array.from(l.values())}function J0(t){return t.stackId!=null&&t.dataKey!=null}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sx=[0,"auto"],$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BU=(t,e)=>t.cartesianAxis.xAxis[e],Ds=(t,e)=>{var n=BU(t,e);return n??$r},Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Sx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ap},zU=(t,e)=>t.cartesianAxis.yAxis[e],Ns=(t,e)=>{var n=zU(t,e);return n??Kr},aie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??aie},Mr=(t,e,n)=>{switch(e){case"xAxis":return Ds(t,n);case"yAxis":return Ns(t,n);case"zAxis":return SS(t,n);case"angleAxis":return ES(t,n);case"radiusAxis":return TS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sie=(t,e,n)=>{switch(e){case"xAxis":return Ds(t,n);case"yAxis":return Ns(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cp=(t,e,n)=>{switch(e){case"xAxis":return Ds(t,n);case"yAxis":return Ns(t,n);case"angleAxis":return ES(t,n);case"radiusAxis":return TS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},FU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function qU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var e_=t=>t.graphicalItems.cartesianItems,oie=re([bn,Z0],qU),$U=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),fp=re([e_,Mr,oie],$U),KU=re([fp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(J0)),HU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),GU=re([fp],HU),WU=t=>t.map(e=>e.data).filter(Boolean).flat(1),lie=re([fp],WU),YU=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},IS=re([lie,G0],YU),QU=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Bn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Bn(i,r)}))):t.map(r=>({value:r})),t_=re([IS,Mr,fp],QU);function XU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ju(t){return t.filter(e=>Ra(e)||e instanceof Date).map(Number).filter(e=>ti(e)===!1)}function uie(t,e,n){return!n||typeof e!="number"||ti(e)?[]:n.length?ju(n.flatMap(r=>{var i=Bn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!ri(a)||!ri(l)))return[e-a,e+l]})):[]}var cie=re([KU,G0,Kn],UU),ZU=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,f=u.map(AS);return[l,{stackedData:EJ(t,f,n),graphicalItems:u}]}))},Ix=re([cie,KU,Y0],ZU),JU=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=IJ(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},fie=re([Ix,tl,bn],JU),e5=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(l=>{var u,f,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(p=>XU(i,p)),m=Bn(a,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:m,errorDomain:uie(a,m,d)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:Bn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),n_=t=>t.errorBars,t5=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>XU(n,r));re([GU,n_,bn],t5);var die=re([IS,Mr,GU,n_,bn],e5);function hie(t){var{value:e}=t;if(Ra(e)||e instanceof Date)return e}var Tk=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ju(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mie=(t,e,n)=>{var r=t.map(hie).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&f3(r))?M6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},RS=t=>{var e;if(t==null||!("domain"in t))return Sx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ju(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Sx},Sv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},n5=t=>t.referenceElements.dots,Qf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),pie=re([n5,bn,Z0],Qf),r5=t=>t.referenceElements.areas,gie=re([r5,bn,Z0],Qf),i5=t=>t.referenceElements.lines,yie=re([i5,bn,Z0],Qf),a5=(t,e)=>{var n=ju(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vie=re(pie,bn,a5),s5=(t,e)=>{var n=ju(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_ie=re([gie,bn],s5),o5=(t,e)=>{var n=ju(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bie=re(yie,bn,o5),wie=re(vie,bie,_ie,(t,e,n)=>Sv(t,n,e)),Eie=re([Mr],RS),l5=(t,e,n,r,i,a,l)=>{var u=jre(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=f?Sv(n,i,Tk(r)):Sv(i,Tk(r));return Vre(e,d,t.allowDataOverflow)},Tie=re([Mr,Eie,fie,die,wie,ut,bn],l5),xie=[0,1],u5=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,d=Zo(e,a);return d&&u==null?M6(0,n.length):f==="category"?mie(r,t,d):i==="expand"?xie:l}},PS=re([Mr,ut,IS,t_,Y0,bn,Tie],u5),c5=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(np(a));return u in jh?u:"point"}}},dp=re([Mr,ut,FU,_S,bn],c5);function Aie(t){if(t!=null){if(t in jh)return jh[t]();var e="scale".concat(np(t));if(e in jh)return jh[e]()}}function OS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Aie(e);if(i!=null){var a=i.domain(n).range(r);return yJ(a),a}}}var f5=(t,e,n)=>{var r=RS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Rf(t))return Gre(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Rf(t))return Wre(t,e.tickCount,e.allowDecimals)}},CS=re([PS,cp,dp],f5),d5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Rf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return e},Sie=re([Mr,PS,CS,bn],d5),Iie=re(t_,Mr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ju(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),h5=re(Iie,ut,CU,qn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ri(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=qi(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),Rie=(t,e)=>{var n=Ds(t,e);return n==null||typeof n.padding!="string"?0:h5(t,"xAxis",e,n.padding)},Pie=(t,e)=>{var n=Ns(t,e);return n==null||typeof n.padding!="string"?0:h5(t,"yAxis",e,n.padding)},Oie=re(Ds,Rie,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Cie=re(Ns,Pie,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Die=re([qn,Oie,V0,j0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Nie=re([qn,ut,Cie,V0,j0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Die(t,n,r);case"yAxis":return Nie(t,n,r);case"zAxis":return(i=SS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return MU(t);case"radiusAxis":return jU(t,n);default:return}},m5=re([Mr,hp],Q0),Xf=re([Mr,dp,Sie,m5],OS);re([fp,n_,bn],t5);function p5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var r_=(t,e)=>e,i_=(t,e,n)=>n,kie=re(k0,r_,i_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(p5)),Mie=re(M0,r_,i_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(p5)),g5=(t,e)=>({width:t.width,height:e.height}),jie=(t,e)=>{var n=typeof e.width=="number"?e.width:ap;return{width:n,height:t.height}},y5=re(qn,Ds,g5),Vie=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Lie=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Uie=re(Os,qn,kie,r_,i_,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=g5(e,u);l==null&&(l=Vie(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),a}),Bie=re(Ps,qn,Mie,r_,i_,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=jie(e,u);l==null&&(l=Lie(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),a}),zie=(t,e)=>{var n=Ds(t,e);if(n!=null)return Uie(t,n.orientation,n.mirror)},Fie=re([qn,Ds,zie,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),qie=(t,e)=>{var n=Ns(t,e);if(n!=null)return Bie(t,n.orientation,n.mirror)},$ie=re([qn,Ns,qie,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),v5=re(qn,Ns,(t,e)=>{var n=typeof e.width=="number"?e.width:ap;return{width:n,height:t.height}}),xk=(t,e,n)=>{switch(e){case"xAxis":return y5(t,n).width;case"yAxis":return v5(t,n).height;default:return}},_5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Zo(t,r),f=e.map(d=>d.value);if(l&&u&&a==="category"&&i&&f3(f))return f}},DS=re([ut,t_,Mr,bn],_5),b5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Zo(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},NS=re([ut,t_,cp,bn],b5),Ak=re([ut,sie,dp,Xf,DS,NS,hp,CS,bn],(t,e,n,r,i,a,l,u,f)=>{if(e==null)return null;var d=Zo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}),Kie=(t,e,n,r,i,a,l,u,f)=>{if(!(e==null||r==null)){var d=Zo(t,f),{type:m,ticks:p,tickCount:v}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=m==="category"&&r.bandwidth?r.bandwidth()/b:0;T=f==="angleAxis"&&a!=null&&a.length>=2?Cr(a[0]-a[1])*2*T:T;var w=p||i;if(w){var x=w.map((P,C)=>{var O=l?l.indexOf(P):P;return{index:C,coordinate:r(O)+T,value:P,offset:T}});return x.filter(P=>!ti(P.coordinate))}return d&&u?u.map((P,C)=>({coordinate:r(P)+T,value:P,index:C,offset:T})):r.ticks?r.ticks(v).map(P=>({coordinate:r(P)+T,value:P,offset:T})):r.domain().map((P,C)=>({coordinate:r(P)+T,value:l?l[P]:P,index:C,offset:T}))}},w5=re([ut,cp,dp,Xf,CS,hp,DS,NS,bn],Kie),Hie=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Zo(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Cr(r[0]-r[1])*2*d:d,u&&a?a.map((m,p)=>({coordinate:n(m)+d,value:m,index:p,offset:d})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,p)=>({coordinate:n(m)+d,value:i?i[m]:m,index:p,offset:d}))}},zo=re([ut,cp,Xf,hp,DS,NS,bn],Hie),Fo=re(Mr,Xf,(t,e)=>{if(!(t==null||e==null))return Av(Av({},t),{},{scale:e})}),Gie=re([Mr,dp,PS,m5],OS);re((t,e,n)=>SS(t,n),Gie,(t,e)=>{if(!(t==null||e==null))return Av(Av({},t),{},{scale:e})});var Wie=re([ut,k0,M0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),E5=t=>t.options.defaultTooltipEventType,T5=t=>t.options.validateTooltipEventTypes;function x5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function kS(t,e){var n=E5(t),r=T5(t);return x5(e,n,r)}function Yie(t){return Ce(e=>kS(e,t))}var A5=(t,e)=>{var n,r=Number(e);if(!(ti(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Qie=t=>t.tooltip.settings,vo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Xie={itemInteraction:{click:vo,hover:vo},axisInteraction:{click:vo,hover:vo},keyboardInteraction:vo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S5=ii({name:"tooltip",initialState:Xie,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ds(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Zie,removeTooltipEntrySettings:Jie,setTooltipSettingsState:eae,setActiveMouseOverItemIndex:I5,mouseLeaveItem:tae,mouseLeaveChart:R5,setActiveClickItemIndex:nae,setMouseOverAxisIndex:P5,setMouseClickAxisIndex:rae,setSyncInteraction:Rx,setKeyboardInteraction:Px}=S5.actions,iae=S5.reducer;function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=oae(t,"string");return typeof e=="symbol"?e:e+""}function oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function uae(t){return t.index!=null}var O5=(t,e,n,r)=>{if(e==null)return vo;var i=lae(t,e,n);if(i==null)return vo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(uae(i)){if(a)return ay(ay({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ay(ay({},vo),{},{coordinate:i.coordinate})},MS=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ri(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},C5=(t,e,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,a);if(d!=null)return d;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},D5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},mp=t=>t.options.tooltipPayloadSearcher,Zf=t=>t.tooltip;function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=dae(t,"string");return typeof e=="symbol"?e:e+""}function dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hae(t,e){return t??e}var N5=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,p=[];return t.reduce((v,b)=>{var T,{dataDefinedOnItem:w,settings:x}=b,P=hae(w,u),C=Array.isArray(P)?y6(P,d,m):P,O=(T=x==null?void 0:x.dataKey)!==null&&T!==void 0?T:r,B=x==null?void 0:x.nameKey,L;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?L=d3(C,r,i):L=a(C,e,f,B),Array.isArray(L))L.forEach(N=>{var D=Rk(Rk({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});v.push(d2({tooltipEntrySettings:D,dataKey:N.dataKey,payload:N.payload,value:Bn(N.payload,N.dataKey),name:N.name}))});else{var q;v.push(d2({tooltipEntrySettings:x,dataKey:O,payload:L,value:Bn(L,O),name:(q=Bn(L,B))!==null&&q!==void 0?q:x==null?void 0:x.name}))}return v},p)}},jS=re([Kn,ut,FU,_S,On],c5),mae=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),pae=re([On,Yf],qU),pp=re([mae,Kn,pae],$U),gae=re([pp],t=>t.filter(J0)),yae=re([pp],WU),Jf=re([yae,tl],YU),vae=re([gae,tl,Kn],UU),VS=re([Jf,Kn,pp],QU),_ae=re([Kn],RS),bae=re([pp],t=>t.filter(J0)),wae=re([vae,bae,Y0],ZU),Eae=re([wae,tl,On],JU),Tae=re([pp],HU),xae=re([Jf,Kn,Tae,n_,On],e5),Aae=re([n5,On,Yf],Qf),Sae=re([Aae,On],a5),Iae=re([r5,On,Yf],Qf),Rae=re([Iae,On],s5),Pae=re([i5,On,Yf],Qf),Oae=re([Pae,On],o5),Cae=re([Sae,Oae,Rae],Sv),Dae=re([Kn,_ae,Eae,xae,Cae,ut,On],l5),k5=re([Kn,ut,Jf,VS,Y0,On,Dae],u5),Nae=re([k5,Kn,jS],f5),kae=re([Kn,k5,Nae,On],d5),M5=t=>{var e=On(t),n=Yf(t),r=!1;return hp(t,e,n,r)},j5=re([Kn,M5],Q0),V5=re([Kn,jS,kae,j5],OS),Mae=re([ut,VS,Kn,On],_5),jae=re([ut,VS,Kn,On],b5),Vae=(t,e,n,r,i,a,l,u)=>{if(e){var{type:f}=e,d=Zo(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Cr(i[0]-i[1])*2*p:p,d&&l?l.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:a?a[v]:v,index:b,offset:p}))}}},ks=re([ut,Kn,jS,V5,M5,Mae,jae,On],Vae),LS=re([E5,T5,Qie],(t,e,n)=>x5(n.shared,t,e)),L5=t=>t.tooltip.settings.trigger,US=t=>t.tooltip.settings.defaultIndex,a_=re([Zf,LS,L5,US],O5),xu=re([a_,Jf],MS),U5=re([ks,xu],A5),B5=re([a_],t=>{if(t)return t.dataKey}),z5=re([Zf,LS,L5,US],D5),Lae=re([Ps,Os,ut,qn,ks,US,z5,mp],C5),Uae=re([a_,Lae],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Bae=re([a_],t=>t.active),zae=re([z5,xu,tl,LU,U5,mp,LS],N5),Fae=re([zae],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return(e=$ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hae=()=>Ce(Kn),Gae=()=>{var t=Hae(),e=Ce(ks),n=Ce(V5);return Am(Ok(Ok({},t),{},{scale:n}),e)},Wae=()=>Ce(_S),BS=(t,e)=>e,F5=(t,e,n)=>n,zS=(t,e,n,r)=>r,Yae=re(ks,t=>I0(t,e=>e.coordinate)),FS=re([Zf,BS,F5,zS],O5),q5=re([FS,Jf],MS),Qae=(t,e,n)=>{if(e!=null){var r=Zf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$5=re([Zf,BS,F5,zS],D5),Iv=re([Ps,Os,ut,qn,ks,zS,$5,mp],C5),Xae=re([FS,Iv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),K5=re(ks,q5,A5),Zae=re([$5,q5,tl,LU,K5,mp,BS],N5),Jae=re([FS],t=>({isActive:t.active,activeIndex:t.index})),ese=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a)){var f=RJ(t.chartX,t.chartY,e,n,u);if(f){var d=OJ(f,e),m=pJ(d,l,a,r,i),p=PJ(e,a,m,f);return{activeIndex:String(m),activeCoordinate:p}}}};function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(null,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e,n){return(e=nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return typeof e=="symbol"?e:e+""}function rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ise(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:f,chartName:d}=t,m=e,p=n,v=r;if(!u||!m||d!=="ScatterChart"&&f!=="axis")return null;var b,T;if(d==="ScatterChart")b=m,T=wee;else if(d==="BarChart")b=Eee(l,m,i,a),T=C6;else if(l==="radial"){var{cx:w,cy:x,radius:P,startAngle:C,endAngle:O}=D6(m);b={cx:w,cy:x,startAngle:C,endAngle:O,innerRadius:P,outerRadius:P},T=k6}else b={points:tte(l,m,i)},T=S6;var B=typeof u=="object"&&"className"in u?u.className:void 0,L=sy(sy(sy(sy({stroke:"#ccc",pointerEvents:"none"},i),b),cn(u,!1)),{},{payload:p,payloadIndex:v,className:At("recharts-tooltip-cursor",B)});return R.isValidElement(u)?R.cloneElement(u,L):R.createElement(T,L)}function ase(t){var e=Gae(),n=w6(),r=L0(),i=Wae();return R.createElement(ise,Ox({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var H5=R.createContext(null),sse=()=>R.useContext(H5),$E={exports:{}},Dk;function ose(){return Dk||(Dk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function a(f,d,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||f,v),T=n?n+d:d;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],b]:f._events[T].push(b):(f._events[T]=b,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,p;if(this._eventsCount===0)return d;for(p in m=this._events)e.call(m,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=n?n+d:d,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,T=new Array(b);v<b;v++)T[v]=p[v].fn;return T},u.prototype.listenerCount=function(d){var m=n?n+d:d,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,m,p,v,b,T){var w=n?n+d:d;if(!this._events[w])return!1;var x=this._events[w],P=arguments.length,C,O;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),P){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,p),!0;case 4:return x.fn.call(x.context,m,p,v),!0;case 5:return x.fn.call(x.context,m,p,v,b),!0;case 6:return x.fn.call(x.context,m,p,v,b,T),!0}for(O=1,C=new Array(P-1);O<P;O++)C[O-1]=arguments[O];x.fn.apply(x.context,C)}else{var B=x.length,L;for(O=0;O<B;O++)switch(x[O].once&&this.removeListener(d,x[O].fn,void 0,!0),P){case 1:x[O].fn.call(x[O].context);break;case 2:x[O].fn.call(x[O].context,m);break;case 3:x[O].fn.call(x[O].context,m,p);break;case 4:x[O].fn.call(x[O].context,m,p,v);break;default:if(!C)for(L=1,C=new Array(P-1);L<P;L++)C[L-1]=arguments[L];x[O].fn.apply(x[O].context,C)}}return!0},u.prototype.on=function(d,m,p){return a(this,d,m,p,!1)},u.prototype.once=function(d,m,p){return a(this,d,m,p,!0)},u.prototype.removeListener=function(d,m,p,v){var b=n?n+d:d;if(!this._events[b])return this;if(!m)return l(this,b),this;var T=this._events[b];if(T.fn)T.fn===m&&(!v||T.once)&&(!p||T.context===p)&&l(this,b);else{for(var w=0,x=[],P=T.length;w<P;w++)(T[w].fn!==m||v&&!T[w].once||p&&T[w].context!==p)&&x.push(T[w]);x.length?this._events[b]=x.length===1?x[0]:x:l(this,b)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})($E)),$E.exports}var lse=ose();const use=Oa(lse);var Dm=new use,Cx="recharts.syncEvent.tooltip",Nk="recharts.syncEvent.brush";function G5(t,e){if(e){var n=Number.parseInt(e,10);if(!ti(n))return t==null?void 0:t[n]}}var cse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},W5=ii({name:"options",initialState:cse,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fse=W5.reducer,{createEventEmitter:dse}=W5.actions;function hse(t){return t.tooltip.syncInteraction}var mse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Y5=ii({name:"chartData",initialState:mse,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:kk,setDataStartEndIndexes:pse,setComputedData:fhe}=Y5.actions,gse=Y5.reducer,yse=["x","y"];function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return(e=_se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=bse(t,"string");return typeof e=="symbol"?e:e+""}function bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e){if(t==null)return{};var n,r,i=Ese(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ese(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Q5=()=>{};function Tse(){var t=Ce(bS),e=Ce(wS),n=Fn(),r=Ce(DU),i=Ce(ks),a=L0(),l=G1(),u=Ce(f=>f.rootProps.className);R.useEffect(()=>{if(t==null)return Q5;var f=(d,m,p)=>{if(e!==p&&t===d){if(r==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate){var b=m.payload.coordinate,{x:T,y:w}=b,x=wse(b,yse),P=jl(jl(jl({},x),typeof T=="number"&&{x:Math.max(l.x,Math.min(T,l.x+l.width))}),typeof w=="number"&&{y:Math.max(l.y,Math.min(w,l.y+l.height))}),C=jl(jl({},m),{},{payload:jl(jl({},m.payload),{},{coordinate:P})});n(C)}else n(m);return}if(i!=null){var O;if(typeof r=="function"){var B={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=r(i,B);O=i[L]}else r==="value"&&(O=i.find(V=>String(V.value)===m.payload.label));var{coordinate:q}=m.payload;if(O==null||m.payload.active===!1||q==null||l==null){n(Rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:D}=q,M=Math.min(N,l.x+l.width),z=Math.min(D,l.y+l.height),U={x:a==="horizontal"?O.coordinate:M,y:a==="horizontal"?z:O.coordinate},F=Rx({active:m.payload.active,coordinate:U,dataKey:m.payload.dataKey,index:String(O.index),label:m.payload.label});n(F)}}};return Dm.on(Cx,f),()=>{Dm.off(Cx,f)}},[u,n,e,t,r,i,a,l])}function xse(){var t=Ce(bS),e=Ce(wS),n=Fn();R.useEffect(()=>{if(t==null)return Q5;var r=(i,a,l)=>{e!==l&&t===i&&n(pse(a))};return Dm.on(Nk,r),()=>{Dm.off(Nk,r)}},[n,e,t])}function Ase(){var t=Fn();R.useEffect(()=>{t(dse())},[t]),Tse(),xse()}function Sse(t,e,n,r,i,a){var l=Ce(v=>Qae(v,t,e)),u=Ce(wS),f=Ce(bS),d=Ce(DU),m=Ce(hse),p=m==null?void 0:m.active;R.useEffect(()=>{if(!p&&f!=null&&u!=null){var v=Rx({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});Dm.emit(Cx,f,v,u)}},[p,n,l,i,r,u,f,d,a])}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t){return t.dataKey}function Cse(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(JJ,e)}var Lk=[],Dse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Nu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function X5(t){var e=kr(t,Dse),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:f,offset:d,payloadUniqBy:m,position:p,reverseDirection:v,useTranslate3d:b,wrapperStyle:T,cursor:w,shared:x,trigger:P,defaultIndex:C,portal:O,axisId:B}=e,L=Fn(),q=typeof C=="number"?String(C):C;R.useEffect(()=>{L(eae({shared:x,trigger:P,axisId:B,active:n,defaultIndex:q}))},[L,x,P,B,n,q]);var N=G1(),D=A6(),M=Yie(x),{activeIndex:z,isActive:U}=Ce(Ne=>Jae(Ne,M,P,q)),F=Ce(Ne=>Zae(Ne,M,P,q)),V=Ce(Ne=>K5(Ne,M,P,q)),be=Ce(Ne=>Xae(Ne,M,P,q)),Se=F,Z=sse(),ie=n??U,[pe,xe]=iZ([Se,ie]),$=M==="axis"?V:void 0;Sse(M,P,be,$,z,ie);var oe=O??Z;if(oe==null)return null;var se=Se??Lk;ie||(se=Lk),u&&se.length&&(se=OX(Se.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||e.includeHidden)),m,Ose));var me=se.length>0,Re=R.createElement(see,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:ie,coordinate:be,hasPayload:me,offset:d,position:p,reverseDirection:v,useTranslate3d:b,viewBox:N,wrapperStyle:T,lastBoundingBox:pe,innerRef:xe,hasPortalFromProps:!!O},Cse(l,Vk(Vk({},e),{},{payload:se,label:$,active:ie,coordinate:be,accessibilityLayer:D})));return R.createElement(R.Fragment,null,bQ.createPortal(Re,oe),ie&&R.createElement(ase,{cursor:w,tooltipEventType:M,coordinate:be,payload:Se,index:z}))}var KE={},HE={},GE={},Uk;function Nse(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),m=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{d&&m(),w()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},T=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{T(),l=void 0,u=null},x=()=>{m()},P=function(...C){if(i!=null&&i.aborted)return;l=this,u=C;const O=v==null;b(),f&&O&&m()};return P.schedule=b,P.cancel=w,P.flush=x,i==null||i.addEventListener("abort",w,{once:!0}),P}t.debounce=e})(GE)),GE}var Bk;function kse(){return Bk||(Bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nse();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let m,p=null;const v=e.debounce(function(...w){m=r.apply(this,w),p=null},i,{edges:d}),b=function(...w){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,w),m)},T=()=>(v.flush(),m);return b.cancel=v.cancel,b.flush=T,b}t.debounce=n})(HE)),HE}var zk;function Mse(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kse();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(KE)),KE}var WE,Fk;function jse(){return Fk||(Fk=1,WE=Mse().throttle),WE}var Vse=jse();const Lse=Oa(Vse);var Zh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z5=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:m=0,id:p,className:v,onResize:b,style:T={}}=t,w=R.useRef(null),x=R.useRef();x.current=b,R.useImperativeHandle(e,()=>w.current);var[P,C]=R.useState({containerWidth:r.width,containerHeight:r.height}),O=R.useCallback((L,q)=>{C(N=>{var D=Math.round(L),M=Math.round(q);return N.containerWidth===D&&N.containerHeight===M?N:{containerWidth:D,containerHeight:M}})},[]);R.useEffect(()=>{var L=M=>{var z,{width:U,height:F}=M[0].contentRect;O(U,F),(z=x.current)===null||z===void 0||z.call(x,U,F)};m>0&&(L=Lse(L,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(L),{width:N,height:D}=w.current.getBoundingClientRect();return O(N,D),q.observe(w.current),()=>{q.disconnect()}},[O,m]);var B=R.useMemo(()=>{var{containerWidth:L,containerHeight:q}=P;if(L<0||q<0)return null;Zh(Jl(i)||Jl(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Zh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=Jl(i)?L:i,D=Jl(a)?q:a;return n&&n>0&&(N?D=N/n:D&&(N=D*n),f&&D>f&&(D=f)),Zh(N>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,D,i,a,l,u,n),R.Children.map(d,M=>R.cloneElement(M,{width:N,height:D,style:YE({width:N,height:D},M.props.style)}))},[n,d,a,f,u,l,P,i]);return R.createElement("div",{id:p?"".concat(p):void 0,className:At("recharts-responsive-container",v),style:YE(YE({},T),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:f}),ref:w},R.createElement("div",{style:{width:0,height:0,overflow:"visible"}},B))}),qS=t=>null;qS.displayName="Cell";function Fse(t,e,n){return(e=qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qse(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kse{constructor(e){Fse(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse={cacheSize:2e3,enableCache:!0},J5=Hse({},Qse),Kk=new Kse(J5.cacheSize),Xse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Hk="recharts_measurement_span";function Zse(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var Gk=(t,e)=>{try{var n=document.getElementById(Hk);n||(n=document.createElement("span"),n.setAttribute("id",Hk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Xse,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Jh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nu.isSsr)return{width:0,height:0};if(!J5.enableCache)return Gk(e,n);var r=Zse(e,n),i=Kk.get(r);if(i)return i;var a=Gk(e,n);return Kk.set(r,a),a},Wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},toe=Object.keys(eB),zc="NaN";function noe(t,e){return t*eB[e]}class Sr{static parse(e){var n,[,r,i]=(n=eoe.exec(e))!==null&&n!==void 0?n:[];return new Sr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ti(e)&&(this.unit=""),n!==""&&!Jse.test(n)&&(this.num=NaN,this.unit=""),toe.includes(n)&&(this.num=noe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Sr(NaN,""):new Sr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Sr(NaN,""):new Sr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Sr(NaN,""):new Sr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Sr(NaN,""):new Sr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ti(this.num)}}function tB(t){if(t.includes(zc))return zc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=Wk.exec(e))!==null&&n!==void 0?n:[],l=Sr.parse(r??""),u=Sr.parse(a??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return zc;e=e.replace(Wk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,p,v]=(d=Yk.exec(e))!==null&&d!==void 0?d:[],b=Sr.parse(m??""),T=Sr.parse(v??""),w=p==="+"?b.add(T):b.subtract(T);if(w.isNaN())return zc;e=e.replace(Yk,w.toString())}return e}var Qk=/\(([^()]*)\)/;function roe(t){for(var e=t,n;(n=Qk.exec(e))!=null;){var[,r]=n;e=e.replace(Qk,tB(r))}return e}function ioe(t){var e=t.replace(/\s+/g,"");return e=roe(e),e=tB(e),e}function aoe(t){try{return ioe(t)}catch{return zc}}function QE(t){var e=aoe(t.slice(5,-1));return e===zc?"":e}var soe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ooe=["dx","dy","angle","className","breakAll"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}function Xk(t,e){if(t==null)return{};var n,r,i=loe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function loe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nB=/[ \f\n\r\t\v\u2028\u2029]+/,rB=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$t(e)||(n?i=e.toString().split(""):i=e.toString().split(nB));var a=i.map(u=>({word:u,width:Jh(u,r).width})),l=n?0:Jh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},uoe=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:f}=t,d=ke(a),m=l,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((F,V)=>{var{word:be,width:Se}=V,Z=F[F.length-1];if(Z&&(r==null||i||Z.width+Se+n<Number(r)))Z.words.push(be),Z.width+=Se+n;else{var ie={words:[be],width:Se};F.push(ie)}return F},[])},v=p(e),b=z=>z.reduce((U,F)=>U.width>F.width?U:F);if(!d||i)return v;var T=v.length>a||b(v).width>Number(r);if(!T)return v;for(var w="",x=z=>{var U=m.slice(0,z),F=rB({breakAll:f,style:u,children:U+w}).wordsWithComputedWidth,V=p(F),be=V.length>a||b(V).width>Number(r);return[be,V]},P=0,C=m.length-1,O=0,B;P<=C&&O<=m.length-1;){var L=Math.floor((P+C)/2),q=L-1,[N,D]=x(q),[M]=x(L);if(!N&&!M&&(P=L+1),N&&M&&(C=L-1),!N&&M){B=D;break}O++}return B||v},Zk=t=>{var e=$t(t)?[]:t.toString().split(nB);return[{words:e}]},coe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Nu.isSsr){var u,f,d=rB({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:m,spaceWidth:p}=d;u=m,f=p}else return Zk(r);return uoe({breakAll:a,children:r,maxLines:l,style:i},u,f,e,n)}return Zk(r)},Jk="#808080",$S=R.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:f="end",fill:d=Jk}=t,m=Xk(t,soe),p=R.useMemo(()=>coe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:v,dy:b,angle:T,className:w,breakAll:x}=m,P=Xk(m,ooe);if(!Ra(n)||!Ra(r)||p.length===0)return null;var C=n+(ke(v)?v:0),O=r+(ke(b)?b:0),B;switch(f){case"start":B=QE("calc(".concat(a,")"));break;case"middle":B=QE("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:B=QE("calc(".concat(p.length-1," * -").concat(i,")"));break}var L=[];if(l){var q=p[0].width,{width:N}=m;L.push("scale(".concat(ke(N)?N/q:1,")"))}return T&&L.push("rotate(".concat(T,", ").concat(C,", ").concat(O,")")),L.length&&(P.transform=L.join(" ")),R.createElement("text",Dx({},cn(P,!0),{ref:e,x:C,y:O,className:At("recharts-text",w),textAnchor:u,fill:d.includes("url")?Jk:d}),p.map((D,M)=>{var z=D.words.join(x?"":" ");return R.createElement("tspan",{x:C,dy:M===0?B:i,key:"".concat(z,"-").concat(M)},z)}))});$S.displayName="Text";var foe=["labelRef"];function doe(t,e){if(t==null)return{};var n,r,i=hoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}var iB=R.createContext(null),yoe=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,l=R.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return R.createElement(iB.Provider,{value:l},a)},aB=()=>{var t=R.useContext(iB),e=G1();return t||e},voe=R.createContext(null),_oe=()=>{var t=R.useContext(voe),e=Ce(VU);return t||e},boe=t=>{var{value:e,formatter:n}=t,r=$t(t.children)?e:t.children;return typeof n=="function"?n(r):r},KS=t=>t!=null&&typeof t=="function",woe=(t,e)=>{var n=Cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Eoe=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:u,cy:f,innerRadius:d,outerRadius:m,startAngle:p,endAngle:v,clockWise:b}=i,T=(d+m)/2,w=woe(p,v),x=w>=0?1:-1,P,C;switch(e){case"insideStart":P=p+x*a,C=b;break;case"insideEnd":P=v-x*a,C=!b;break;case"end":P=v+x*a,C=b;break;default:throw new Error("Unsupported position ".concat(e))}C=w<=0?C:!C;var O=tr(u,f,T,P),B=tr(u,f,T,P+(C?1:-1)*359),L="M".concat(O.x,",").concat(O.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(C?0:1,`,
    `).concat(B.x,",").concat(B.y),q=$t(t.id)?Em("recharts-radial-line-"):t.id;return R.createElement("text",ss({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:q,d:L})),R.createElement("textPath",{xlinkHref:"#".concat(q)},n))},Toe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:m,y:p}=tr(r,i,l+e,d);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:b,y:T}=tr(r,i,v,d);return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},sB=t=>"cx"in t&&ke(t.cx),xoe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!sB(n)&&(a=n);var{x:l,y:u,width:f,height:d}=e,m=d>=0?1:-1,p=m*r,v=m>0?"end":"start",b=m>0?"start":"end",T=f>=0?1:-1,w=T*r,x=T>0?"end":"start",P=T>0?"start":"end";if(i==="top"){var C={x:l+f/2,y:u-m*r,textAnchor:"middle",verticalAnchor:v};return sn(sn({},C),a?{height:Math.max(u-a.y,0),width:f}:{})}if(i==="bottom"){var O={x:l+f/2,y:u+d+p,textAnchor:"middle",verticalAnchor:b};return sn(sn({},O),a?{height:Math.max(a.y+a.height-(u+d),0),width:f}:{})}if(i==="left"){var B={x:l-w,y:u+d/2,textAnchor:x,verticalAnchor:"middle"};return sn(sn({},B),a?{width:Math.max(B.x-a.x,0),height:d}:{})}if(i==="right"){var L={x:l+f+w,y:u+d/2,textAnchor:P,verticalAnchor:"middle"};return sn(sn({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:d}:{})}var q=a?{width:f,height:d}:{};return i==="insideLeft"?sn({x:l+w,y:u+d/2,textAnchor:P,verticalAnchor:"middle"},q):i==="insideRight"?sn({x:l+f-w,y:u+d/2,textAnchor:x,verticalAnchor:"middle"},q):i==="insideTop"?sn({x:l+f/2,y:u+p,textAnchor:"middle",verticalAnchor:b},q):i==="insideBottom"?sn({x:l+f/2,y:u+d-p,textAnchor:"middle",verticalAnchor:v},q):i==="insideTopLeft"?sn({x:l+w,y:u+p,textAnchor:P,verticalAnchor:b},q):i==="insideTopRight"?sn({x:l+f-w,y:u+p,textAnchor:x,verticalAnchor:b},q):i==="insideBottomLeft"?sn({x:l+w,y:u+d-p,textAnchor:P,verticalAnchor:v},q):i==="insideBottomRight"?sn({x:l+f-w,y:u+d-p,textAnchor:x,verticalAnchor:v},q):i&&typeof i=="object"&&(ke(i.x)||Jl(i.x))&&(ke(i.y)||Jl(i.y))?sn({x:l+qi(i.x,f),y:u+qi(i.y,d),textAnchor:"end",verticalAnchor:"end"},q):sn({x:l+f/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},q)},Aoe={offset:5};function go(t){var e=kr(t,Aoe),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:f,labelRef:d}=e,m=_oe(),p=aB(),v=r==="center"?p:m??p,b=n||v;if(!b||$t(i)&&$t(a)&&!R.isValidElement(l)&&typeof l!="function")return null;var T=sn(sn({},e),{},{viewBox:b});if(R.isValidElement(l)){var{labelRef:w}=T,x=doe(T,foe);return R.cloneElement(l,x)}var P;if(typeof l=="function"){if(P=R.createElement(l,T),R.isValidElement(P))return P}else P=boe(e);var C=sB(b),O=cn(e,!0);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Eoe(e,r,P,O,b);var B=C?Toe(b,e.offset,e.position):xoe(e,b);return R.createElement($S,ss({ref:d,className:At("recharts-label",u)},O,B,{breakAll:f}),P)}go.displayName="Label";var Soe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(go,ss({key:"label-implicit"},r)):Ra(t)?R.createElement(go,ss({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===go?R.cloneElement(t,sn({key:"label-implicit"},r)):R.createElement(go,ss({key:"label-implicit",content:t},r)):KS(t)?R.createElement(go,ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(go,ss({},t,{key:"label-implicit"},r)):null};function Ioe(t){var{label:e}=t,n=aB();return Soe(e,n)||null}var XE={},ZE={},tM;function Roe(){return tM||(tM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(ZE)),ZE}var JE={},nM;function Poe(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(JE)),JE}var rM;function Ooe(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Roe(),n=Poe(),r=L1();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(XE)),XE}var eT,iM;function Coe(){return iM||(iM=1,eT=Ooe().last),eT}var Doe=Coe();const Noe=Oa(Doe);var koe=["valueAccessor"],Moe=["dataKey","clockWise","id","textBreakAll"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(null,arguments)}function aM(t,e){if(t==null)return{};var n,r,i=joe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Voe=t=>Array.isArray(t.value)?Noe(t.value):t.value,oB=R.createContext(void 0),lB=oB.Provider,uB=R.createContext(void 0);uB.Provider;function Loe(){return R.useContext(oB)}function Uoe(){return R.useContext(uB)}function xy(t){var{valueAccessor:e=Voe}=t,n=aM(t,koe),{dataKey:r,clockWise:i,id:a,textBreakAll:l}=n,u=aM(n,Moe),f=Loe(),d=Uoe(),m=f||d;return!m||!m.length?null:R.createElement($i,{className:"recharts-label-list"},m.map((p,v)=>{var b,T=$t(r)?e(p,v):Bn(p&&p.payload,r),w=$t(a)?{}:{id:"".concat(a,"-").concat(v)};return R.createElement(go,Rv({},cn(p,!0),u,w,{fill:(b=n.fill)!==null&&b!==void 0?b:p.fill,parentViewBox:p.parentViewBox,value:T,textBreakAll:l,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}xy.displayName="LabelList";function cB(t){var{label:e}=t;return e?e===!0?R.createElement(xy,{key:"labelList-implicit"}):R.isValidElement(e)||KS(e)?R.createElement(xy,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(xy,Rv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(null,arguments)}var fB=t=>{var{cx:e,cy:n,r,className:i}=t,a=At("recharts-dot",i);return e===+e&&n===+n&&r===+r?R.createElement("circle",Nx({},Xo(t),N1(t),{className:a,cx:e,cy:n,r})):null},Boe={radiusAxis:{},angleAxis:{}},dB=ii({name:"polarAxis",initialState:Boe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:dhe,removeRadiusAxis:hhe,addAngleAxis:mhe,removeAngleAxis:phe}=dB.actions,zoe=dB.reducer,tT={},sM;function Foe(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(tT)),tT}var nT,oM;function qoe(){return oM||(oM=1,nT=Foe().isPlainObject),nT}var $oe=qoe();const Koe=Oa($oe);function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=Woe(t,"string");return typeof e=="symbol"?e:e+""}function Woe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(null,arguments)}var cM=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Yoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qoe=t=>{var e=kr(t,Yoe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:m,isUpdateAnimationActive:p}=e,v=R.useRef(),[b,T]=R.useState(-1),w=R.useRef(i),x=R.useRef(a),P=R.useRef(l),C=R.useRef(n),O=R.useRef(r),B=B0(t,"trapezoid-");if(R.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var be=v.current.getTotalLength();be&&T(be)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var L=At("recharts-trapezoid",u);if(!p)return R.createElement("g",null,R.createElement("path",Pv({},cn(e,!0),{className:L,d:cM(n,r,i,a,l)})));var q=w.current,N=x.current,D=P.current,M=C.current,z=O.current,U="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),V=I6(["strokeDasharray"],d,f);return R.createElement(U0,{animationId:B,key:B,canBegin:b>0,duration:d,easing:f,isActive:p,begin:m},be=>{var Se=yn(q,i,be),Z=yn(N,a,be),ie=yn(D,l,be),pe=yn(M,n,be),xe=yn(z,r,be);v.current&&(w.current=Se,x.current=Z,P.current=ie,C.current=pe,O.current=xe);var $=be>0?{transition:V,strokeDasharray:F}:{strokeDasharray:U};return R.createElement("path",Pv({},cn(e,!0),{className:L,d:cM(pe,xe,Se,Z,ie),ref:v,style:uM(uM({},$),e.style)}))})},Xoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zoe(t,e){if(t==null)return{};var n,r,i=Joe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rle(t,e){return Ov(Ov({},e),t)}function ile(t,e){return t==="symbols"}function dM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(C6,n);case"trapezoid":return R.createElement(Qoe,n);case"sector":return R.createElement(k6,n);case"symbols":if(ile(e))return R.createElement(k3,n);break;default:return null}}function ale(t){return R.isValidElement(t)?t.props:t}function sle(t){var{option:e,shapeType:n,propTransformer:r=rle,activeClassName:i="recharts-active-shape",isActive:a}=t,l=Zoe(t,Xoe),u;if(R.isValidElement(e))u=R.cloneElement(e,Ov(Ov({},l),ale(e)));else if(typeof e=="function")u=e(l);else if(Koe(e)&&typeof e!="boolean"){var f=r(e,l);u=R.createElement(dM,{shapeType:n,elementProps:f})}else{var d=l;u=R.createElement(dM,{shapeType:n,elementProps:d})}return a?R.createElement($i,{className:i},u):u}var hB=(t,e)=>{var n=Fn();return(r,i)=>a=>{t==null||t(r,i,a),n(I5({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},mB=t=>{var e=Fn();return(n,r)=>i=>{t==null||t(n,r,i),e(tae())}},pB=(t,e)=>{var n=Fn();return(r,i)=>a=>{t==null||t(r,i,a),n(nae({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function gB(t){var{fn:e,args:n}=t,r=Fn(),i=Nr();return R.useEffect(()=>{if(!i){var a=e(n);return r(Zie(a)),()=>{r(Jie(a))}}},[e,n,r,i]),null}var ole=()=>{};function yB(t){var{legendPayload:e}=t,n=Fn(),r=Nr();return R.useEffect(()=>r?ole:(n(HJ(e)),()=>{n(GJ(e))}),[n,r,e]),null}var rT,lle=()=>{var[t]=R.useState(()=>Em("uid-"));return t},ule=(rT=R9.useId)!==null&&rT!==void 0?rT:lle;function cle(t,e){var n=ule();return e||(t?"".concat(t,"-").concat(n):n)}var fle=R.createContext(void 0),vB=t=>{var{id:e,type:n,children:r}=t,i=cle("recharts-".concat(n),e);return R.createElement(fle.Provider,{value:i},r(i))},dle={cartesianItems:[],polarItems:[]},_B=ii({name:"graphicalItems",initialState:dle,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=ds(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=ds(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ds(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:hle,replaceCartesianGraphicalItem:mle,removeCartesianGraphicalItem:ple,addPolarGraphicalItem:ghe,removePolarGraphicalItem:yhe}=_B.actions,gle=_B.reducer;function bB(t){var e=Fn(),n=R.useRef(null);return R.useEffect(()=>{n.current===null?e(hle(t)):n.current!==t&&e(mle({prev:n.current,next:t})),n.current=t},[e,t]),R.useEffect(()=>()=>{n.current&&(e(ple(n.current)),n.current=null)},[e]),null}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return(e=vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=_le(t,"string");return typeof e=="symbol"?e:e+""}function _le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ble={xAxis:{},yAxis:{},zAxis:{}},wB=ii({name:"cartesianAxis",initialState:ble,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=mM(mM({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:wle,removeXAxis:Ele,addYAxis:Tle,removeYAxis:xle,addZAxis:vhe,removeZAxis:_he,updateYAxisWidth:Ale}=wB.actions,Sle=wB.reducer,Ile=re([qn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Rle=re([Ile,Ps,Os],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),HS=()=>Ce(Rle),Ple=()=>Ce(Fae);function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nle=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=gM(gM({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},cn(i,!1)),N1(i)),u;return R.isValidElement(i)?u=R.cloneElement(i,l):typeof i=="function"?u=i(l):u=R.createElement(fB,l),R.createElement($i,{className:"recharts-active-dot"},u)};function kle(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ce(xu),l=Ple();if(e==null||l==null)return null;var u=e.find(f=>l.includes(f.payload));return $t(u)?null:Nle({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Mle="Invariant failed";function jle(t,e){throw new Error(Mle)}var Vle=["x","y"];function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(null,arguments)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return(e=Ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=Ble(t,"string");return typeof e=="symbol"?e:e+""}function Ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zle(t,e){if(t==null)return{};var n,r,i=Fle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qle(t,e){var{x:n,y:r}=t,i=zle(t,Vle),a="".concat(n),l=parseInt(a,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),m=parseInt(d,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Ah(Ah(Ah(Ah(Ah({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function GS(t){return R.createElement(sle,kx({shapeType:"rectangle",propTransformer:qle,activeClassName:"recharts-active-bar"},t))}var $le=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ke(e))return e;var a=ke(r)||$t(r);return a?e(r,i):(a||jle(),n)}},Kle={},EB=ii({name:"errorBars",initialState:Kle,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:bhe,replaceErrorBar:whe,removeErrorBar:Ehe}=EB.actions,Hle=EB.reducer,Gle=["children"];function Wle(t,e){if(t==null)return{};var n,r,i=Yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xle=R.createContext(Qle);function TB(t){var{children:e}=t,n=Wle(t,Gle);return R.createElement(Xle.Provider,{value:n},e)}function WS(t,e){var n,r,i=Ce(d=>Ds(d,t)),a=Ce(d=>Ns(d,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:$r.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Kr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function xB(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=HS(),{needClipX:a,needClipY:l,needClip:u}=WS(e,n);if(!u)return null;var{x:f,y:d,width:m,height:p}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?f:f-m/2,y:l?d:d-p/2,width:a?m:m*2,height:l?p:p*2}))}var Zle=["onMouseEnter","onMouseLeave","onClick"],Jle=["value","background","tooltipPosition"],eue=["id"],tue=["onMouseEnter","onClick","onMouseLeave"];function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(null,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return(e=rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return typeof e=="symbol"?e:e+""}function iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(t,e){if(t==null)return{};var n,r,i=aue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sue=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:N0(n,e),payload:t}]};function oue(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:N0(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function lue(t){var e=Ce(xu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=a,d=Cv(a,Zle),m=hB(l,r),p=mB(u),v=pB(f,r);if(!i||n==null)return null;var b=cn(i,!1);return R.createElement(R.Fragment,null,n.map((T,w)=>{var{value:x,background:P,tooltipPosition:C}=T,O=Cv(T,Jle);if(!P)return null;var B=m(T,w),L=p(T,w),q=v(T,w),N=vr(vr(vr(vr(vr({option:i,isActive:String(w)===e},O),{},{fill:"#eee"},P),b),k1(d,T,w)),{},{onMouseEnter:B,onMouseLeave:L,onClick:q,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return R.createElement(GS,qo({key:"background-bar-".concat(N.index)},N))}))}function uue(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return vr(vr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return R.createElement(lB,{value:e?i:void 0},n)}function cue(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,u=Ce(xu),f=Ce(B5),d=n&&String(a)===u&&(f==null||l===f),m=d?n:e;return R.createElement(GS,qo({},r,i,{isActive:d,option:m,index:a,dataKey:l}))}function fue(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return R.createElement(GS,qo({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function due(t){var{data:e,props:n}=t,r=Xo(n),{id:i}=r,a=Cv(r,eue),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:d,onClick:m,onMouseLeave:p}=n,v=Cv(n,tue),b=hB(d,u),T=mB(p),w=pB(m,u);return e?R.createElement(R.Fragment,null,e.map((x,P)=>R.createElement($i,qo({className:"recharts-bar-rectangle"},k1(v,x,P),{onMouseEnter:b(x,P),onMouseLeave:T(x,P),onClick:w(x,P),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(P)}),f?R.createElement(cue,{shape:l,activeBar:f,baseProps:a,entry:x,index:P,dataKey:u}):R.createElement(fue,{shape:l,baseProps:a,entry:x,index:P,dataKey:u})))):null}function hue(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:m}=e,p=n.current,v=B0(e,"recharts-bar-"),[b,T]=R.useState(!1),w=!b,x=R.useCallback(()=>{typeof d=="function"&&d(),T(!1)},[d]),P=R.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return R.createElement(uue,{showLabels:w,rects:r},R.createElement(U0,{animationId:v,begin:l,duration:u,isActive:a,easing:f,onAnimationEnd:x,onAnimationStart:P,key:v},C=>{var O=C===1?r:r==null?void 0:r.map((B,L)=>{var q=p&&p[L];if(q)return vr(vr({},B),{},{x:yn(q.x,B.x,C),y:yn(q.y,B.y,C),width:yn(q.width,B.width,C),height:yn(q.height,B.height,C)});if(i==="horizontal"){var N=yn(0,B.height,C);return vr(vr({},B),{},{y:B.y+B.height-N,height:N})}var D=yn(0,B.width,C);return vr(vr({},B),{},{width:D})});return C>0&&(n.current=O??null),O==null?null:R.createElement($i,null,R.createElement(due,{props:e,data:O}))}),R.createElement(cB,{label:e.label}),e.children)}function mue(t){var e=R.useRef(null);return R.createElement(hue,{previousRectanglesRef:e,props:t})}var AB=0,pue=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Bn(t,e)}};class gue extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(e||n==null)return null;var m=At("recharts-bar",i),p=d;return R.createElement($i,{className:m,id:d},u&&R.createElement("defs",null,R.createElement(xB,{clipPathId:p,xAxisId:a,yAxisId:l})),R.createElement($i,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},R.createElement(lue,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),R.createElement(mue,this.props)))}}var yue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Nu.isSsr,legendType:"rect",minPointSize:AB,xAxisId:0,yAxisId:0};function vue(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:m}=t,{needClip:p}=WS(e,n),v=L0(),b=Nr(),T=dQ(t.children,qS),w=Ce(C=>Hue(C,e,n,b,t.id,T));if(v!=="vertical"&&v!=="horizontal")return null;var x,P=w==null?void 0:w[0];return P==null||P.height==null||P.width==null?x=0:x=v==="vertical"?P.height/2:P.width/2,R.createElement(TB,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:pue,errorBarOffset:x},R.createElement(gue,qo({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:m})))}function _ue(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:m,displayedData:p,offset:v,cells:b,parentViewBox:T}=t,w=e==="horizontal"?u:l,x=m?w.scale.domain():null,P=xJ({numericAxis:w});return p.map((C,O)=>{var B,L,q,N,D,M;m?B=vJ(m[O],x):(B=Bn(C,n),Array.isArray(B)||(B=[P,B]));var z=$le(r,AB)(B[1],O);if(e==="horizontal"){var U,[F,V]=[u.scale(B[0]),u.scale(B[1])];L=u2({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:C,index:O}),q=(U=V??F)!==null&&U!==void 0?U:void 0,N=i.size;var be=F-V;if(D=ti(be)?0:be,M={x:L,y:v.top,width:N,height:v.height},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var Se=Cr(D||z)*(Math.abs(z)-Math.abs(D));q-=Se,D+=Se}}else{var[Z,ie]=[l.scale(B[0]),l.scale(B[1])];if(L=Z,q=u2({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:C,index:O}),N=ie-Z,D=i.size,M={x:v.left,y:q,width:v.width,height:D},Math.abs(z)>0&&Math.abs(N)<Math.abs(z)){var pe=Cr(N||z)*(Math.abs(z)-Math.abs(N));N+=pe}}if(L==null||q==null||N==null||D==null)return null;var xe=vr(vr({},C),{},{x:L,y:q,width:N,height:D,value:m?B:B[1],payload:C,background:M,tooltipPosition:{x:L+N/2,y:q+D/2},parentViewBox:T},b&&b[O]&&b[O].props);return xe}).filter(Boolean)}function bue(t){var e=kr(t,yue),n=Nr();return R.createElement(vB,{id:e.id,type:"bar"},r=>R.createElement(R.Fragment,null,R.createElement(yB,{legendPayload:sue(e)}),R.createElement(gB,{fn:oue,args:e}),R.createElement(bB,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:TJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),R.createElement(vue,qo({},e,{id:r}))))}var SB=R.memo(bue);SB.displayName="Bar";function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xue=(t,e)=>e,Aue=(t,e,n)=>n,Sue=(t,e,n,r)=>r,Iue=(t,e,n,r,i)=>i,gp=re([e_,Iue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Rue=re([gp],t=>t==null?void 0:t.maxBarSize),Pue=(t,e,n,r,i,a)=>a,bM=(t,e,n)=>{var r=n??t;if(!$t(r))return qi(r,e,0)},Oue=re([ut,e_,xue,Aue,Sue],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Cue=(t,e,n,r)=>{var i=ut(t);return i==="horizontal"?Ix(t,"yAxis",n,r):Ix(t,"xAxis",e,r)},Due=(t,e,n)=>{var r=ut(t);return r==="horizontal"?xk(t,"xAxis",e):xk(t,"yAxis",n)},Nue=(t,e,n)=>{var r={},i=t.filter(J0),a=t.filter(d=>d.stackId==null),l=i.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),r),u=Object.entries(l).map(d=>{var[m,p]=d,v=p.map(T=>T.dataKey),b=bM(e,n,p[0].barSize);return{stackId:m,dataKeys:v,barSize:b}}),f=a.map(d=>{var m=[d.dataKey].filter(v=>v!=null),p=bM(e,n,d.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...u,...f]},kue=re([Oue,Qre,Due],Nue),Mue=(t,e,n,r,i)=>{var a,l,u=gp(t,e,n,r,i);if(u!=null){var f=ut(t),d=OU(t),{maxBarSize:m}=u,p=$t(m)?d:m,v,b;return f==="horizontal"?(v=Fo(t,"xAxis",e,r),b=zo(t,"xAxis",e,r)):(v=Fo(t,"yAxis",n,r),b=zo(t,"yAxis",n,r)),(a=(l=Am(v,b,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},IB=(t,e,n,r)=>{var i=ut(t),a,l;return i==="horizontal"?(a=Fo(t,"xAxis",e,r),l=zo(t,"xAxis",e,r)):(a=Fo(t,"yAxis",n,r),l=zo(t,"yAxis",n,r)),Am(a,l)};function jue(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=qi(t,n,0,!0),u,f=[];if(ri(r[0].barSize)){var d=!1,m=n/a,p=r.reduce((P,C)=>P+(C.barSize||0),0);p+=(a-1)*l,p>=n&&(p-=(a-1)*l,l=0),p>=n&&m>0&&(d=!0,m*=.9,p=a*m);var v=(n-p)/2>>0,b={offset:v-l,size:0};u=r.reduce((P,C)=>{var O,B={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+l,size:d?m:(O=C.barSize)!==null&&O!==void 0?O:0}},L=[...P,B];return b=L[L.length-1].position,L},f)}else{var T=qi(e,n,0,!0);n-2*T-(a-1)*l<=0&&(l=0);var w=(n-2*T-(a-1)*l)/a;w>1&&(w>>=0);var x=ri(i)?Math.min(w,i):w;u=r.reduce((P,C,O)=>[...P,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:T+(w+l)*O+(w-x)/2,size:x}}],f)}return u}}var Vue=(t,e,n,r,i,a,l)=>{var u=$t(l)?e:l,f=jue(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(d=>oy(oy({},d),{},{position:oy(oy({},d.position),{},{offset:d.position.offset-i/2})}))),f},Lue=re([kue,OU,Yre,CU,Mue,IB,Rue],Vue),Uue=(t,e,n,r)=>Fo(t,"xAxis",e,r),Bue=(t,e,n,r)=>Fo(t,"yAxis",n,r),zue=(t,e,n,r)=>zo(t,"xAxis",e,r),Fue=(t,e,n,r)=>zo(t,"yAxis",n,r),que=re([Lue,gp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),$ue=(t,e)=>{var n=AS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},Kue=re([Cue,gp],$ue),Hue=re([qn,H1,Uue,Bue,zue,Fue,que,ut,G0,IB,Kue,gp,Pue],(t,e,n,r,i,a,l,u,f,d,m,p,v)=>{var{chartData:b,dataStartIndex:T,dataEndIndex:w}=f;if(!(p==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:x}=p,P;if(x!=null&&x.length>0?P=x:P=b==null?void 0:b.slice(T,w+1),P!=null)return _ue({layout:u,barSettings:p,pos:l,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:P,offset:t,cells:v})}}),Gue=t=>{var{chartData:e}=t,n=Fn(),r=Nr();return R.useEffect(()=>r?()=>{}:(n(kk(e)),()=>{n(kk(void 0))}),[e,n,r]),null},wM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RB=ii({name:"brush",initialState:wM,reducers:{setBrushSettings(t,e){return e.payload==null?wM:e.payload}}}),{setBrushSettings:The}=RB.actions,Wue=RB.reducer;function Yue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Xue(t,"string");return typeof e=="symbol"?e:e+""}function Xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class YS{static create(e){return new YS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Yue(YS,"EPS",1e-4);function Zue(t){return(t%180+180)%180}var Jue=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Zue(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},ece={dots:[],areas:[],lines:[]},PB=ii({name:"referenceElements",initialState:ece,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ds(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ds(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ds(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:xhe,removeDot:Ahe,addArea:She,removeArea:Ihe,addLine:Rhe,removeLine:Phe}=PB.actions,tce=PB.reducer,nce=R.createContext(void 0),rce=t=>{var{children:e}=t,[n]=R.useState("".concat(Em("recharts"),"-clip")),r=HS();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return R.createElement(nce.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function Pf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function OB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ice(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Jue(r,n)}function ace(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Dv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function sce(t,e){return OB(t,e+1)}function oce(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,f=0,d=1,m=l,p=function(){var T=r==null?void 0:r[f];if(T===void 0)return{v:OB(r,d)};var w=f,x,P=()=>(x===void 0&&(x=n(T,w)),x),C=T.coordinate,O=f===0||Dv(t,C,P,m,u);O||(f=0,m=l,d+=1),O&&(m=C+t*(P()/2+i),f+=d)},v;d<=a.length;)if(v=p(),v)return v.v;return[]}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return(e=uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fce(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:f}=e,d=function(v){var b=a[v],T,w=()=>(T===void 0&&(T=n(b,v)),T);if(v===l-1){var x=t*(b.coordinate+t*w()/2-f);a[v]=b=sr(sr({},b),{},{tickCoord:x>0?b.coordinate-x*t:b.coordinate})}else a[v]=b=sr(sr({},b),{},{tickCoord:b.coordinate});var P=Dv(t,b.tickCoord,w,u,f);P&&(f=b.tickCoord-t*(w()/2+i),a[v]=sr(sr({},b),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return a}function dce(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=e;if(a){var m=r[u-1],p=n(m,u-1),v=t*(m.coordinate+t*p/2-d);l[u-1]=m=sr(sr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var b=Dv(t,m.tickCoord,()=>p,f,d);b&&(d=m.tickCoord-t*(p/2+i),l[u-1]=sr(sr({},m),{},{isShow:!0}))}for(var T=a?u-1:u,w=function(C){var O=l[C],B,L=()=>(B===void 0&&(B=n(O,C)),B);if(C===0){var q=t*(O.coordinate-t*L()/2-f);l[C]=O=sr(sr({},O),{},{tickCoord:q<0?O.coordinate-q*t:O.coordinate})}else l[C]=O=sr(sr({},O),{},{tickCoord:O.coordinate});var N=Dv(t,O.tickCoord,L,f,d);N&&(f=O.tickCoord+t*(L()/2+i),l[C]=sr(sr({},O),{},{isShow:!0}))},x=0;x<T;x++)w(x);return l}function QS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(ke(f)||Nu.isSsr){var v;return(v=sce(i,ke(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],T=u==="top"||u==="bottom"?"width":"height",w=m&&T==="width"?Jh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(O,B)=>{var L=typeof d=="function"?d(O.value,B):O.value;return T==="width"?ice(Jh(L,{fontSize:e,letterSpacing:n}),w,p):Jh(L,{fontSize:e,letterSpacing:n})[T]},P=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,C=ace(a,P,T);return f==="equidistantPreserveStart"?oce(P,C,x,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=dce(P,C,x,i,l,f==="preserveStartEnd"):b=fce(P,C,x,i,l),b.filter(O=>O.isShow))}var hce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,d=l+f+u+(n?r:0);return Math.round(d)}return 0},mce=["axisLine","width","height","className","hide","ticks"],pce=["viewBox"],gce=["viewBox"];function Mx(t,e){if(t==null)return{};var n,r,i=yce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(null,arguments)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return(e=_ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=bce(t,"string");return typeof e=="symbol"?e:e+""}function bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function wce(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=Sn(Sn(Sn({},f),cn(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!l||a==="bottom"&&l);d=Sn(Sn({},d),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);d=Sn(Sn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return R.createElement("line",Au({},d,{className:At("recharts-cartesian-axis-line",Ef(u,"className"))}))}function Ece(t,e,n,r,i,a,l,u,f){var d,m,p,v,b,T,w=u?-1:1,x=t.tickSize||l,P=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=m=t.coordinate,v=n+ +!u*i,p=v-w*x,T=p-w*f,b=P;break;case"left":p=v=t.coordinate,m=e+ +!u*r,d=m-w*x,b=d-w*f,T=P;break;case"right":p=v=t.coordinate,m=e+ +u*r,d=m+w*x,b=d+w*f,T=P;break;default:d=m=t.coordinate,v=n+ +u*i,p=v+w*x,T=p+w*f,b=P;break}return{line:{x1:d,y1:p,x2:m,y2:v},tick:{x:b,y:T}}}function Tce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function xce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ace(t){var{option:e,tickProps:n,value:r}=t,i,a=At(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,Sn(Sn({},n),{},{className:a}));else if(typeof e=="function")i=e(Sn(Sn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=At(l,e==null?void 0:e.className)),i=R.createElement($S,Au({},n,{className:l}),r)}return i}function Sce(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:l,padding:u,tickTextProps:f,orientation:d,mirror:m,x:p,y:v,width:b,height:T,tickSize:w,tickMargin:x,fontSize:P,letterSpacing:C,getTicksConfig:O,events:B}=t,L=QS(Sn(Sn({},O),{},{ticks:e}),P,C),q=Tce(d,m),N=xce(d,m),D=Xo(O),M=cn(n,!1),z=Sn(Sn({},D),{},{fill:"none"},cn(r,!1)),U=L.map((F,V)=>{var{line:be,tick:Se}=Ece(F,p,v,b,T,d,w,m,x),Z=Sn(Sn(Sn(Sn({textAnchor:q,verticalAnchor:N},D),{},{stroke:"none",fill:i},M),Se),{},{index:V,payload:F,visibleTicksCount:L.length,tickFormatter:a,padding:u},f);return R.createElement($i,Au({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},k1(B,F,V)),r&&R.createElement("line",Au({},z,be,{className:At("recharts-cartesian-axis-tick-line",Ef(r,"className"))})),n&&R.createElement(Ace,{option:n,tickProps:Z,value:"".concat(typeof a=="function"?a(F.value,V):F.value).concat(l||"")}))});return U.length>0?R.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var Ice=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u}=t,f=Mx(t,mce),[d,m]=R.useState(""),[p,v]=R.useState(""),b=R.useRef([]);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return hce({ticks:b.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var T=R.useCallback(w=>{if(w){var x=w.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(x);var P=x[0];if(P){var C=window.getComputedStyle(P),O=C.fontSize,B=C.letterSpacing;(O!==d||B!==p)&&(m(O),v(B))}}},[d,p]);return l||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement($i,{className:At("recharts-cartesian-axis",a),ref:T},R.createElement(wce,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Xo(t)}),R.createElement(Sce,{ticks:u,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:p,getTicksConfig:t,events:f}),R.createElement(yoe,{x:t.x,y:t.y,width:t.width,height:t.height},R.createElement(Ioe,{label:t.label}),t.children))}),Rce=R.memo(Ice,(t,e)=>{var{viewBox:n}=t,r=Mx(t,pce),{viewBox:i}=e,a=Mx(e,gce);return Pf(n,i)&&Pf(r,a)}),ZS=R.forwardRef((t,e)=>{var n=kr(t,XS);return R.createElement(Rce,Au({},n,{ref:e}))});ZS.displayName="CartesianAxis";var Pce=["x1","y1","x2","y2","key"],Oce=["offset"],Cce=["xAxisId","yAxisId"],Dce=["xAxisId","yAxisId"];function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){Nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nce(t,e,n){return(e=kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kce(t){var e=Mce(t,"string");return typeof e=="symbol"?e:e+""}function Mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}function Nv(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return R.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CB(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:l,key:u}=e,f=Nv(e,Pce),d=Xo(f),{offset:m}=d,p=Nv(d,Oce);n=R.createElement("line",nu({},p,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function Lce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Nv(t,Cce),f=i.map((d,m)=>{var p=lr(lr({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return CB(r,p)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Uce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Nv(t,Dce),f=i.map((d,m)=>{var p=lr(lr({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return CB(r,p)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Bce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var m=d.map((p,v)=>{var b=!d[v+1],T=b?i+l-p:d[v+1]-p;if(T<=0)return null;var w=v%e.length;return R.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:T,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function zce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var m=d.map((p,v)=>{var b=!d[v+1],T=b?i+l-p:d[v+1]-p;if(T<=0)return null;var w=v%n.length;return R.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:T,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Fce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return v6(QS(lr(lr(lr({},XS),n),{},{ticks:_6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},qce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return v6(QS(lr(lr(lr({},XS),n),{},{ticks:_6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},$ce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function JS(t){var e=E6(),n=T6(),r=w6(),i=lr(lr({},kr(t,$ce)),{},{x:ke(t.x)?t.x:r.left,y:ke(t.y)?t.y:r.top,width:ke(t.width)?t.width:r.width,height:ke(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:f,width:d,height:m,syncWithTicks:p,horizontalValues:v,verticalValues:b}=i,T=Nr(),w=Ce(M=>Ak(M,"xAxis",a,T)),x=Ce(M=>Ak(M,"yAxis",l,T));if(!ke(d)||d<=0||!ke(m)||m<=0||!ke(u)||u!==+u||!ke(f)||f!==+f)return null;var P=i.verticalCoordinatesGenerator||Fce,C=i.horizontalCoordinatesGenerator||qce,{horizontalPoints:O,verticalPoints:B}=i;if((!O||!O.length)&&typeof C=="function"){var L=v&&v.length,q=C({yAxis:x?lr(lr({},x),{},{ticks:L?v:x.ticks}):void 0,width:e,height:n,offset:r},L?!0:p);Zh(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(O=q)}if((!B||!B.length)&&typeof P=="function"){var N=b&&b.length,D=P({xAxis:w?lr(lr({},w),{},{ticks:N?b:w.ticks}):void 0,width:e,height:n,offset:r},N?!0:p);Zh(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(B=D)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(Vce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(Bce,nu({},i,{horizontalPoints:O})),R.createElement(zce,nu({},i,{verticalPoints:B})),R.createElement(Lce,nu({},i,{offset:r,horizontalPoints:O,xAxis:w,yAxis:x})),R.createElement(Uce,nu({},i,{offset:r,verticalPoints:B,xAxis:w,yAxis:x})))}JS.displayName="CartesianGrid";var DB=(t,e,n,r)=>Fo(t,"xAxis",e,r),NB=(t,e,n,r)=>zo(t,"xAxis",e,r),kB=(t,e,n,r)=>Fo(t,"yAxis",n,r),MB=(t,e,n,r)=>zo(t,"yAxis",n,r),Kce=re([ut,DB,kB,NB,MB],(t,e,n,r,i)=>Zo(t,"xAxis")?Am(e,r,!1):Am(n,i,!1)),Hce=(t,e,n,r,i)=>i;function Gce(t){return t.type==="line"}var Wce=re([e_,Hce],(t,e)=>t.filter(Gce).find(n=>n.id===e)),Yce=re([ut,DB,kB,NB,MB,Wce,Kce,G0],(t,e,n,r,i,a,l,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:m}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:p,data:v}=a,b;if(v!=null&&v.length>0?b=v:b=f==null?void 0:f.slice(d,m+1),b!=null)return yfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:b})}}),Qce=["id"],Xce=["type","layout","connectNulls","needClip"],Zce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eI(t,e){if(t==null)return{};var n,r,i=nfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(null,arguments)}var rfe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:N0(n,e),payload:t}]};function ife(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:N0(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var jB=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function afe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var sfe=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return jB(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>a){u=[...n.slice(0,f),a-d];break}var m=u.length%2===0?[0,l]:[l];return[...afe(n,i),...u,...m].map(p=>"".concat(p,"px")).join(", ")};function ofe(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=At("recharts-line-dot",typeof t!="boolean"?t.className:"");n=R.createElement(fB,Su({},e,{className:r}))}return n}function lfe(t,e){return t==null?!1:e?!0:t.length===1}function ufe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r;if(!lfe(n,i))return null;var{id:u}=r,f=eI(r,Qce),d=p3(i),m=Xo(f),p=cn(i,!0),v=n.map((T,w)=>{var x=Yr(Yr(Yr({key:"dot-".concat(w),r:3},m),p),{},{index:w,cx:T.x,cy:T.y,dataKey:a,value:T.value,payload:T.payload,points:n});return ofe(i,x)}),b={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return R.createElement($i,Su({className:"recharts-line-dots",key:"dots"},b),v)}function cfe(t){var{showLabels:e,children:n,points:r}=t,i=R.useMemo(()=>r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return Yr(Yr({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return R.createElement(lB,{value:e?i:null},n)}function SM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:u,connectNulls:f,needClip:d}=a,m=eI(a,Xce),p=Yr(Yr({},cn(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??a.strokeDasharray});return R.createElement(R.Fragment,null,(r==null?void 0:r.length)>1&&R.createElement(S6,Su({},p,{pathRef:n})),R.createElement(ufe,{points:r,clipPathId:e,props:a}))}function ffe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function dfe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:m,animationEasing:p,animateNewValues:v,width:b,height:T,onAnimationEnd:w,onAnimationStart:x}=n,P=i.current,C=B0(n,"recharts-line-"),[O,B]=R.useState(!1),L=!O,q=R.useCallback(()=>{typeof w=="function"&&w(),B(!1)},[w]),N=R.useCallback(()=>{typeof x=="function"&&x(),B(!0)},[x]),D=ffe(r.current),M=a.current;return R.createElement(cfe,{points:l,showLabels:L},n.children,R.createElement(U0,{animationId:C,begin:d,duration:m,isActive:f,easing:p,onAnimationEnd:q,onAnimationStart:N,key:C},z=>{var U=yn(M,D+M,z),F=Math.min(U,D),V;if(f)if(u){var be="".concat(u).split(/[,\s]+/gim).map(ie=>parseFloat(ie));V=sfe(F,D,be)}else V=jB(D,F);else V=u==null?void 0:String(u);if(P){var Se=P.length/l.length,Z=z===1?l:l.map((ie,pe)=>{var xe=Math.floor(pe*Se);if(P[xe]){var $=P[xe];return Yr(Yr({},ie),{},{x:yn($.x,ie.x,z),y:yn($.y,ie.y,z)})}return v?Yr(Yr({},ie),{},{x:yn(b*2,ie.x,z),y:yn(T/2,ie.y,z)}):Yr(Yr({},ie),{},{x:ie.x,y:ie.y})});return i.current=Z,R.createElement(SM,{props:n,points:Z,clipPathId:e,pathRef:r,strokeDasharray:V})}return z>0&&D>0&&(i.current=l,a.current=F),R.createElement(SM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:V})}),R.createElement(cB,{label:n.label}))}function hfe(t){var{clipPathId:e,props:n}=t,r=R.useRef(null),i=R.useRef(0),a=R.useRef(null);return R.createElement(dfe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var mfe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Bn(t.payload,e)});class pfe extends R.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:l,yAxisId:u,top:f,left:d,width:m,height:p,id:v,needClip:b}=this.props;if(n)return null;var T=At("recharts-line",a),w=v,{r:x=3,strokeWidth:P=2}=(e=cn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},C=p3(r),O=x*2+P;return R.createElement(R.Fragment,null,R.createElement($i,{className:T},b&&R.createElement("defs",null,R.createElement(xB,{clipPathId:w,xAxisId:l,yAxisId:u}),!C&&R.createElement("clipPath",{id:"clipPath-dots-".concat(w)},R.createElement("rect",{x:d-O/2,y:f-O/2,width:m+O,height:p+O}))),R.createElement(TB,{xAxisId:l,yAxisId:u,data:i,dataPointFormatter:mfe,errorBarOffset:0},R.createElement(hfe,{props:this.props,clipPathId:w}))),R.createElement(kle,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var VB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Nu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function gfe(t){var e=kr(t,VB),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:f,hide:d,isAnimationActive:m,label:p,legendType:v,xAxisId:b,yAxisId:T,id:w}=e,x=eI(e,Zce),{needClip:P}=WS(b,T),C=HS(),O=L0(),B=Nr(),L=Ce(z=>Yce(z,b,T,B,w));if(O!=="horizontal"&&O!=="vertical"||L==null||C==null)return null;var{height:q,width:N,x:D,y:M}=C;return R.createElement(pfe,Su({},x,{id:w,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:m,hide:d,label:p,legendType:v,xAxisId:b,yAxisId:T,points:L,layout:O,height:q,width:N,left:D,top:M,needClip:P}))}function yfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((d,m)=>{var p=Bn(d,l);if(e==="horizontal"){var v=l2({axis:n,ticks:i,bandSize:u,entry:d,index:m}),b=$t(p)?null:r.scale(p);return{x:v,y:b,value:p,payload:d}}var T=$t(p)?null:n.scale(p),w=l2({axis:r,ticks:a,bandSize:u,entry:d,index:m});return T==null||w==null?null:{x:T,y:w,value:p,payload:d}}).filter(Boolean)}function vfe(t){var e=kr(t,VB),n=Nr();return R.createElement(vB,{id:e.id,type:"line"},r=>R.createElement(R.Fragment,null,R.createElement(yB,{legendPayload:rfe(e)}),R.createElement(gB,{fn:ife,args:e}),R.createElement(bB,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),R.createElement(gfe,Su({},e,{id:r}))))}var LB=R.memo(vfe);LB.displayName="Line";var _fe=["dangerouslySetInnerHTML","ticks"],bfe=["id"],wfe=["domain"],Efe=["domain"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(null,arguments)}function kv(t,e){if(t==null)return{};var n,r,i=Tfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xfe(t){var e=Fn();return R.useEffect(()=>(e(wle(t)),()=>{e(Ele(t))}),[t,e]),null}var Afe=t=>{var{xAxisId:e,className:n}=t,r=Ce(H1),i=Nr(),a="xAxis",l=Ce(x=>Xf(x,a,e,i)),u=Ce(x=>w5(x,a,e,i)),f=Ce(x=>y5(x,e)),d=Ce(x=>Fie(x,e)),m=Ce(x=>BU(x,e));if(f==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,b=kv(t,_fe),{id:T}=m,w=kv(m,bfe);return R.createElement(ZS,jx({},b,w,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:At("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},Sfe={allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,height:$r.height,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,xAxisId:0},Ife=t=>{var e,n,r,i,a,l=kr(t,Sfe);return R.createElement(R.Fragment,null,R.createElement(xfe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),R.createElement(Afe,l))},Rfe=(t,e)=>{var{domain:n}=t,r=kv(t,wfe),{domain:i}=e,a=kv(e,Efe);return Pf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Pf({domain:n},{domain:i}):!1},tI=R.memo(Ife,Rfe);tI.displayName="XAxis";var Pfe=["dangerouslySetInnerHTML","ticks"],Ofe=["id"],Cfe=["domain"],Dfe=["domain"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(null,arguments)}function Mv(t,e){if(t==null)return{};var n,r,i=Nfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kfe(t){var e=Fn();return R.useEffect(()=>(e(Tle(t)),()=>{e(xle(t))}),[t,e]),null}var Mfe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),l=R.useRef(null),u=Ce(H1),f=Nr(),d=Fn(),m="yAxis",p=Ce(L=>Xf(L,m,e,f)),v=Ce(L=>v5(L,e)),b=Ce(L=>$ie(L,e)),T=Ce(L=>w5(L,m,e,f)),w=Ce(L=>zU(L,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!v||KS(i)||R.isValidElement(i)||w==null)){var L=a.current;if(L){var q=L.getCalculatedWidth();Math.round(v.width)!==Math.round(q)&&d(Ale({id:e,width:q}))}}},[T,v,d,i,e,r,w]),v==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:x,ticks:P}=t,C=Mv(t,Pfe),{id:O}=w,B=Mv(w,Ofe);return R.createElement(ZS,Vx({},C,B,{ref:a,labelRef:l,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:At("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:T}))},jfe={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,hide:!1,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tickCount:Kr.tickCount,type:Kr.type,width:Kr.width,yAxisId:0},Vfe=t=>{var e,n,r,i,a,l=kr(t,jfe);return R.createElement(R.Fragment,null,R.createElement(kfe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),R.createElement(Mfe,l))},Lfe=(t,e)=>{var{domain:n}=t,r=Mv(t,Cfe),{domain:i}=e,a=Mv(e,Dfe);return Pf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Pf({domain:n},{domain:i}):!1},nI=R.memo(Vfe,Lfe);nI.displayName="YAxis";var iT={exports:{}},aT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM;function Ufe(){if(IM)return aT;IM=1;var t=Of();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return aT.useSyncExternalStoreWithSelector=function(f,d,m,p,v){var b=i(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=l(function(){function x(L){if(!P){if(P=!0,C=L,L=p(L),v!==void 0&&T.hasValue){var q=T.value;if(v(q,L))return O=q}return O=L}if(q=O,n(C,L))return q;var N=p(L);return v!==void 0&&v(q,N)?(C=L,q):(C=L,O=N)}var P=!1,C,O,B=m===void 0?null:m;return[function(){return x(d())},B===null?void 0:function(){return x(B())}]},[d,m,p,v]);var w=r(f,b[0],b[1]);return a(function(){T.hasValue=!0,T.value=w},[w]),u(w),w},aT}var RM;function Bfe(){return RM||(RM=1,iT.exports=Ufe()),iT.exports}Bfe();function zfe(t){t()}function Ffe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var PM={notify(){},get:()=>[]};function qfe(t,e){let n,r=PM,i=0,a=!1;function l(w){m();const x=r.subscribe(w);let P=!1;return()=>{P||(P=!0,x(),p())}}function u(){r.notify()}function f(){T.onStateChange&&T.onStateChange()}function d(){return a}function m(){i++,n||(n=t.subscribe(f),r=Ffe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=PM)}function v(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return T}var $fe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kfe=$fe(),Hfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gfe=Hfe(),Wfe=()=>Kfe||Gfe?R.useLayoutEffect:R.useEffect,Yfe=Wfe(),sT=Symbol.for("react-redux-context"),oT=typeof globalThis<"u"?globalThis:{};function Qfe(){if(!R.createContext)return{};const t=oT[sT]??(oT[sT]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var Xfe=Qfe();function Zfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const f=qfe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=R.useMemo(()=>i.getState(),[i]);Yfe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=n||Xfe;return R.createElement(u.Provider,{value:a},e)}var Jfe=Zfe,ede=(t,e)=>e,rI=re([ede,ut,VU,On,j5,ks,Yae,qn],ese),iI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},UB=Ai("mouseClick"),BB=ip();BB.startListening({actionCreator:UB,effect:(t,e)=>{var n=t.payload,r=rI(e.getState(),iI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(rae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Lx=Ai("mouseMove"),zB=ip();zB.startListening({actionCreator:Lx,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=kS(r,r.tooltip.settings.shared),a=rI(r,iI(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(P5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(R5()))}});var OM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},FB=ii({name:"rootProps",initialState:OM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:OM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),tde=FB.reducer,{updateOptions:nde}=FB.actions,qB=ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ohe}=qB.actions,rde=qB.reducer,$B=Ai("keyDown"),KB=Ai("focus"),aI=ip();aI.startListening({actionCreator:$B,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(MS(i,Jf(n))),u=ks(n);if(a==="Enter"){var f=Iv(n,"axis","hover",String(i.index));e.dispatch(Px({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=Wie(n),m=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=l+p*m;if(!(u==null||v>=u.length||v<0)){var b=Iv(n,"axis","hover",String(v));e.dispatch(Px({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});aI.startListening({actionCreator:KB,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Iv(n,"axis","hover",String(a));e.dispatch(Px({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var _i=Ai("externalEvent"),HB=ip();HB.startListening({actionCreator:_i,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Uae(n),activeDataKey:B5(n),activeIndex:xu(n),activeLabel:U5(n),activeTooltipIndex:xu(n),isTooltipActive:Bae(n)};t.payload.handler(r,t.payload.reactEvent)}}});var ide=re([Zf],t=>t.tooltipItemPayloads),ade=re([ide,mp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),GB=Ai("touchMove"),WB=ip();WB.startListening({actionCreator:GB,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=kS(r,r.tooltip.settings.shared);if(i==="axis"){var a=rI(r,iI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(P5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(DJ),m=(l=f.getAttribute(NJ))!==null&&l!==void 0?l:void 0,p=ade(e.getState(),d,m);e.dispatch(I5({activeDataKey:m,activeIndex:d,activeCoordinate:p}))}}});var sde=W3({brush:Wue,cartesianAxis:Sle,chartData:gse,errorBars:Hle,graphicalItems:gle,layout:tJ,legend:WJ,options:fse,polarAxis:zoe,polarOptions:rde,referenceElements:tce,rootProps:tde,tooltip:iae}),ode=function(e){return SZ({reducer:sde,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([BB.middleware,zB.middleware,aI.middleware,HB.middleware,WB.middleware]),devTools:Nu.devToolsEnabled})};function lde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Nr(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=ode(e));var l=B1;return R.createElement(Jfe,{context:l,store:a.current},n)}function ude(t){var{layout:e,width:n,height:r,margin:i}=t,a=Fn(),l=Nr();return R.useEffect(()=>{l||(a(ZZ(e)),a(JZ({width:n,height:r})),a(XZ(i)))},[a,l,e,n,r,i]),null}function cde(t){var e=Fn();return R.useEffect(()=>{e(nde(t))},[e,t]),null}var fde=["children"];function dde(t,e){if(t==null)return{};var n,r,i=hde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}var mde={width:"100%",height:"100%"},pde=R.forwardRef((t,e)=>{var n=E6(),r=T6(),i=A6();if(!fv(n)||!fv(r))return null;var{children:a,otherAttributes:l,title:u,desc:f}=t,d,m;return typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0,R.createElement(g3,jv({},l,{title:u,desc:f,role:m,tabIndex:d,width:n,height:r,style:mde,ref:e}),a)}),gde=t=>{var{children:e}=t,n=Ce(V0);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return R.createElement(g3,{width:r,height:i,x:l,y:a},e)},CM=R.forwardRef((t,e)=>{var{children:n}=t,r=dde(t,fde),i=Nr();return i?R.createElement(gde,null,n):R.createElement(pde,jv({ref:e},r),n)});function yde(){var t=Fn(),[e,n]=R.useState(null),r=Ce(CJ);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ri(a)&&a!==r&&t(eJ(a))}},[e,t,r]),n}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return(e=bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=wde(t,"string");return typeof e=="symbol"?e:e+""}function wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ede=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:p,onMouseUp:v,onTouchEnd:b,onTouchMove:T,onTouchStart:w,style:x,width:P}=t,C=Fn(),[O,B]=R.useState(null),[L,q]=R.useState(null);Ase();var N=yde(),D=R.useCallback(se=>{N(se),typeof e=="function"&&e(se),B(se),q(se)},[N,e,B,q]),M=R.useCallback(se=>{C(UB(se)),C(_i({handler:a,reactEvent:se}))},[C,a]),z=R.useCallback(se=>{C(Lx(se)),C(_i({handler:d,reactEvent:se}))},[C,d]),U=R.useCallback(se=>{C(R5()),C(_i({handler:m,reactEvent:se}))},[C,m]),F=R.useCallback(se=>{C(Lx(se)),C(_i({handler:p,reactEvent:se}))},[C,p]),V=R.useCallback(()=>{C(KB())},[C]),be=R.useCallback(se=>{C($B(se.key))},[C]),Se=R.useCallback(se=>{C(_i({handler:l,reactEvent:se}))},[C,l]),Z=R.useCallback(se=>{C(_i({handler:u,reactEvent:se}))},[C,u]),ie=R.useCallback(se=>{C(_i({handler:f,reactEvent:se}))},[C,f]),pe=R.useCallback(se=>{C(_i({handler:v,reactEvent:se}))},[C,v]),xe=R.useCallback(se=>{C(_i({handler:w,reactEvent:se}))},[C,w]),$=R.useCallback(se=>{C(GB(se)),C(_i({handler:T,reactEvent:se}))},[C,T]),oe=R.useCallback(se=>{C(_i({handler:b,reactEvent:se}))},[C,b]);return R.createElement(H5.Provider,{value:O},R.createElement(wQ.Provider,{value:L},R.createElement("div",{className:At("recharts-wrapper",r),style:vde({position:"relative",cursor:"default",width:P,height:i},x),onClick:M,onContextMenu:Se,onDoubleClick:Z,onFocus:V,onKeyDown:be,onMouseDown:ie,onMouseEnter:z,onMouseLeave:U,onMouseMove:F,onMouseUp:pe,onTouchEnd:oe,onTouchMove:$,onTouchStart:xe,ref:D},n)))}),Tde=["children","className","width","height","style","compact","title","desc"];function xde(t,e){if(t==null)return{};var n,r,i=Ade(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ade(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sde=R.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:l,compact:u,title:f,desc:d}=t,m=xde(t,Tde),p=Xo(m);return u?R.createElement(CM,{otherAttributes:p,title:f,desc:d},n):R.createElement(Ede,{className:r,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(CM,{otherAttributes:p,title:f,desc:d,ref:e},R.createElement(rce,null,n)))}),Ide=["width","height"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(null,arguments)}function Rde(t,e){if(t==null)return{};var n,r,i=Pde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ode={top:5,right:5,bottom:5,left:5},Cde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ode,reverseStackOrder:!1,syncMethod:"index"},YB=R.forwardRef(function(e,n){var r,i=kr(e.categoricalChartProps,Cde),{width:a,height:l}=i,u=Rde(i,Ide);if(!fv(a)||!fv(l))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,b={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return R.createElement(lde,{preloadedState:{options:b},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},R.createElement(Gue,{chartData:v.data}),R.createElement(ude,{width:a,height:l,layout:i.layout,margin:i.margin}),R.createElement(cde,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(Sde,Ux({},u,{width:a,height:l,ref:n})))}),Dde=["axis"],Nde=R.forwardRef((t,e)=>R.createElement(YB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dde,tooltipPayloadSearcher:G5,categoricalChartProps:t,ref:e})),kde=["axis","item"],Mde=R.forwardRef((t,e)=>R.createElement(YB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kde,tooltipPayloadSearcher:G5,categoricalChartProps:t,ref:e}));const QB=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-5 w-5",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4h4M20 8V4h-4M4 16v4h4M20 16v4h-4"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 4L4 8M16 4l4 4M8 20l-4-4M16 20l4-4"})]}),NM=({data:t,height:e=60,onEnlarge:n,showEnlarge:r=!0,scopeBadge:i})=>{const l=(()=>{const u={};return t.forEach(f=>{u[f.dersAdi]||(u[f.dersAdi]={totalCorrect:0,totalWrong:0,totalEmpty:0,totalQuestions:0}),u[f.dersAdi].totalCorrect+=f.dogruSayisi,u[f.dersAdi].totalWrong+=f.yanlisSayisi,u[f.dersAdi].totalEmpty+=f.bosSayisi,u[f.dersAdi].totalQuestions+=f.dogruSayisi+f.yanlisSayisi+f.bosSayisi}),Object.keys(u).map(f=>{const{totalCorrect:d,totalWrong:m,totalQuestions:p}=u[f],v=d-m/4,b=p>0?Math.round(Math.max(0,v)/p*100):0;return{name:f,"Baar Oran":b}})})();return A.jsxs("div",{className:"bg-white p-1.5 rounded-lg border border-gray-200 shadow-sm h-full",children:[A.jsxs("div",{className:"flex items-center justify-between mb-1.5 gap-1",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("h2",{className:"text-[10px] font-semibold text-gray-800",children:"Derslere Gre Baar Dalm"}),A.jsx("span",{title:"Baar oran net doru / toplam sorudan hesaplanr. Kapsam seimine gre veri deiir.","aria-label":"Baar oran net doru / toplam sorudan hesaplanr. Kapsam seimine gre veri deiir.",className:"text-gray-400 hover:text-gray-600",children:A.jsx(P1,{className:"h-2.5 w-2.5"})}),i]}),r&&A.jsx("button",{type:"button","aria-label":"Byt",onClick:n,className:"inline-flex items-center justify-center h-5 w-5 rounded border border-gray-300 hover:bg-gray-50 text-gray-600",children:A.jsx(QB,{className:"h-3 w-3"})})]}),A.jsx(Z5,{width:"100%",height:e,children:A.jsxs(Mde,{data:l,margin:{top:2,right:2,left:2,bottom:2},children:[A.jsx(JS,{strokeDasharray:"2 2",stroke:"#f5f5f5"}),A.jsx(tI,{dataKey:"name",fontSize:8}),A.jsx(nI,{fontSize:8}),A.jsx(X5,{}),A.jsx(SB,{dataKey:"Baar Oran",barSize:10,radius:[1,1,0,0],children:l.map((u,f)=>{const d=u["Baar Oran"],m=d>=80?"#10b981":d>=60?"#f59e0b":"#f43f5e";return A.jsx(qS,{fill:m},`cell-${f}`)})})]})})]})},kM=({data:t,height:e=60,selectedCourse:n,showFilter:r=!1,onEnlarge:i,showEnlarge:a=!0,scopeBadge:l})=>{const u=R.useMemo(()=>["all",...Array.from(new Set(t.map(C=>C.dersAdi))).sort()],[t]),[f,d]=R.useState("all"),[m,p]=R.useState("30"),v=r?f:n,T=(()=>{const P={};let C=v&&v!=="all"?t.filter(O=>O.dersAdi===v):t;if(m!=="all"){const O=m==="7"?7:30,B=new Date,L=new Date(B.getFullYear(),B.getMonth(),B.getDate());L.setDate(L.getDate()-(O-1)),C=C.filter(q=>{if(!q.createdAt)return!1;const N=new Date(q.createdAt.toDate());return new Date(N.getFullYear(),N.getMonth(),N.getDate())>=L})}return C.forEach(O=>{if(O.createdAt){const B=new Date(O.createdAt.toDate()),L=new Date(Date.UTC(B.getFullYear(),B.getMonth(),B.getDate())).toISOString().slice(0,10);P[L]||(P[L]={totalCorrect:0,totalWrong:0,totalQuestions:0,count:0}),P[L].totalCorrect+=O.dogruSayisi,P[L].totalWrong+=O.yanlisSayisi,P[L].totalQuestions+=O.dogruSayisi+O.yanlisSayisi+O.bosSayisi,P[L].count+=1}}),Object.keys(P).map(O=>{const{totalCorrect:B,totalWrong:L,totalQuestions:q}=P[O],N=B-L/4,D=q>0?Math.round(Math.max(0,N)/q*100):0;return{name:O,"Baar Oran":D}})})(),w=T.length?Math.round(T.reduce((P,C)=>P+(typeof C["Baar Oran"]=="number"?C["Baar Oran"]:0),0)/T.length):0,x=w>=80?"#10b981":w>=60?"#f59e0b":"#f43f5e";return A.jsxs("div",{className:"bg-white p-1.5 rounded-lg border border-gray-200 shadow-sm h-full",children:[A.jsxs("div",{className:"flex items-center justify-between mb-1.5 gap-1",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("h2",{className:"text-[10px] font-semibold text-gray-800",children:"Zaman indeki Geliim"}),A.jsx("span",{title:"Zaman iinde baar yzdesi; ders ve kapsam seimine gre filtrelenir.","aria-label":"Zaman iinde baar yzdesi; ders ve kapsam seimine gre filtrelenir.",className:"text-gray-400 hover:text-gray-600",children:A.jsx(P1,{className:"h-2.5 w-2.5"})}),l]}),A.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap justify-end",children:[r&&u.length>1&&A.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[A.jsx("label",{htmlFor:"ts-course",className:"text-[9px] text-gray-600",children:"Ders:"}),A.jsx("select",{id:"ts-course",value:f,onChange:P=>d(P.target.value),className:"rounded border-gray-300 shadow-sm bg-white focus:ring-1 focus:ring-green-500 focus:border-green-500 py-0.5 px-1 text-[9px]",children:u.map(P=>A.jsx("option",{value:P,children:P==="all"?"Tm Dersler":P},P))})]}),A.jsx("div",{className:"hidden sm:block h-4 w-px bg-gray-200"}),A.jsxs("div",{className:"inline-flex items-center rounded bg-white border border-gray-200 p-0.5 shrink-0",children:[A.jsxs("button",{type:"button",className:`px-1.5 py-0.5 text-[9px] rounded ${m==="7"?"bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>p("7"),children:[A.jsx("span",{className:"sm:hidden",children:"7g"}),A.jsx("span",{className:"hidden sm:inline",children:"7g"})]}),A.jsxs("button",{type:"button",className:`px-1.5 py-0.5 text-[9px] rounded ${m==="30"?"bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>p("30"),children:[A.jsx("span",{className:"sm:hidden",children:"30g"}),A.jsx("span",{className:"hidden sm:inline",children:"30g"})]}),A.jsx("button",{type:"button",className:`px-1.5 py-0.5 text-[9px] rounded ${m==="all"?"bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>p("all"),children:"Tm"})]}),a&&A.jsx("button",{type:"button","aria-label":"Byt",onClick:i,className:"inline-flex items-center justify-center h-5 w-5 rounded border border-gray-300 hover:bg-gray-50 text-gray-600",children:A.jsx(QB,{className:"h-3 w-3"})})]})]}),A.jsx(Z5,{width:"100%",height:e,children:A.jsxs(Nde,{data:T,margin:{top:2,right:2,left:2,bottom:2},children:[A.jsx(JS,{strokeDasharray:"2 2",stroke:"#f5f5f5"}),A.jsx(tI,{dataKey:"name",fontSize:8,tickFormatter:P=>{const C=new Date(P);return isNaN(C.getTime())?P:C.toLocaleDateString("tr-TR",{day:"2-digit",month:"short"})},angle:-30,tickMargin:4,interval:"preserveStartEnd",tickCount:4}),A.jsx(nI,{fontSize:8,domain:[0,100],allowDecimals:!1,tickFormatter:P=>`${P}%`}),A.jsx(X5,{formatter:(P,C)=>[`${P}%`,C],labelFormatter:P=>{const C=new Date(P);return isNaN(C.getTime())?P:C.toLocaleDateString("tr-TR",{day:"2-digit",month:"short",year:"numeric"})}}),A.jsx(LB,{type:"monotone",dataKey:"Baar Oran",stroke:x,strokeWidth:1.5,activeDot:{r:2}})]})})]})},jde=({data:t,scopeBadge:e})=>{const n=()=>{const a={};t.forEach(f=>{a[f.dersAdi]||(a[f.dersAdi]={totalCorrect:0,totalWrong:0,totalQuestions:0}),a[f.dersAdi].totalCorrect+=f.dogruSayisi,a[f.dersAdi].totalWrong+=f.yanlisSayisi,a[f.dersAdi].totalQuestions+=f.dogruSayisi+f.yanlisSayisi+f.bosSayisi});const l=Object.keys(a).map(f=>{const{totalCorrect:d,totalWrong:m,totalQuestions:p}=a[f],v=d-m/4,b=p>0?Math.round(Math.max(0,v)/p*100):0;return{course:f,successRate:b}});if(l.length===0)return{bestCourse:null,worstCourse:null};const u=l.sort((f,d)=>d.successRate-f.successRate);return{bestCourse:u[0],worstCourse:u[u.length-1]}},{bestCourse:r,worstCourse:i}=n();return A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[r&&A.jsxs("div",{className:"relative bg-gradient-to-r from-green-50 to-green-100 p-2 rounded-lg border border-green-200 overflow-hidden",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[A.jsx("h3",{className:"text-[10px] font-medium text-green-800",children:"En Gl Dersin"}),e]}),A.jsx("p",{className:"text-xs font-bold text-green-900",children:r.course}),A.jsxs("p",{className:`text-[10px] ${r.successRate>=80?"text-emerald-700":r.successRate>=60?"text-amber-700":"text-rose-700"}`,children:[r.successRate,"% baar"]})]}),A.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-200 rounded-full flex items-center justify-center",children:A.jsx("span",{className:"text-green-800 font-bold text-xs",children:""})})]}),i&&(r==null?void 0:r.course)!==(i==null?void 0:i.course)&&A.jsxs("div",{className:"relative bg-gradient-to-r from-orange-50 to-orange-100 p-2 rounded-lg border border-orange-200 overflow-hidden",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[A.jsx("h3",{className:"text-[10px] font-medium text-orange-800",children:"Gelitirilmesi Gereken"}),e]}),A.jsx("p",{className:"text-xs font-bold text-orange-900",children:i.course}),A.jsxs("p",{className:`text-[10px] ${i.successRate>=80?"text-emerald-700":i.successRate>=60?"text-amber-700":"text-rose-700"}`,children:[i.successRate,"% baar"]})]}),A.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-orange-200 rounded-full flex items-center justify-center",children:A.jsx("span",{className:"text-orange-800 font-bold text-xs",children:"!"})})]})]})},Vde=({isOpen:t,onClose:e,children:n})=>t?A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden relative",children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors duration-200",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),A.jsx("div",{className:"p-6 overflow-auto max-h-[90vh]",children:n})]})}):null,Lde=({data:t,currentUserId:e})=>{const n=R.useMemo(()=>{const r={};t.forEach(a=>{const l=a.dersAdi;r[l]||(r[l]={}),r[l][a.kullaniciId]||(r[l][a.kullaniciId]={totalCorrect:0,totalWrong:0,totalEmpty:0}),r[l][a.kullaniciId].totalCorrect+=a.dogruSayisi||0,r[l][a.kullaniciId].totalWrong+=a.yanlisSayisi||0,r[l][a.kullaniciId].totalEmpty+=a.bosSayisi||0});const i=[];return Object.keys(r).forEach(a=>{const l=r[a],u=Object.keys(l).map(m=>{const{totalCorrect:p,totalWrong:v,totalEmpty:b}=l[m],T=p+v+b,w=p-v/4,x=T>0?Math.max(0,w)/T:0;return{uid:m,successRate:x}});u.sort((m,p)=>p.successRate-m.successRate);const f=u.length,d=u.findIndex(m=>m.uid===e);d!==-1?i.push({subject:a,rank:d+1,total:f,successRate:Math.round(u[d].successRate*100)}):i.push({subject:a,rank:NaN,total:f,successRate:null})}),i.sort((a,l)=>a.subject.localeCompare(l.subject)),i},[t,e]);return n.length===0?null:A.jsxs("div",{className:"bg-white p-2.5 rounded-lg border border-gray-200 shadow-sm h-full",children:[A.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[A.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:"Ders Bazl Sralaman"}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-sky-50 text-sky-700 border border-sky-100",children:"Okul geneli"}),A.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Gncel"})]})]}),A.jsx("p",{className:"text-[9px] text-gray-500 mb-2",children:"Bu sralama, okul genelindeki tm kullanclarn sonularna gre hesaplanr."}),A.jsxs("div",{className:"flex items-center justify-end mb-1.5",children:[A.jsx("span",{className:"text-[9px] text-gray-400 mr-1",children:"Kaydr"}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3 text-gray-400",children:A.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L9.586 11 7.293 8.707a1 1 0 111.414-1.414l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),A.jsxs("div",{className:"relative",children:[A.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 [-ms-overflow-style:none] [scrollbar-width:none]",style:{WebkitOverflowScrolling:"touch"},children:[A.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{display:none}"}),n.map(r=>{const i=!Number.isNaN(r.rank),a=typeof r.successRate=="number"?Math.max(0,Math.min(100,r.successRate)):0,l=a>=80?"bg-emerald-500":a>=60?"bg-amber-500":"bg-rose-500";return A.jsxs("div",{className:"rounded-lg border border-gray-200 p-2 bg-white min-w-[180px]",children:[A.jsxs("div",{className:"flex items-center justify-between gap-1.5",children:[A.jsx("p",{className:"text-[10px] font-medium text-gray-800 truncate",children:r.subject}),i?A.jsxs("span",{className:"shrink-0 text-[10px] font-semibold text-gray-900 bg-gray-50 border border-gray-200 rounded-md px-1.5 py-0.5",children:["#",r.rank," / ",r.total]}):A.jsx("span",{className:"shrink-0 text-[10px] text-gray-500",children:"Henz veri yok"})]}),A.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[A.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-md overflow-hidden",children:A.jsx("div",{className:`h-1 ${l} rounded-md`,style:{width:`${a}%`}})}),A.jsxs("span",{className:"w-8 text-right text-[10px] text-gray-600",children:["%",a]})]})]},r.subject)})]}),A.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-full w-8 bg-gradient-to-l from-white to-transparent rounded-r-xl"})]})]})},Bx=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4",children:[A.jsx("circle",{cx:"12",cy:"12",r:"9"}),A.jsx("path",{d:"M3 12h18"}),A.jsx("path",{d:"M12 3c2.5 3 2.5 15 0 18"}),A.jsx("path",{d:"M7 5c1 .8 2.5 3.5 2.5 7S8 18.2 7 19"}),A.jsx("path",{d:"M17 5c-1 .8-2.5 3.5-2.5 7S16 18.2 17 19"})]}),zx=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4",children:[A.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Vl=({scope:t,showText:e=!1,className:n})=>{const r=t==="school",i=r?Bx:zx,a=r?"Okul geneli":"Kendim";return A.jsxs("span",{title:a,className:n||"inline-flex items-center gap-1 px-2 py-0.5 rounded-full border text-[10px] "+(r?"bg-sky-50 text-sky-700 border-sky-100":"bg-emerald-50 text-emerald-700 border-emerald-100"),children:[A.jsx(i,{className:"h-3.5 w-3.5"}),e&&A.jsx("span",{children:a})]})},Ude=({options:t,value:e,onChange:n,placeholder:r="Ders sein"})=>{const[i,a]=R.useState(!1),[l,u]=R.useState(""),[f,d]=R.useState(0),m=R.useRef(null),p=R.useRef(null),v=R.useMemo(()=>{const w=t.map(P=>({key:P,label:P==="all"?"Tm Dersler":P}));if(!l)return w;const x=l.toLowerCase();return w.filter(P=>P.label.toLowerCase().includes(x))},[t,l]);R.useEffect(()=>{const w=x=>{m.current&&!m.current.contains(x.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),R.useEffect(()=>{i&&setTimeout(()=>{var w;return(w=p.current)==null?void 0:w.focus()},0)},[i]);const b=w=>{n(w),a(!1),u("")},T=R.useMemo(()=>{const w=t.find(x=>x===e);return w?w==="all"?"Tm Dersler":w:r},[t,e,r]);return A.jsxs("div",{className:"relative",ref:m,children:[A.jsxs("button",{type:"button",className:"inline-flex items-center justify-between min-w-[160px] rounded-md border border-gray-300 bg-white px-2 py-1 text-xs shadow-sm hover:bg-gray-50",onClick:()=>a(w=>!w),"aria-haspopup":"listbox","aria-expanded":i,children:[A.jsx("span",{className:"truncate mr-2 text-gray-700",children:T}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-500",children:A.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),i&&A.jsxs("div",{className:"absolute z-20 mt-1 w-[260px] rounded-md border border-gray-200 bg-white shadow-lg",children:[A.jsx("div",{className:"p-2 border-b border-gray-100",children:A.jsx("input",{ref:p,type:"text",value:l,placeholder:r,onChange:w=>{u(w.target.value),d(0)},onKeyDown:w=>{if(w.key==="ArrowDown")w.preventDefault(),d(x=>Math.min(x+1,Math.max(0,v.length-1)));else if(w.key==="ArrowUp")w.preventDefault(),d(x=>Math.max(x-1,0));else if(w.key==="Enter"){w.preventDefault();const x=v[f];x&&b(x.key)}else w.key==="Escape"&&a(!1)},className:"w-full rounded-md border border-gray-300 px-2 py-1 text-xs focus:border-green-500 focus:outline-none focus:ring-1 focus:ring-green-500"})}),A.jsxs("ul",{role:"listbox",className:"max-h-60 overflow-auto py-1",children:[v.length===0&&A.jsx("li",{className:"px-3 py-2 text-xs text-gray-500",children:"Sonu bulunamad"}),v.map((w,x)=>A.jsxs("li",{role:"option","aria-selected":w.key===e,onMouseEnter:()=>d(x),onClick:()=>b(w.key),className:`px-3 py-1.5 text-xs cursor-pointer flex items-center justify-between ${x===f?"bg-emerald-50":""}`,children:[A.jsx("span",{className:"truncate",children:w.label}),w.key===e&&A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-emerald-600",children:A.jsx("path",{fillRule:"evenodd",d:"M16.704 5.29a1 1 0 010 1.42l-7.25 7.25a1 1 0 01-1.41 0L3.296 9.46a1 1 0 011.41-1.42l3.047 3.05 6.543-6.54a1 1 0 011.408 0z",clipRule:"evenodd"})})]},w.key))]})]})]})},Bde=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4","aria-hidden":!0,children:[A.jsx("circle",{cx:"12",cy:"8",r:"4"}),A.jsx("path",{d:"M8 12l-2 8 6-3 6 3-2-8"})]}),zde={giris:{label:"Giri Seviyesi",bg:"bg-sky-50",text:"text-sky-700",border:"border-sky-100"},orta:{label:"Orta Seviye",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100"},ileri:{label:"leri Seviye",bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-100"}},Fde=({level:t="giris",compact:e=!1})=>{const n=zde[t];return A.jsxs("div",{className:`h-full ${n.bg} ${n.text} ${n.border} border rounded-lg shadow-sm ${e?"p-1.5":"p-2"} flex items-center gap-1.5 min-w-[120px]`,children:[A.jsx("div",{className:`${e?"w-6 h-6":"w-7 h-7"} rounded-full bg-white/70 flex items-center justify-center`,children:A.jsx(Bde,{className:`${e?"h-3 w-3":"h-3.5 w-3.5"}`})}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("p",{className:`font-semibold uppercase opacity-80 ${e?"text-[8px]":"text-[9px]"}`,children:"yelik Seviyesi"}),A.jsx("p",{className:`${e?"text-[11px]":"text-xs"} font-semibold truncate`,children:n.label})]})]})},qde=({isOpen:t,onClose:e,onSave:n,courseOptions:r,defaultCourse:i="all"})=>{const[a,l]=R.useState(""),[u,f]=R.useState(""),[d,m]=R.useState("0"),[p,v]=R.useState("0"),[b,T]=R.useState(!1),[w,x]=R.useState(null);if(R.useEffect(()=>{if(t){const C=i&&i!=="all"?i:r.find(O=>O!=="all")||"";l(C),f(""),m("0"),v("0"),T(!1),x(null),setTimeout(()=>{const O=document.querySelector('input[type="number"]');O==null||O.focus()},0)}},[t,i,r]),R.useEffect(()=>{if(!t)return;const C=O=>{(O.metaKey||O.ctrlKey)&&O.key==="Enter"&&(O.preventDefault(),b||P()),O.key==="Escape"&&(O.preventDefault(),e())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[t,b]),!t)return null;const P=async()=>{if(!a||u===""){x("Ders ve Doru zorunlu");return}x(null),T(!0);try{await n(a,parseInt(u,10)||0,parseInt(d,10)||0,parseInt(p,10)||0),e()}catch{x("Kayt yaplamad, tekrar deneyin")}finally{T(!1)}};return A.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/30",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-sm p-3",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Hzl Ekle"}),A.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-sm",children:""})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[A.jsx("label",{className:"text-[11px] text-gray-600",children:"Ders"}),A.jsx("select",{value:a,onChange:C=>l(C.target.value),className:"rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs",children:r.filter(Boolean).map(C=>A.jsx("option",{value:C,children:C==="all"?"Tm Dersler":C},C))}),A.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-[11px] text-gray-600",children:"Doru"}),A.jsx("input",{type:"number",value:u,onChange:C=>{const O=C.target.value.replace(/\D/g,"");if(O==="")return f("");const B=Math.min(50,parseInt(O,10));f(String(B))},min:0,max:50,className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs text-right",placeholder:"0"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-[11px] text-gray-600",children:"Yanl"}),A.jsx("input",{type:"number",value:d,onChange:C=>{const O=C.target.value.replace(/\D/g,"");if(O==="")return m("");const B=Math.min(50,parseInt(O,10));m(String(B))},min:0,max:50,className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs text-right",placeholder:"0"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-[11px] text-gray-600",children:"Bo"}),A.jsx("input",{type:"number",value:p,onChange:C=>{const O=C.target.value.replace(/\D/g,"");if(O==="")return v("");const B=Math.min(50,parseInt(O,10));v(String(B))},min:0,max:50,className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs text-right",placeholder:"0"})]})]}),w&&A.jsx("p",{className:"text-[11px] text-rose-600",children:w}),A.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[A.jsx("button",{onClick:e,className:"text-[11px] px-2 py-1 rounded border border-gray-300",children:"Vazge"}),A.jsx("button",{onClick:P,disabled:b,className:"text-[11px] px-2 py-1 rounded bg-emerald-600 text-white disabled:opacity-60",children:b?"Kaydediliyor...":"Kaydet"})]})]})]})})},$de={first_test:{label:"lk Test",description:"lk test kaydn ekledin",icon:"",earnedClasses:"bg-emerald-50 text-emerald-700 border-emerald-200",iconBg:"bg-emerald-100"},five_tests:{label:"5 Test",description:"Toplam 5 test kaydna ulatn",icon:"",earnedClasses:"bg-sky-50 text-sky-700 border-sky-200",iconBg:"bg-sky-100"},seven_day_streak:{label:"7 Gn Seri",description:"Son 7 gnde her gn test ekledin",icon:"",earnedClasses:"bg-amber-50 text-amber-700 border-amber-200",iconBg:"bg-amber-100"}},Kde=({earned:t,compact:e=!0,showLocked:n=!0})=>{const r=["first_test","five_tests","seven_day_streak"],i=e?"text-[10px] px-1.5 py-0.5":"text-xs px-2 py-1",a=e?"w-4 h-4":"w-5 h-5";return A.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:r.map(l=>{const u=$de[l],f=t.includes(l);if(!f&&!n)return null;const d="inline-flex items-center gap-1 border rounded-full transition-colors",m=f?u.earnedClasses:"bg-gray-50 text-gray-400 border-gray-200";return A.jsxs("span",{className:`${d} ${m} ${i}`,"aria-label":`${u.label}  ${f?"Kazanld":"Kilitli"}`,title:`${u.label}  ${u.description}`,children:[A.jsx("span",{className:`inline-flex items-center justify-center ${a} rounded-full ${f?u.iconBg:"bg-gray-200"}`,"aria-hidden":!0,children:A.jsx("span",{className:e?"text-[11px]":"text-sm",children:u.icon})}),A.jsx("span",{className:"whitespace-nowrap",children:u.label})]},l)})})},Hde=({isOpen:t,title:e="Onay",message:n,confirmText:r="Evet, sil",cancelText:i="Vazge",onConfirm:a,onCancel:l})=>t?A.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/40",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm",children:[A.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:A.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:e})}),A.jsx("div",{className:"px-4 py-3",children:A.jsx("p",{className:"text-sm text-gray-700",children:n})}),A.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-end gap-2",children:[A.jsx("button",{type:"button",onClick:l,className:"text-[12px] px-2.5 py-1 rounded-md border border-gray-300 hover:bg-gray-50",children:i}),A.jsx("button",{type:"button",onClick:a,className:"text-[12px] px-2.5 py-1 rounded-md bg-rose-600 text-white hover:bg-rose-700",children:r})]})]})}):null,Gde=({user:t})=>{const[e,n]=R.useState([]),[r,i]=R.useState(!0),[a,l]=R.useState(!1),[u,f]=R.useState(null),[d,m]=R.useState("all"),[p,v]=R.useState(25),[b,T]=R.useState(1),[w,x]=R.useState(null),[P,C]=R.useState(!0),[O,B]=R.useState(!0),[L,q]=R.useState(!1),[N,D]=R.useState(null),[M,z]=R.useState("school"),[U,F]=R.useState(!1),[V,be]=R.useState(()=>{try{const ye=localStorage.getItem("earned_badges");return ye?JSON.parse(ye):[]}catch{return[]}}),[Se,Z]=R.useState(null),ie=1,pe=3,xe=ye=>{if(!ye)return null;if(typeof ye.toDate=="function")return ye.toDate();if(typeof ye=="number")return new Date(ye);if(typeof ye=="string"){const Ke=new Date(ye);return isNaN(Ke.getTime())?null:Ke}return null},$=R.useMemo(()=>{const ye=new Date,Ke=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate()),vt=new Date(ye.getTime()-10080*60*1e3);let He=0,qe=0;for(const _t of e){if(_t.kullaniciId!==t.uid)continue;const jt=xe(_t.createdAt);jt&&(jt>=Ke&&(He+=1),jt>=vt&&(qe+=1))}return{daily:He,weekly:qe}},[e,t.uid]),oe=R.useMemo(()=>{const ye=[],Ke=e.filter(vt=>vt.kullaniciId===t.uid).length;return Ke>=1&&ye.push("first_test"),Ke>=5&&ye.push("five_tests"),$.weekly>=7&&ye.push("seven_day_streak"),ye},[e,t.uid,$]);R.useEffect(()=>{const ye=oe.filter(Ke=>!V.includes(Ke));if(ye.length>0){be(vt=>{const He=Array.from(new Set([...vt,...ye]));try{localStorage.setItem("earned_badges",JSON.stringify(He))}catch{}return He});const Ke=ye[0];f({message:`Tebrikler! Yeni rozet kazandn (${Ke}).`,type:"success"})}},[oe]);const se=R.useMemo(()=>{const ye=e.filter(He=>He.kullaniciId===t.uid).length*10,Ke=$.daily>=ie?20:0,vt=$.weekly>=pe?50:0;return ye+Ke+vt},[e,t.uid,$,ie,pe]),me=R.useMemo(()=>se>=300?"ileri":se>=100?"orta":"giris",[se]),Re=ye=>{D(ye),q(!0)},Ne=()=>q(!1);R.useEffect(()=>{const ye=is(Qy(kh,"testSonuclari"),$4("createdAt","desc")),Ke=x1(ye,vt=>{const He=[];vt.forEach(qe=>{const _t=qe.data();He.push({id:qe.id,dersAdi:_t.dersAdi,dogruSayisi:_t.dogruSayisi,yanlisSayisi:_t.yanlisSayisi,bosSayisi:_t.bosSayisi||0,kullaniciId:_t.kullaniciId,kullaniciEmail:_t.kullaniciEmail,createdAt:_t.createdAt})}),n(He),i(!1)},vt=>{console.error("Error fetching test results: ",vt),i(!1),f({message:"Sonular yklenirken bir hata olutu.",type:"error"})});return()=>Ke()},[]),R.useEffect(()=>{try{const ye=localStorage.getItem("dashboard_scope");(ye==="self"||ye==="school")&&z(ye);const Ke=localStorage.getItem("dashboard_course");Ke&&m(Ke)}catch{}},[]),R.useEffect(()=>{try{localStorage.setItem("dashboard_scope",M)}catch{}},[M]),R.useEffect(()=>{try{localStorage.setItem("dashboard_course",d)}catch{}},[d]);const je=async()=>{try{await zj(Io),f({message:"Baaryla k yapld.",type:"success"})}catch(ye){console.error("Error signing out: ",ye),f({message:"k yaplrken bir hata olutu.",type:"error"})}},Kt=async(ye,Ke,vt,He)=>{if(t)try{await X4(Qy(kh,"testSonuclari"),{dersAdi:ye,dogruSayisi:Ke,yanlisSayisi:vt,bosSayisi:He,kullaniciId:t.uid,kullaniciEmail:t.email,createdAt:Z4()}),f({message:"Test sonucu baaryla eklendi.",type:"success"}),l(!1)}catch(qe){console.error("Error adding test result: ",qe),f({message:"Test sonucu eklenirken bir hata olutu.",type:"error"})}},ct=async(ye,Ke,vt,He,qe)=>{const _t=bf(kh,"testSonuclari",ye);try{await HT(_t,{dersAdi:Ke,dogruSayisi:vt,yanlisSayisi:He,bosSayisi:qe}),f({message:"Sonu baaryla gncellendi.",type:"success"})}catch(jt){console.error("Error updating document: ",jt),f({message:"Sonu gncellenirken bir hata olutu.",type:"error"})}},we=ye=>{Z(ye)},Be=async()=>{if(Se)try{await Q4(bf(kh,"testSonuclari",Se)),f({message:"Sonu baaryla silindi.",type:"success"})}catch(ye){console.error("Error deleting document:",ye),f({message:"Silme ilemi baarsz.",type:"error"})}finally{Z(null)}},Ve=R.useMemo(()=>O?e.filter(ye=>ye.kullaniciId===t.uid):e,[e,t.uid,O]),de=R.useMemo(()=>{const ye=new Set(Ve.map(Ke=>Ke.dersAdi));return["all",...Array.from(ye)]},[Ve]),St=R.useMemo(()=>e.filter(ye=>ye.kullaniciId===t.uid),[e,t.uid]),ze=R.useMemo(()=>M==="self"?St:e,[M,St,e]),Nt=R.useMemo(()=>d==="all"?ze:ze.filter(ye=>ye.dersAdi===d),[ze,d]),tn=R.useMemo(()=>{const ye=Nt.length,Ke=Nt.reduce((Gi,Da)=>Gi+(Da.dogruSayisi||0),0),vt=Nt.reduce((Gi,Da)=>Gi+(Da.yanlisSayisi||0),0),He=Nt.reduce((Gi,Da)=>Gi+(Da.bosSayisi||0),0),qe=Ke+vt+He,_t=Ke-vt/4,jt=qe>0?Math.round(Math.max(0,_t)/qe*100):0;return{totalTests:ye,overallSuccessRate:jt,totalQuestions:qe}},[Nt]),Ht=R.useMemo(()=>Ve,[Ve]),Ms=ye=>{let Ke="ascending";w&&w.key===ye&&w.direction==="ascending"&&(Ke="descending"),x({key:ye,direction:Ke})},Hi=R.useMemo(()=>{let ye=[...Ht];return w!==null&&ye.sort((Ke,vt)=>Ke[w.key]<vt[w.key]?w.direction==="ascending"?-1:1:Ke[w.key]>vt[w.key]?w.direction==="ascending"?1:-1:0),ye},[Ht,w]),Ca=Hi.length,Ri=p==="all"?1:Math.ceil(Ca/p),ed=R.useMemo(()=>{if(p==="all")return Hi;const ye=(b-1)*p;return Hi.slice(ye,ye+p)},[Hi,b,p]);return R.useEffect(()=>{T(1)},[p,w]),R.useEffect(()=>{B(M!=="school")},[M]),r?A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:A.jsx(Kf,{})}):A.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[A.jsx(GY,{user:t,onLogout:je}),A.jsxs("main",{className:"container mx-auto max-w-6xl px-3 sm:px-4 lg:px-6 py-3",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Test Takibi"}),A.jsx("p",{className:"text-gray-500 text-xs",children:"Test sonularnz ynetin ve analiz edin"})]}),A.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-3",children:A.jsxs("div",{className:"flex items-center gap-2 p-1.5 overflow-x-auto",children:[A.jsx("div",{className:"hidden sm:block shrink-0",children:A.jsx(Fde,{level:me,compact:!0})}),A.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-200"}),A.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{className:"text-[10px] text-gray-600",children:"Gnlk"}),A.jsx("div",{className:"w-16 h-1 bg-gray-100 rounded-full overflow-hidden",children:A.jsx("div",{className:`h-1 ${$.daily>=ie?"bg-emerald-500":"bg-emerald-300"}`,style:{width:`${Math.min(100,$.daily/ie*100)}%`}})}),A.jsxs("span",{className:"text-[10px] text-gray-700",children:[Math.min($.daily,ie),"/",ie]})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{className:"text-[10px] text-gray-600",children:"Haftalk"}),A.jsx("div",{className:"w-16 h-1 bg-gray-100 rounded-full overflow-hidden",children:A.jsx("div",{className:`h-1 ${$.weekly>=pe?"bg-sky-500":"bg-sky-300"}`,style:{width:`${Math.min(100,$.weekly/pe*100)}%`}})}),A.jsxs("span",{className:"text-[10px] text-gray-700",children:[Math.min($.weekly,pe),"/",pe]})]})]}),A.jsx("div",{className:"w-px h-4 bg-gray-200"}),A.jsx(Kde,{earned:V,showLocked:!1}),A.jsx("div",{className:"w-px h-4 bg-gray-200"}),A.jsxs("div",{className:"inline-flex items-center rounded-full bg-gray-50 border border-gray-200 p-0.5",children:[A.jsxs("button",{type:"button",title:"Kendim","aria-label":"Kendim",className:`inline-flex items-center gap-1 px-2 py-0.5 text-[10px] rounded-full ${M==="self"?"bg-white text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>z("self"),children:[A.jsx(zx,{className:"h-3 w-3"}),A.jsx("span",{children:"Kendim"})]}),A.jsxs("button",{type:"button",title:"Okul geneli","aria-label":"Okul geneli",className:`inline-flex items-center gap-1 px-2 py-0.5 text-[10px] rounded-full ${M==="school"?"bg-white text-sky-700 border border-sky-200 shadow-sm":"text-gray-700"}`,onClick:()=>z("school"),children:[A.jsx(Bx,{className:"h-3 w-3"}),A.jsx("span",{children:"Okul geneli"})]})]})]})}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsxs("button",{onClick:()=>l(!0),disabled:a,className:"flex items-center justify-center gap-1.5 bg-green-600 hover:bg-green-700 text-white font-medium py-1 px-2.5 rounded-md transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed text-xs",children:[A.jsx(BD,{}),"Yeni Test"]})})]}),Ve.length>0&&de.length>1&&A.jsx("div",{className:"bg-white p-2.5 rounded-lg border border-gray-200 shadow-sm mb-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"text-gray-500 w-4 h-4",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,className:"w-4 h-4",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),A.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Ders"}),A.jsx(Ude,{options:de,value:d,onChange:ye=>m(ye)}),A.jsx(Hde,{isOpen:!!Se,title:"Silme Onay",message:"Bu test sonucunu silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",confirmText:"Evet, sil",cancelText:"Vazge",onConfirm:Be,onCancel:()=>Z(null)})]}),A.jsx("div",{className:"hidden sm:block h-6 w-px bg-gray-200 ml-1"}),A.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[A.jsx("span",{className:"text-xs text-gray-600 hidden sm:inline",children:"Kapsam"}),A.jsxs("div",{className:"inline-flex items-center rounded-full bg-gray-50 border border-gray-200 p-0.5",children:[A.jsxs("button",{type:"button",title:"Kendim","aria-label":"Kendim",className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${M==="self"?"bg-white text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>z("self"),children:[A.jsx(zx,{className:"h-3.5 w-3.5"}),A.jsx("span",{className:"hidden md:inline",children:"Kendim"})]}),A.jsxs("button",{type:"button",title:"Okul geneli","aria-label":"Okul geneli",className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${M==="school"?"bg-white text-sky-700 border border-sky-200 shadow-sm":"text-gray-700"}`,onClick:()=>z("school"),children:[A.jsx(Bx,{className:"h-3.5 w-3.5"}),A.jsx("span",{className:"hidden md:inline",children:"Okul geneli"})]})]})]})]})}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mb-3",children:[A.jsxs("div",{className:"lg:col-span-1",children:[ze.length>0&&A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx(jD,{title:"Toplam Test",value:tn.totalTests,icon:A.jsx(UD,{}),badgeLabel:A.jsx(Vl,{scope:M}),infoTitle:"Seilen kapsam ve derse gre toplam test says"}),A.jsx(jD,{title:"Toplam Soru",value:tn.totalQuestions,icon:A.jsx(eQ,{}),badgeLabel:A.jsx(Vl,{scope:M}),infoTitle:"Seilen kapsam ve derse gre toplam soru says"})]}),St.length>0&&A.jsx("div",{className:"mt-3",children:A.jsx(jde,{data:St,scopeBadge:A.jsx(Vl,{scope:M})})})]}),ze.length>0&&A.jsx("div",{className:"lg:col-span-2",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[A.jsx("div",{className:"transition-shadow duration-200",children:A.jsx(NM,{data:ze,scopeBadge:A.jsx(Vl,{scope:M}),onEnlarge:()=>Re(A.jsx(NM,{data:ze,height:260,showEnlarge:!1,scopeBadge:A.jsx(Vl,{scope:M})}))})}),A.jsx("div",{className:"transition-shadow duration-200",children:A.jsx(kM,{data:ze,selectedCourse:d,showFilter:!0,scopeBadge:A.jsx(Vl,{scope:M}),onEnlarge:()=>Re(A.jsx(kM,{data:ze,selectedCourse:d,showFilter:!0,showEnlarge:!1,scopeBadge:A.jsx(Vl,{scope:M}),height:260}))})})]})})]}),ze.length>0&&A.jsx("div",{className:"mt-3 sm:mt-4",children:A.jsx(Lde,{data:ze,currentUserId:t.uid})}),(Ve.length>0||a)&&A.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[A.jsx("div",{className:"p-2.5 border-b border-gray-200",children:A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[A.jsx("h2",{className:"text-xs font-semibold text-gray-900",children:O?"Test Sonularm":"Tm Test Sonular"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",id:"user-filter",checked:O,onChange:ye=>B(ye.target.checked),disabled:M==="school",className:"h-3 w-3 rounded border-gray-300 text-green-600 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),A.jsxs("label",{htmlFor:"user-filter",className:"text-xs text-gray-600 select-none",children:["Kendi Test Sonularm",M==="school"?" (okul genelinde devre d)":""]})]})]})}),A.jsx(ZY,{results:ed,currentUserId:t.uid,currentUserEmail:t.email||"N/A",onDelete:we,onAddResult:Kt,onUpdateResult:ct,isAdding:a,onCancelAdd:()=>l(!1),sortConfig:w,requestSort:Ms,isCompact:P}),Ca>0&&A.jsx("div",{className:"p-2.5 border-t border-gray-200",children:A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-[10px] text-gray-600",children:"Gster:"}),A.jsxs("select",{value:p,onChange:ye=>v(ye.target.value==="all"?"all":Number(ye.target.value)),className:"rounded border-gray-300 shadow-sm bg-white focus:ring-1 focus:ring-green-500 focus:border-green-500 py-0.5 px-1.5 text-[10px]",children:[A.jsx("option",{value:25,children:"25"}),A.jsx("option",{value:50,children:"50"}),A.jsx("option",{value:"all",children:"Tm"})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("span",{className:"text-[10px] text-gray-600",children:[b," / ",Ri]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>T(ye=>Math.max(1,ye-1)),disabled:b===1,className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-[10px]",children:""}),A.jsx("button",{onClick:()=>T(ye=>Math.min(Ri,ye+1)),disabled:b===Ri,className:"px-1.5 py-0.5 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-[10px]",children:""})]})]})]})})]}),Ve.length===0&&!a&&A.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-12 text-center",children:[A.jsx(UD,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henz test sonucu yok"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Henz test sonucunuz yok"}),A.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200",children:[A.jsx(BD,{}),"lk Test Sonucunu Ekle"]})]})]}),A.jsx(Vde,{isOpen:L,onClose:Ne,children:N}),u&&A.jsx(JY,{message:u.message,type:u.type,onClose:()=>f(null)}),A.jsx(qde,{isOpen:U,onClose:()=>F(!1),onSave:(ye,Ke,vt,He)=>Kt(ye,Ke,vt,He),courseOptions:de,defaultCourse:d})]})},Wde=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(null),[i,a]=R.useState(null),l=async()=>{if(Io.currentUser){e(!0),r(null),a(null);try{await oA(Io.currentUser),r("Dorulama e-postas gnderildi. Ltfen e-postanz kontrol edin.")}catch{a("Dorulama e-postas gnderilemedi. Daha sonra tekrar deneyin.")}finally{e(!1)}}},u=async()=>{await zj(Io)};return A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:A.jsxs("div",{className:"bg-white shadow rounded-lg p-8 w-full max-w-md text-center",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"E-postanz Dorulayn"}),A.jsx("p",{className:"text-gray-600 mb-6",children:"Devam etmek iin e-posta adresinizi dorulamanz gerekiyor."}),n&&A.jsx("p",{className:"text-green-700 mb-4",children:n}),i&&A.jsx("p",{className:"text-red-600 mb-4",children:i}),A.jsxs("div",{className:"flex gap-3 justify-center",children:[A.jsx("button",{onClick:l,disabled:t,className:"bg-green-700 hover:bg-green-800 text-white font-semibold py-2 px-4 rounded disabled:bg-green-400 flex items-center justify-center min-w-[140px]",children:t?A.jsx(Kf,{}):"Dorulama Mailini Yeniden Gnder"}),A.jsx("button",{onClick:u,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded",children:"k Yap"})]})]})})},Yde=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!0);R.useEffect(()=>{const a=J8(Io,l=>{e(l),r(!1)});return()=>a()},[]);const i=()=>n?A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:A.jsx(Kf,{})}):t?t.emailVerified?A.jsx("div",{className:"min-h-screen bg-gray-100",children:A.jsx(Gde,{user:t})}):A.jsx(Wde,{}):A.jsx(KY,{});return A.jsx("div",{className:"min-h-screen",children:i()})},XB=document.getElementById("root");if(!XB)throw new Error("Could not find root element to mount to");const Qde=M9.createRoot(XB);Qde.render(A.jsx(MM.StrictMode,{children:A.jsx(Yde,{})}));
