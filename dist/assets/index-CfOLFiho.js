var YF=Object.defineProperty;var QF=(t,e,n)=>e in t?YF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xw=(t,e,n)=>QF(t,typeof e!="symbol"?e+"":e,n);function XF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _w={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function ZF(){if(aR)return $h;aR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return $h.Fragment=e,$h.jsx=n,$h.jsxs=n,$h}var sR;function JF(){return sR||(sR=1,_w.exports=ZF()),_w.exports}var p=JF(),ww={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function e$(){if(oR)return Xe;oR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function S(K,oe,ae){this.props=K,this.context=oe,this.refs=E,this.updater=ae||x}S.prototype.isReactComponent={},S.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},S.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function P(){}P.prototype=S.prototype;function O(K,oe,ae){this.props=K,this.context=oe,this.refs=E,this.updater=ae||x}var j=O.prototype=new P;j.constructor=O,A(j,S.prototype),j.isPureReactComponent=!0;var M=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function I(K,oe,ae,fe,Ne,je){return ae=je.ref,{$$typeof:t,type:K,key:oe,ref:ae!==void 0?ae:null,props:je}}function k(K,oe){return I(K.type,oe,void 0,void 0,void 0,K.props)}function D(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function B(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ae){return oe[ae]})}var F=/\/+/g;function $(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?B(""+K.key):oe.toString(36)}function U(){}function he(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(U,U):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ve(K,oe,ae,fe,Ne){var je=typeof K;(je==="undefined"||je==="boolean")&&(K=null);var Ve=!1;if(K===null)Ve=!0;else switch(je){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(K.$$typeof){case t:case e:Ve=!0;break;case m:return Ve=K._init,ve(Ve(K._payload),oe,ae,fe,Ne)}}if(Ve)return Ne=Ne(K),Ve=fe===""?"."+$(K,0):fe,M(Ne)?(ae="",Ve!=null&&(ae=Ve.replace(F,"$&/")+"/"),ve(Ne,oe,ae,"",function(we){return we})):Ne!=null&&(D(Ne)&&(Ne=k(Ne,ae+(Ne.key==null||K&&K.key===Ne.key?"":(""+Ne.key).replace(F,"$&/")+"/")+Ve)),oe.push(Ne)),1;Ve=0;var Ft=fe===""?".":fe+":";if(M(K))for(var mt=0;mt<K.length;mt++)fe=K[mt],je=Ft+$(fe,mt),Ve+=ve(fe,oe,ae,je,Ne);else if(mt=v(K),typeof mt=="function")for(K=mt.call(K),mt=0;!(fe=K.next()).done;)fe=fe.value,je=Ft+$(fe,mt++),Ve+=ve(fe,oe,ae,je,Ne);else if(je==="object"){if(typeof K.then=="function")return ve(he(K),oe,ae,fe,Ne);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function G(K,oe,ae){if(K==null)return K;var fe=[],Ne=0;return ve(K,fe,"","",function(je){return oe.call(ae,je,Ne++)}),fe}function ne(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(ae){(K._status===0||K._status===-1)&&(K._status=1,K._result=ae)},function(ae){(K._status===0||K._status===-1)&&(K._status=2,K._result=ae)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var ge=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function Ie(){}return Xe.Children={map:G,forEach:function(K,oe,ae){G(K,function(){oe.apply(this,arguments)},ae)},count:function(K){var oe=0;return G(K,function(){oe++}),oe},toArray:function(K){return G(K,function(oe){return oe})||[]},only:function(K){if(!D(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Xe.Component=S,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=O,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return C.H.useMemoCache(K)}},Xe.cache=function(K){return function(){return K.apply(null,arguments)}},Xe.cloneElement=function(K,oe,ae){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var fe=A({},K.props),Ne=K.key,je=void 0;if(oe!=null)for(Ve in oe.ref!==void 0&&(je=void 0),oe.key!==void 0&&(Ne=""+oe.key),oe)!V.call(oe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&oe.ref===void 0||(fe[Ve]=oe[Ve]);var Ve=arguments.length-2;if(Ve===1)fe.children=ae;else if(1<Ve){for(var Ft=Array(Ve),mt=0;mt<Ve;mt++)Ft[mt]=arguments[mt+2];fe.children=Ft}return I(K.type,Ne,void 0,void 0,je,fe)},Xe.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},Xe.createElement=function(K,oe,ae){var fe,Ne={},je=null;if(oe!=null)for(fe in oe.key!==void 0&&(je=""+oe.key),oe)V.call(oe,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ne[fe]=oe[fe]);var Ve=arguments.length-2;if(Ve===1)Ne.children=ae;else if(1<Ve){for(var Ft=Array(Ve),mt=0;mt<Ve;mt++)Ft[mt]=arguments[mt+2];Ne.children=Ft}if(K&&K.defaultProps)for(fe in Ve=K.defaultProps,Ve)Ne[fe]===void 0&&(Ne[fe]=Ve[fe]);return I(K,je,void 0,void 0,null,Ne)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(K){return{$$typeof:c,render:K}},Xe.isValidElement=D,Xe.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:ne}},Xe.memo=function(K,oe){return{$$typeof:f,type:K,compare:oe===void 0?null:oe}},Xe.startTransition=function(K){var oe=C.T,ae={};C.T=ae;try{var fe=K(),Ne=C.S;Ne!==null&&Ne(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ie,ge)}catch(je){ge(je)}finally{C.T=oe}},Xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Xe.use=function(K){return C.H.use(K)},Xe.useActionState=function(K,oe,ae){return C.H.useActionState(K,oe,ae)},Xe.useCallback=function(K,oe){return C.H.useCallback(K,oe)},Xe.useContext=function(K){return C.H.useContext(K)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(K,oe){return C.H.useDeferredValue(K,oe)},Xe.useEffect=function(K,oe,ae){var fe=C.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(K,oe)},Xe.useId=function(){return C.H.useId()},Xe.useImperativeHandle=function(K,oe,ae){return C.H.useImperativeHandle(K,oe,ae)},Xe.useInsertionEffect=function(K,oe){return C.H.useInsertionEffect(K,oe)},Xe.useLayoutEffect=function(K,oe){return C.H.useLayoutEffect(K,oe)},Xe.useMemo=function(K,oe){return C.H.useMemo(K,oe)},Xe.useOptimistic=function(K,oe){return C.H.useOptimistic(K,oe)},Xe.useReducer=function(K,oe,ae){return C.H.useReducer(K,oe,ae)},Xe.useRef=function(K){return C.H.useRef(K)},Xe.useState=function(K){return C.H.useState(K)},Xe.useSyncExternalStore=function(K,oe,ae){return C.H.useSyncExternalStore(K,oe,ae)},Xe.useTransition=function(){return C.H.useTransition()},Xe.version="19.1.1",Xe}var lR;function lf(){return lR||(lR=1,ww.exports=e$()),ww.exports}var w=lf();const Z4=Fi(w),t$=XF({__proto__:null,default:Z4},[w]);var Ew={exports:{}},qh={},Aw={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function n$(){return cR||(cR=1,(function(t){function e(G,ne){var ge=G.length;G.push(ne);e:for(;0<ge;){var Ie=ge-1>>>1,K=G[Ie];if(0<i(K,ne))G[Ie]=ne,G[ge]=K,ge=Ie;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ge=G.pop();if(ge!==ne){G[0]=ge;e:for(var Ie=0,K=G.length,oe=K>>>1;Ie<oe;){var ae=2*(Ie+1)-1,fe=G[ae],Ne=ae+1,je=G[Ne];if(0>i(fe,ge))Ne<K&&0>i(je,fe)?(G[Ie]=je,G[Ne]=ge,Ie=Ne):(G[Ie]=fe,G[ae]=ge,Ie=ae);else if(Ne<K&&0>i(je,ge))G[Ie]=je,G[Ne]=ge,Ie=Ne;else break e}}return ne}function i(G,ne){var ge=G.sortIndex-ne.sortIndex;return ge!==0?ge:G.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],m=1,g=null,v=3,x=!1,A=!1,E=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=G)r(f),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(f)}}function C(G){if(E=!1,M(G),!A)if(n(d)!==null)A=!0,V||(V=!0,$());else{var ne=n(f);ne!==null&&ve(C,ne.startTime-G)}}var V=!1,I=-1,k=5,D=-1;function B(){return S?!0:!(t.unstable_now()-D<k)}function F(){if(S=!1,V){var G=t.unstable_now();D=G;var ne=!0;try{e:{A=!1,E&&(E=!1,O(I),I=-1),x=!0;var ge=v;try{t:{for(M(G),g=n(d);g!==null&&!(g.expirationTime>G&&B());){var Ie=g.callback;if(typeof Ie=="function"){g.callback=null,v=g.priorityLevel;var K=Ie(g.expirationTime<=G);if(G=t.unstable_now(),typeof K=="function"){g.callback=K,M(G),ne=!0;break t}g===n(d)&&r(d),M(G)}else r(d);g=n(d)}if(g!==null)ne=!0;else{var oe=n(f);oe!==null&&ve(C,oe.startTime-G),ne=!1}}break e}finally{g=null,v=ge,x=!1}ne=void 0}}finally{ne?$():V=!1}}}var $;if(typeof j=="function")$=function(){j(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=F,$=function(){he.postMessage(null)}}else $=function(){P(F,0)};function ve(G,ne){I=P(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ge=v;v=ne;try{return G()}finally{v=ge}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=v;v=G;try{return ne()}finally{v=ge}},t.unstable_scheduleCallback=function(G,ne,ge){var Ie=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ie+ge:Ie):ge=Ie,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ge+K,G={id:m++,callback:ne,priorityLevel:G,startTime:ge,expirationTime:K,sortIndex:-1},ge>Ie?(G.sortIndex=ge,e(f,G),n(d)===null&&G===n(f)&&(E?(O(I),I=-1):E=!0,ve(C,ge-Ie))):(G.sortIndex=K,e(d,G),A||x||(A=!0,V||(V=!0,$()))),G},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(G){var ne=v;return function(){var ge=v;v=ne;try{return G.apply(this,arguments)}finally{v=ge}}}})(Tw)),Tw}var uR;function r$(){return uR||(uR=1,Aw.exports=n$()),Aw.exports}var Sw={exports:{}},br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR;function i$(){if(dR)return br;dR=1;var t=lf();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,br.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,m)},br.flushSync=function(d){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=m,r.d.f()}},br.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},br.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},br.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},br.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},br.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},br.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},br.requestFormReset=function(d){r.d.r(d)},br.unstable_batchedUpdates=function(d,f){return d(f)},br.useFormState=function(d,f,m){return o.H.useFormState(d,f,m)},br.useFormStatus=function(){return o.H.useHostTransitionStatus()},br.version="19.1.1",br}var fR;function J4(){if(fR)return Sw.exports;fR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sw.exports=i$(),Sw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function a$(){if(hR)return qh;hR=1;var t=r$(),e=lf(),n=J4();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,u=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(u=l.return),s=l.return;while(s)}return l.tag===3?u:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var u=s,h=l;;){var b=u.return;if(b===null)break;var _=b.alternate;if(_===null){if(h=b.return,h!==null){u=h;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===u)return c(b),s;if(_===h)return c(b),l;_=_.sibling}throw Error(r(188))}if(u.return!==h.return)u=b,h=_;else{for(var R=!1,L=b.child;L;){if(L===u){R=!0,u=b,h=_;break}if(L===h){R=!0,h=b,u=_;break}L=L.sibling}if(!R){for(L=_.child;L;){if(L===u){R=!0,u=_,h=b;break}if(L===h){R=!0,h=_,u=b;break}L=L.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case V:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case j:return(s.displayName||"Context")+".Provider";case O:return(s._context.displayName||"Context")+".Consumer";case M:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return l=s.displayName||null,l!==null?l:he(s.type)||"Memo";case k:l=s._payload,s=s._init;try{return he(s(l))}catch{}}return null}var ve=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ie=[],K=-1;function oe(s){return{current:s}}function ae(s){0>K||(s.current=Ie[K],Ie[K]=null,K--)}function fe(s,l){K++,Ie[K]=s.current,s.current=l}var Ne=oe(null),je=oe(null),Ve=oe(null),Ft=oe(null);function mt(s,l){switch(fe(Ve,l),fe(je,s),fe(Ne,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?CO(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=CO(l),s=jO(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Ne),fe(Ne,s)}function we(){ae(Ne),ae(je),ae(Ve)}function Fe(s){s.memoizedState!==null&&fe(Ft,s);var l=Ne.current,u=jO(l,s.type);l!==u&&(fe(je,s),fe(Ne,u))}function He(s){je.current===s&&(ae(Ne),ae(je)),Ft.current===s&&(ae(Ft),Vh._currentValue=ge)}var me=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,Gt=t.unstable_shouldYield,Xt=t.unstable_requestPaint,ie=t.unstable_now,_e=t.unstable_getCurrentPriorityLevel,Ae=t.unstable_ImmediatePriority,Be=t.unstable_UserBlockingPriority,$e=t.unstable_NormalPriority,Ue=t.unstable_LowPriority,nt=t.unstable_IdlePriority,pt=t.log,Wt=t.unstable_setDisableYieldValue,We=null,Ce=null;function Rt(s){if(typeof pt=="function"&&Wt(s),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(We,s)}catch{}}var ct=Math.clz32?Math.clz32:Pl,Zr=Math.log,Nl=Math.LN2;function Pl(s){return s>>>=0,s===0?32:31-(Zr(s)/Nl|0)|0}var Ol=256,Rl=4194304;function qi(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function fu(s,l,u){var h=s.pendingLanes;if(h===0)return 0;var b=0,_=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var L=h&134217727;return L!==0?(h=L&~_,h!==0?b=qi(h):(R&=L,R!==0?b=qi(R):u||(u=L&~s,u!==0&&(b=qi(u))))):(L=h&~_,L!==0?b=qi(L):R!==0?b=qi(R):u||(u=h&~s,u!==0&&(b=qi(u)))),b===0?0:l!==0&&l!==b&&(l&_)===0&&(_=b&-b,u=l&-l,_>=u||_===32&&(u&4194048)!==0)?l:b}function kl(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Vf(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(){var s=Ol;return Ol<<=1,(Ol&4194048)===0&&(Ol=256),s}function Uf(){var s=Rl;return Rl<<=1,(Rl&62914560)===0&&(Rl=4194304),s}function es(s){for(var l=[],u=0;31>u;u++)l.push(s);return l}function ts(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zf(s,l,u,h,b,_){var R=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var L=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(u=R&~u;0<u;){var le=31-ct(u),ue=1<<le;L[le]=0,q[le]=-1;var ee=J[le];if(ee!==null)for(J[le]=null,le=0;le<ee.length;le++){var te=ee[le];te!==null&&(te.lane&=-536870913)}u&=~ue}h!==0&&oa(s,h,0),_!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=_&~(R&~l))}function oa(s,l,u){s.pendingLanes|=l,s.suspendedLanes&=~l;var h=31-ct(l);s.entangledLanes|=l,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194090}function Ff(s,l){var u=s.entangledLanes|=l;for(s=s.entanglements;u;){var h=31-ct(u),b=1<<h;b&l|s[h]&l&&(s[h]|=l),u&=~b}}function ao(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function hu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function so(){var s=ne.p;return s!==0?s:(s=window.event,s===void 0?32:JO(s.type))}function gg(s,l){var u=ne.p;try{return ne.p=s,l()}finally{ne.p=u}}var Zt=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Zt,Tn="__reactProps$"+Zt,xi="__reactContainer$"+Zt,$f="__reactEvents$"+Zt,Ex="__reactListeners$"+Zt,oo="__reactHandles$"+Zt,yg="__reactResources$"+Zt,Cl="__reactMarker$"+Zt;function lo(s){delete s[Dn],delete s[Tn],delete s[$f],delete s[Ex],delete s[oo]}function ns(s){var l=s[Dn];if(l)return l;for(var u=s.parentNode;u;){if(l=u[xi]||u[Dn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(s=VO(s);s!==null;){if(u=s[Dn])return u;s=VO(s)}return l}s=u,u=s.parentNode}return null}function la(s){if(s=s[Dn]||s[xi]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function ca(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Nr(s){var l=s[yg];return l||(l=s[yg]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function yn(s){s[Cl]=!0}var qf=new Set,mu={};function Ki(s,l){rs(s,l),rs(s+"Capture",l)}function rs(s,l){for(mu[s]=l,s=0;s<l.length;s++)qf.add(l[s])}var vg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bg={},jl={};function xg(s){return me.call(jl,s)?!0:me.call(bg,s)?!1:vg.test(s)?jl[s]=!0:(bg[s]=!0,!1)}function co(s,l,u){if(xg(l))if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+u)}}function ua(s,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+u)}}function sr(s,l,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(l,u,""+h)}}var Dl,_g;function is(s){if(Dl===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Dl=l&&l[1]||"",_g=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+s+_g}var pu=!1;function gu(s,l){if(!s||pu)return"";pu=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(te){ee=te}s.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),R=_[0],L=_[1];if(R&&L){var q=R.split(`
`),J=L.split(`
`);for(b=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;b<J.length&&!J[b].includes("DetermineComponentFrameRoot");)b++;if(h===q.length||b===J.length)for(h=q.length-1,b=J.length-1;1<=h&&0<=b&&q[h]!==J[b];)b--;for(;1<=h&&0<=b;h--,b--)if(q[h]!==J[b]){if(h!==1||b!==1)do if(h--,b--,0>b||q[h]!==J[b]){var le=`
`+q[h].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=h&&0<=b);break}}}finally{pu=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?is(u):""}function Kf(s){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return gu(s.type,!1);case 11:return gu(s.type.render,!1);case 1:return gu(s.type,!0);case 31:return is("Activity");default:return""}}function yu(s){try{var l="";do l+=Kf(s),s=s.return;while(s);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Pr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Hf(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ax(s){var l=Hf(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),h=""+s[l];if(!s.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,_=u.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(R){h=""+R,_.call(this,R)}}),Object.defineProperty(s,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function vu(s){s._valueTracker||(s._valueTracker=Ax(s))}function Gf(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return s&&(h=Hf(s)?s.checked?"true":"false":s.value),s=h,s!==u?(l.setValue(s),!0):!1}function Ml(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Tx=/[\n"\\]/g;function Sn(s){return s.replace(Tx,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Jr(s,l,u,h,b,_,R,L){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),l!=null?R==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Pr(l)):s.value!==""+Pr(l)&&(s.value=""+Pr(l)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),l!=null?uo(s,R,Pr(l)):u!=null?uo(s,R,Pr(u)):h!=null&&s.removeAttribute("value"),b==null&&_!=null&&(s.defaultChecked=!!_),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+Pr(L):s.removeAttribute("name")}function Ll(s,l,u,h,b,_,R,L){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),l!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;u=u!=null?""+Pr(u):"",l=l!=null?""+Pr(l):u,L||l===s.value||(s.value=l),s.defaultValue=l}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=L?s.checked:!!h,s.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R)}function uo(s,l,u){l==="number"&&Ml(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function as(s,l,u,h){if(s=s.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<s.length;u++)b=l.hasOwnProperty("$"+s[u].value),s[u].selected!==b&&(s[u].selected=b),b&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Pr(u),l=null,b=0;b<s.length;b++){if(s[b].value===u){s[b].selected=!0,h&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function kt(s,l,u){if(l!=null&&(l=""+Pr(l),l!==s.value&&(s.value=l),u==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=u!=null?""+Pr(u):""}function Vl(s,l,u,h){if(l==null){if(h!=null){if(u!=null)throw Error(r(92));if(ve(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),l=u}u=Pr(l),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function _i(s,l){if(l){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=l;return}}s.textContent=l}var Bl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wg(s,l,u){var h=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":h?s.setProperty(l,u):typeof u!="number"||u===0||Bl.has(l)?l==="float"?s.cssFloat=u:s[l]=(""+u).trim():s[l]=u+"px"}function Wf(s,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var b in l)h=l[b],l.hasOwnProperty(b)&&u[b]!==h&&wg(s,b,h)}else for(var _ in l)l.hasOwnProperty(_)&&wg(s,_,l[_])}function Yf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ix=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bu(s){return Ix.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ss=null;function wi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var os=null,ls=null;function Qf(s){var l=la(s);if(l&&(s=l.stateNode)){var u=s[Tn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Jr(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Sn(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==s&&h.form===s.form){var b=h[Tn]||null;if(!b)throw Error(r(90));Jr(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)h=u[l],h.form===s.form&&Gf(h)}break e;case"textarea":kt(s,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&as(s,!!u.multiple,l,!1)}}}var da=!1;function Eg(s,l,u){if(da)return s(l,u);da=!0;try{var h=s(l);return h}finally{if(da=!1,(os!==null||ls!==null)&&(gy(),os&&(l=os,s=ls,ls=os=null,Qf(l),s)))for(l=0;l<s.length;l++)Qf(s[l])}}function Ul(s,l){var u=s.stateNode;if(u===null)return null;var h=u[Tn]||null;if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=!1;if(Hi)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{Ei=!1}var fa=null,fo=null,cs=null;function Xf(){if(cs)return cs;var s,l=fo,u=l.length,h,b="value"in fa?fa.value:fa.textContent,_=b.length;for(s=0;s<u&&l[s]===b[s];s++);var R=u-s;for(h=1;h<=R&&l[u-h]===b[_-h];h++);return cs=b.slice(s,1<h?1-h:void 0)}function ha(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ma(){return!0}function Zf(){return!1}function Hn(s){function l(u,h,b,_,R){this._reactName=u,this._targetInst=b,this.type=h,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ma:Zf,this.isPropagationStopped=Zf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),l}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Hn(At),Fl=m({},At,{view:0,detail:0}),Ag=Hn(Fl),_u,wu,pa,$l=m({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pa&&(pa&&s.type==="mousemove"?(_u=s.screenX-pa.screenX,wu=s.screenY-pa.screenY):wu=_u=0,pa=s),_u)},movementY:function(s){return"movementY"in s?s.movementY:wu}}),Ai=Hn($l),Tg=m({},$l,{dataTransfer:0}),Nx=Hn(Tg),ql=m({},Fl,{relatedTarget:0}),Eu=Hn(ql),Jf=m({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Hn(Jf),Sg=m({},At,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Tu=Hn(Sg),Px=m({},At,{data:0}),eh=Hn(Px),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Ng[s])?!!l[s]:!1}function Hl(){return th}var Pg=m({},Fl,{key:function(s){if(s.key){var l=Kl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ig[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(s){return s.type==="keypress"?ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Su=Hn(Pg),Og=m({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=Hn(Og),us=m({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),Rg=Hn(us),kg=m({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=Hn(kg),jg=m({},$l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Iu=Hn(jg),Or=m({},At,{newState:0,oldState:0}),Dg=Hn(Or),Mg=[9,13,27,32],ga=Hi&&"CompositionEvent"in window,y=null;Hi&&"documentMode"in document&&(y=document.documentMode);var T=Hi&&"TextEvent"in window&&!y,N=Hi&&(!ga||y&&8<y&&11>=y),z=" ",Y=!1;function se(s,l){switch(s){case"keyup":return Mg.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ut=!1;function Mn(s,l){switch(s){case"compositionend":return be(l);case"keypress":return l.which!==32?null:(Y=!0,z);case"textInput":return s=l.data,s===z&&Y?null:s;default:return null}}function dt(s,l){if(ut)return s==="compositionend"||!ga&&se(s,l)?(s=Xf(),cs=fo=fa=null,ut=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return N&&l.locale!=="ko"?null:l.data;default:return null}}var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Gn[s.type]:l==="textarea"}function ds(s,l,u,h){os?ls?ls.push(h):ls=[h]:os=h,l=wy(l,"onChange"),0<l.length&&(u=new xu("onChange","change",null,u,h),s.push({event:u,listeners:l}))}var or=null,ya=null;function rh(s){NO(s,0)}function Lg(s){var l=ca(s);if(Gf(l))return s}function Y2(s,l){if(s==="change")return l}var Q2=!1;if(Hi){var Ox;if(Hi){var Rx="oninput"in document;if(!Rx){var X2=document.createElement("div");X2.setAttribute("oninput","return;"),Rx=typeof X2.oninput=="function"}Ox=Rx}else Ox=!1;Q2=Ox&&(!document.documentMode||9<document.documentMode)}function Z2(){or&&(or.detachEvent("onpropertychange",J2),ya=or=null)}function J2(s){if(s.propertyName==="value"&&Lg(ya)){var l=[];ds(l,ya,s,wi(s)),Eg(rh,l)}}function T8(s,l,u){s==="focusin"?(Z2(),or=l,ya=u,or.attachEvent("onpropertychange",J2)):s==="focusout"&&Z2()}function S8(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lg(ya)}function I8(s,l){if(s==="click")return Lg(l)}function N8(s,l){if(s==="input"||s==="change")return Lg(l)}function P8(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ei=typeof Object.is=="function"?Object.is:P8;function ih(s,l){if(ei(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var u=Object.keys(s),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var b=u[h];if(!me.call(l,b)||!ei(s[b],l[b]))return!1}return!0}function eN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tN(s,l){var u=eN(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=l&&h>=l)return{node:u,offset:l-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=eN(u)}}function nN(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?nN(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function rN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ml(s.document);l instanceof s.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)s=l.contentWindow;else break;l=Ml(s.document)}return l}function kx(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var O8=Hi&&"documentMode"in document&&11>=document.documentMode,Nu=null,Cx=null,ah=null,jx=!1;function iN(s,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;jx||Nu==null||Nu!==Ml(h)||(h=Nu,"selectionStart"in h&&kx(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ah&&ih(ah,h)||(ah=h,h=wy(Cx,"onSelect"),0<h.length&&(l=new xu("onSelect","select",null,l,u),s.push({event:l,listeners:h}),l.target=Nu)))}function Gl(s,l){var u={};return u[s.toLowerCase()]=l.toLowerCase(),u["Webkit"+s]="webkit"+l,u["Moz"+s]="moz"+l,u}var Pu={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionrun:Gl("Transition","TransitionRun"),transitionstart:Gl("Transition","TransitionStart"),transitioncancel:Gl("Transition","TransitionCancel"),transitionend:Gl("Transition","TransitionEnd")},Dx={},aN={};Hi&&(aN=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function Wl(s){if(Dx[s])return Dx[s];if(!Pu[s])return s;var l=Pu[s],u;for(u in l)if(l.hasOwnProperty(u)&&u in aN)return Dx[s]=l[u];return s}var sN=Wl("animationend"),oN=Wl("animationiteration"),lN=Wl("animationstart"),R8=Wl("transitionrun"),k8=Wl("transitionstart"),C8=Wl("transitioncancel"),cN=Wl("transitionend"),uN=new Map,Mx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mx.push("scrollEnd");function Gi(s,l){uN.set(s,l),Ki(l,[s])}var dN=new WeakMap;function Ti(s,l){if(typeof s=="object"&&s!==null){var u=dN.get(s);return u!==void 0?u:(l={value:s,source:l,stack:yu(l)},dN.set(s,l),l)}return{value:s,source:l,stack:yu(l)}}var Si=[],Ou=0,Lx=0;function Vg(){for(var s=Ou,l=Lx=Ou=0;l<s;){var u=Si[l];Si[l++]=null;var h=Si[l];Si[l++]=null;var b=Si[l];Si[l++]=null;var _=Si[l];if(Si[l++]=null,h!==null&&b!==null){var R=h.pending;R===null?b.next=b:(b.next=R.next,R.next=b),h.pending=b}_!==0&&fN(u,b,_)}}function Bg(s,l,u,h){Si[Ou++]=s,Si[Ou++]=l,Si[Ou++]=u,Si[Ou++]=h,Lx|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Vx(s,l,u,h){return Bg(s,l,u,h),Ug(s)}function Ru(s,l){return Bg(s,null,null,l),Ug(s)}function fN(s,l,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var b=!1,_=s.return;_!==null;)_.childLanes|=u,h=_.alternate,h!==null&&(h.childLanes|=u),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(b=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,b&&l!==null&&(b=31-ct(u),s=_.hiddenUpdates,h=s[b],h===null?s[b]=[l]:h.push(l),l.lane=u|536870912),_):null}function Ug(s){if(50<Oh)throw Oh=0,q_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ku={};function j8(s,l,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(s,l,u,h){return new j8(s,l,u,h)}function Bx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fs(s,l){var u=s.alternate;return u===null?(u=ti(s.tag,l,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=l,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,l=s.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function hN(s,l){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,l=u.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function zg(s,l,u,h,b,_){var R=0;if(h=s,typeof s=="function")Bx(s)&&(R=1);else if(typeof s=="string")R=MF(s,u,Ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=ti(31,u,l,b),s.elementType=D,s.lanes=_,s;case A:return Yl(u.children,b,_,l);case E:R=8,b|=24;break;case S:return s=ti(12,u,l,b|2),s.elementType=S,s.lanes=_,s;case C:return s=ti(13,u,l,b),s.elementType=C,s.lanes=_,s;case V:return s=ti(19,u,l,b),s.elementType=V,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case j:R=10;break e;case O:R=9;break e;case M:R=11;break e;case I:R=14;break e;case k:R=16,h=null;break e}R=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return l=ti(R,u,l,b),l.elementType=s,l.type=h,l.lanes=_,l}function Yl(s,l,u,h){return s=ti(7,s,h,l),s.lanes=u,s}function Ux(s,l,u){return s=ti(6,s,null,l),s.lanes=u,s}function zx(s,l,u){return l=ti(4,s.children!==null?s.children:[],s.key,l),l.lanes=u,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Cu=[],ju=0,Fg=null,$g=0,Ii=[],Ni=0,Ql=null,hs=1,ms="";function Xl(s,l){Cu[ju++]=$g,Cu[ju++]=Fg,Fg=s,$g=l}function mN(s,l,u){Ii[Ni++]=hs,Ii[Ni++]=ms,Ii[Ni++]=Ql,Ql=s;var h=hs;s=ms;var b=32-ct(h)-1;h&=~(1<<b),u+=1;var _=32-ct(l)+b;if(30<_){var R=b-b%5;_=(h&(1<<R)-1).toString(32),h>>=R,b-=R,hs=1<<32-ct(l)+b|u<<b|h,ms=_+s}else hs=1<<_|u<<b|h,ms=s}function Fx(s){s.return!==null&&(Xl(s,1),mN(s,1,0))}function $x(s){for(;s===Fg;)Fg=Cu[--ju],Cu[ju]=null,$g=Cu[--ju],Cu[ju]=null;for(;s===Ql;)Ql=Ii[--Ni],Ii[Ni]=null,ms=Ii[--Ni],Ii[Ni]=null,hs=Ii[--Ni],Ii[Ni]=null}var Rr=null,dn=null,_t=!1,Zl=null,va=!1,qx=Error(r(519));function Jl(s){var l=Error(r(418,""));throw lh(Ti(l,s)),qx}function pN(s){var l=s.stateNode,u=s.type,h=s.memoizedProps;switch(l[Dn]=s,l[Tn]=h,u){case"dialog":it("cancel",l),it("close",l);break;case"iframe":case"object":case"embed":it("load",l);break;case"video":case"audio":for(u=0;u<kh.length;u++)it(kh[u],l);break;case"source":it("error",l);break;case"img":case"image":case"link":it("error",l),it("load",l);break;case"details":it("toggle",l);break;case"input":it("invalid",l),Ll(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),vu(l);break;case"select":it("invalid",l);break;case"textarea":it("invalid",l),Vl(l,h.value,h.defaultValue,h.children),vu(l)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||h.suppressHydrationWarning===!0||kO(l.textContent,u)?(h.popover!=null&&(it("beforetoggle",l),it("toggle",l)),h.onScroll!=null&&it("scroll",l),h.onScrollEnd!=null&&it("scrollend",l),h.onClick!=null&&(l.onclick=Ey),l=!0):l=!1,l||Jl(s)}function gN(s){for(Rr=s.return;Rr;)switch(Rr.tag){case 5:case 13:va=!1;return;case 27:case 3:va=!0;return;default:Rr=Rr.return}}function sh(s){if(s!==Rr)return!1;if(!_t)return gN(s),_t=!0,!1;var l=s.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||sw(s.type,s.memoizedProps)),u=!u),u&&dn&&Jl(s),gN(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(l===0){dn=Yi(s.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;s=s.nextSibling}dn=null}}else l===27?(l=dn,No(s.type)?(s=uw,uw=null,dn=s):dn=l):dn=Rr?Yi(s.stateNode.nextSibling):null;return!0}function oh(){dn=Rr=null,_t=!1}function yN(){var s=Zl;return s!==null&&($r===null?$r=s:$r.push.apply($r,s),Zl=null),s}function lh(s){Zl===null?Zl=[s]:Zl.push(s)}var Kx=oe(null),ec=null,ps=null;function ho(s,l,u){fe(Kx,l._currentValue),l._currentValue=u}function gs(s){s._currentValue=Kx.current,ae(Kx)}function Hx(s,l,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),s===u)break;s=s.return}}function Gx(s,l,u,h){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var _=b.dependencies;if(_!==null){var R=b.child;_=_.firstContext;e:for(;_!==null;){var L=_;_=b;for(var q=0;q<l.length;q++)if(L.context===l[q]){_.lanes|=u,L=_.alternate,L!==null&&(L.lanes|=u),Hx(_.return,u,s),h||(R=null);break e}_=L.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(r(341));R.lanes|=u,_=R.alternate,_!==null&&(_.lanes|=u),Hx(R,u,s),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===s){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function ch(s,l,u,h){s=null;for(var b=l,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var L=b.type;ei(b.pendingProps.value,R.value)||(s!==null?s.push(L):s=[L])}}else if(b===Ft.current){if(R=b.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Vh):s=[Vh])}b=b.return}s!==null&&Gx(l,s,u,h),l.flags|=262144}function qg(s){for(s=s.firstContext;s!==null;){if(!ei(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function tc(s){ec=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vr(s){return vN(ec,s)}function Kg(s,l){return ec===null&&tc(s),vN(s,l)}function vN(s,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ps===null){if(s===null)throw Error(r(308));ps=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else ps=ps.next=l;return u}var D8=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){l.aborted=!0,s.forEach(function(u){return u()})}},M8=t.unstable_scheduleCallback,L8=t.unstable_NormalPriority,Vn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wx(){return{controller:new D8,data:new Map,refCount:0}}function uh(s){s.refCount--,s.refCount===0&&M8(L8,function(){s.controller.abort()})}var dh=null,Yx=0,Du=0,Mu=null;function V8(s,l){if(dh===null){var u=dh=[];Yx=0,Du=X_(),Mu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Yx++,l.then(bN,bN),l}function bN(){if(--Yx===0&&dh!==null){Mu!==null&&(Mu.status="fulfilled");var s=dh;dh=null,Du=0,Mu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function B8(s,l){var u=[],h={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return s.then(function(){h.status="fulfilled",h.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(h.status="rejected",h.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),h}var xN=G.S;G.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&V8(s,l),xN!==null&&xN(s,l)};var nc=oe(null);function Qx(){var s=nc.current;return s!==null?s:$t.pooledCache}function Hg(s,l){l===null?fe(nc,nc.current):fe(nc,l.pool)}function _N(){var s=Qx();return s===null?null:{parent:Vn._currentValue,pool:s}}var fh=Error(r(460)),wN=Error(r(474)),Gg=Error(r(542)),Xx={then:function(){}};function EN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wg(){}function AN(s,l,u){switch(u=s[u],u===void 0?s.push(l):u!==l&&(l.then(Wg,Wg),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,SN(s),s;default:if(typeof l.status=="string")l.then(Wg,Wg);else{if(s=$t,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(h){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=h}},function(h){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,SN(s),s}throw hh=l,fh}}var hh=null;function TN(){if(hh===null)throw Error(r(459));var s=hh;return hh=null,s}function SN(s){if(s===fh||s===Gg)throw Error(r(483))}var mo=!1;function Zx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jx(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function po(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function go(s,l,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(St&2)!==0){var b=h.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),h.pending=l,l=Ug(s),fN(s,null,u),l}return Bg(s,h,l,u),Ug(s)}function mh(s,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var h=l.lanes;h&=s.pendingLanes,u|=h,l.lanes=u,Ff(s,u)}}function e_(s,l){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var b=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?b=_=R:_=_.next=R,u=u.next}while(u!==null);_===null?b=_=l:_=_.next=l}else b=_=l;u={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=l}var t_=!1;function ph(){if(t_){var s=Mu;if(s!==null)throw s}}function gh(s,l,u,h){t_=!1;var b=s.updateQueue;mo=!1;var _=b.firstBaseUpdate,R=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var q=L,J=q.next;q.next=null,R===null?_=J:R.next=J,R=q;var le=s.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==R&&(L===null?le.firstBaseUpdate=J:L.next=J,le.lastBaseUpdate=q))}if(_!==null){var ue=b.baseState;R=0,le=J=q=null,L=_;do{var ee=L.lane&-536870913,te=ee!==L.lane;if(te?(ft&ee)===ee:(h&ee)===ee){ee!==0&&ee===Du&&(t_=!0),le!==null&&(le=le.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ke=s,ze=L;ee=l;var Dt=u;switch(ze.tag){case 1:if(Ke=ze.payload,typeof Ke=="function"){ue=Ke.call(Dt,ue,ee);break e}ue=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=ze.payload,ee=typeof Ke=="function"?Ke.call(Dt,ue,ee):Ke,ee==null)break e;ue=m({},ue,ee);break e;case 2:mo=!0}}ee=L.callback,ee!==null&&(s.flags|=64,te&&(s.flags|=8192),te=b.callbacks,te===null?b.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(J=le=te,q=ue):le=le.next=te,R|=ee;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;te=L,L=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);le===null&&(q=ue),b.baseState=q,b.firstBaseUpdate=J,b.lastBaseUpdate=le,_===null&&(b.shared.lanes=0),Ao|=R,s.lanes=R,s.memoizedState=ue}}function IN(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function NN(s,l){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)IN(u[s],l)}var Lu=oe(null),Yg=oe(0);function PN(s,l){s=Es,fe(Yg,s),fe(Lu,l),Es=s|l.baseLanes}function n_(){fe(Yg,Es),fe(Lu,Lu.current)}function r_(){Es=Yg.current,ae(Lu),ae(Yg)}var yo=0,et=null,Ct=null,In=null,Qg=!1,Vu=!1,rc=!1,Xg=0,yh=0,Bu=null,U8=0;function vn(){throw Error(r(321))}function i_(s,l){if(l===null)return!1;for(var u=0;u<l.length&&u<s.length;u++)if(!ei(s[u],l[u]))return!1;return!0}function a_(s,l,u,h,b,_){return yo=_,et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=s===null||s.memoizedState===null?fP:hP,rc=!1,_=u(h,b),rc=!1,Vu&&(_=RN(l,u,h,b)),ON(s),_}function ON(s){G.H=ry;var l=Ct!==null&&Ct.next!==null;if(yo=0,In=Ct=et=null,Qg=!1,yh=0,Bu=null,l)throw Error(r(300));s===null||Wn||(s=s.dependencies,s!==null&&qg(s)&&(Wn=!0))}function RN(s,l,u,h){et=s;var b=0;do{if(Vu&&(Bu=null),yh=0,Vu=!1,25<=b)throw Error(r(301));if(b+=1,In=Ct=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=G8,_=l(u,h)}while(Vu);return _}function z8(){var s=G.H,l=s.useState()[0];return l=typeof l.then=="function"?vh(l):l,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(et.flags|=1024),l}function s_(){var s=Xg!==0;return Xg=0,s}function o_(s,l,u){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~u}function l_(s){if(Qg){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Qg=!1}yo=0,In=Ct=et=null,Vu=!1,yh=Xg=0,Bu=null}function zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?et.memoizedState=In=s:In=In.next=s,In}function Nn(){if(Ct===null){var s=et.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var l=In===null?et.memoizedState:In.next;if(l!==null)In=l,Ct=s;else{if(s===null)throw et.alternate===null?Error(r(467)):Error(r(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},In===null?et.memoizedState=In=s:In=In.next=s}return In}function c_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vh(s){var l=yh;return yh+=1,Bu===null&&(Bu=[]),s=AN(Bu,s,l),l=et,(In===null?l.memoizedState:In.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?fP:hP),s}function Zg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vh(s);if(s.$$typeof===j)return vr(s)}throw Error(r(438,String(s)))}function u_(s){var l=null,u=et.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var h=et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=c_(),et.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(s),h=0;h<s;h++)u[h]=B;return l.index++,u}function ys(s,l){return typeof l=="function"?l(s):l}function Jg(s){var l=Nn();return d_(l,Ct,s)}function d_(s,l,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var b=s.baseQueue,_=h.pending;if(_!==null){if(b!==null){var R=b.next;b.next=_.next,_.next=R}l.baseQueue=b=_,h.pending=null}if(_=s.baseState,b===null)s.memoizedState=_;else{l=b.next;var L=R=null,q=null,J=l,le=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(ft&ue)===ue:(yo&ue)===ue){var ee=J.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Du&&(le=!0);else if((yo&ee)===ee){J=J.next,ee===Du&&(le=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=ue,R=_):q=q.next=ue,et.lanes|=ee,Ao|=ee;ue=J.action,rc&&u(_,ue),_=J.hasEagerState?J.eagerState:u(_,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=ee,R=_):q=q.next=ee,et.lanes|=ue,Ao|=ue;J=J.next}while(J!==null&&J!==l);if(q===null?R=_:q.next=L,!ei(_,s.memoizedState)&&(Wn=!0,le&&(u=Mu,u!==null)))throw u;s.memoizedState=_,s.baseState=R,s.baseQueue=q,h.lastRenderedState=_}return b===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function f_(s){var l=Nn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,b=u.pending,_=l.memoizedState;if(b!==null){u.pending=null;var R=b=b.next;do _=s(_,R.action),R=R.next;while(R!==b);ei(_,l.memoizedState)||(Wn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),u.lastRenderedState=_}return[_,h]}function kN(s,l,u){var h=et,b=Nn(),_=_t;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=l();var R=!ei((Ct||b).memoizedState,u);R&&(b.memoizedState=u,Wn=!0),b=b.queue;var L=DN.bind(null,h,b,s);if(bh(2048,8,L,[s]),b.getSnapshot!==l||R||In!==null&&In.memoizedState.tag&1){if(h.flags|=2048,Uu(9,ey(),jN.bind(null,h,b,u,l),null),$t===null)throw Error(r(349));_||(yo&124)!==0||CN(h,l,u)}return u}function CN(s,l,u){s.flags|=16384,s={getSnapshot:l,value:u},l=et.updateQueue,l===null?(l=c_(),et.updateQueue=l,l.stores=[s]):(u=l.stores,u===null?l.stores=[s]:u.push(s))}function jN(s,l,u,h){l.value=u,l.getSnapshot=h,MN(l)&&LN(s)}function DN(s,l,u){return u(function(){MN(l)&&LN(s)})}function MN(s){var l=s.getSnapshot;s=s.value;try{var u=l();return!ei(s,u)}catch{return!0}}function LN(s){var l=Ru(s,2);l!==null&&si(l,s,2)}function h_(s){var l=zr();if(typeof s=="function"){var u=s;if(s=u(),rc){Rt(!0);try{u()}finally{Rt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:s},l}function VN(s,l,u,h){return s.baseState=u,d_(s,Ct,typeof h=="function"?h:ys)}function F8(s,l,u,h,b){if(ny(s))throw Error(r(485));if(s=l.action,s!==null){var _={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};G.T!==null?u(!0):_.isTransition=!1,h(_),u=l.pending,u===null?(_.next=l.pending=_,BN(l,_)):(_.next=u.next,l.pending=u.next=_)}}function BN(s,l){var u=l.action,h=l.payload,b=s.state;if(l.isTransition){var _=G.T,R={};G.T=R;try{var L=u(b,h),q=G.S;q!==null&&q(R,L),UN(s,l,L)}catch(J){m_(s,l,J)}finally{G.T=_}}else try{_=u(b,h),UN(s,l,_)}catch(J){m_(s,l,J)}}function UN(s,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){zN(s,l,h)},function(h){return m_(s,l,h)}):zN(s,l,u)}function zN(s,l,u){l.status="fulfilled",l.value=u,FN(l),s.state=u,l=s.pending,l!==null&&(u=l.next,u===l?s.pending=null:(u=u.next,l.next=u,BN(s,u)))}function m_(s,l,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=u,FN(l),l=l.next;while(l!==h)}s.action=null}function FN(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function $N(s,l){return l}function qN(s,l){if(_t){var u=$t.formState;if(u!==null){e:{var h=et;if(_t){if(dn){t:{for(var b=dn,_=va;b.nodeType!==8;){if(!_){b=null;break t}if(b=Yi(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){dn=Yi(b.nextSibling),h=b.data==="F!";break e}}Jl(h)}h=!1}h&&(l=u[0])}}return u=zr(),u.memoizedState=u.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$N,lastRenderedState:l},u.queue=h,u=cP.bind(null,et,h),h.dispatch=u,h=h_(!1),_=b_.bind(null,et,!1,h.queue),h=zr(),b={state:l,dispatch:null,action:s,pending:null},h.queue=b,u=F8.bind(null,et,b,_,u),b.dispatch=u,h.memoizedState=s,[l,u,!1]}function KN(s){var l=Nn();return HN(l,Ct,s)}function HN(s,l,u){if(l=d_(s,l,$N)[0],s=Jg(ys)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=vh(l)}catch(R){throw R===fh?Gg:R}else h=l;l=Nn();var b=l.queue,_=b.dispatch;return u!==l.memoizedState&&(et.flags|=2048,Uu(9,ey(),$8.bind(null,b,u),null)),[h,_,s]}function $8(s,l){s.action=l}function GN(s){var l=Nn(),u=Ct;if(u!==null)return HN(l,u,s);Nn(),l=l.memoizedState,u=Nn();var h=u.queue.dispatch;return u.memoizedState=s,[l,h,!1]}function Uu(s,l,u,h){return s={tag:s,create:u,deps:h,inst:l,next:null},l=et.updateQueue,l===null&&(l=c_(),et.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,l.lastEffect=s),s}function ey(){return{destroy:void 0,resource:void 0}}function WN(){return Nn().memoizedState}function ty(s,l,u,h){var b=zr();h=h===void 0?null:h,et.flags|=s,b.memoizedState=Uu(1|l,ey(),u,h)}function bh(s,l,u,h){var b=Nn();h=h===void 0?null:h;var _=b.memoizedState.inst;Ct!==null&&h!==null&&i_(h,Ct.memoizedState.deps)?b.memoizedState=Uu(l,_,u,h):(et.flags|=s,b.memoizedState=Uu(1|l,_,u,h))}function YN(s,l){ty(8390656,8,s,l)}function QN(s,l){bh(2048,8,s,l)}function XN(s,l){return bh(4,2,s,l)}function ZN(s,l){return bh(4,4,s,l)}function JN(s,l){if(typeof l=="function"){s=s();var u=l(s);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function eP(s,l,u){u=u!=null?u.concat([s]):null,bh(4,4,JN.bind(null,l,s),u)}function p_(){}function tP(s,l){var u=Nn();l=l===void 0?null:l;var h=u.memoizedState;return l!==null&&i_(l,h[1])?h[0]:(u.memoizedState=[s,l],s)}function nP(s,l){var u=Nn();l=l===void 0?null:l;var h=u.memoizedState;if(l!==null&&i_(l,h[1]))return h[0];if(h=s(),rc){Rt(!0);try{s()}finally{Rt(!1)}}return u.memoizedState=[h,l],h}function g_(s,l,u){return u===void 0||(yo&1073741824)!==0?s.memoizedState=l:(s.memoizedState=u,s=aO(),et.lanes|=s,Ao|=s,u)}function rP(s,l,u,h){return ei(u,l)?u:Lu.current!==null?(s=g_(s,u,h),ei(s,l)||(Wn=!0),s):(yo&42)===0?(Wn=!0,s.memoizedState=u):(s=aO(),et.lanes|=s,Ao|=s,l)}function iP(s,l,u,h,b){var _=ne.p;ne.p=_!==0&&8>_?_:8;var R=G.T,L={};G.T=L,b_(s,!1,l,u);try{var q=b(),J=G.S;if(J!==null&&J(L,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var le=B8(q,h);xh(s,l,le,ai(s))}else xh(s,l,h,ai(s))}catch(ue){xh(s,l,{then:function(){},status:"rejected",reason:ue},ai())}finally{ne.p=_,G.T=R}}function q8(){}function y_(s,l,u,h){if(s.tag!==5)throw Error(r(476));var b=aP(s).queue;iP(s,b,l,ge,u===null?q8:function(){return sP(s),u(h)})}function aP(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ge},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:u},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function sP(s){var l=aP(s).next.queue;xh(s,l,{},ai())}function v_(){return vr(Vh)}function oP(){return Nn().memoizedState}function lP(){return Nn().memoizedState}function K8(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var u=ai();s=po(u);var h=go(l,s,u);h!==null&&(si(h,l,u),mh(h,l,u)),l={cache:Wx()},s.payload=l;return}l=l.return}}function H8(s,l,u){var h=ai();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ny(s)?uP(l,u):(u=Vx(s,l,u,h),u!==null&&(si(u,s,h),dP(u,l,h)))}function cP(s,l,u){var h=ai();xh(s,l,u,h)}function xh(s,l,u,h){var b={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ny(s))uP(l,b);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var R=l.lastRenderedState,L=_(R,u);if(b.hasEagerState=!0,b.eagerState=L,ei(L,R))return Bg(s,l,b,0),$t===null&&Vg(),!1}catch{}finally{}if(u=Vx(s,l,b,h),u!==null)return si(u,s,h),dP(u,l,h),!0}return!1}function b_(s,l,u,h){if(h={lane:2,revertLane:X_(),action:h,hasEagerState:!1,eagerState:null,next:null},ny(s)){if(l)throw Error(r(479))}else l=Vx(s,u,h,2),l!==null&&si(l,s,2)}function ny(s){var l=s.alternate;return s===et||l!==null&&l===et}function uP(s,l){Vu=Qg=!0;var u=s.pending;u===null?l.next=l:(l.next=u.next,u.next=l),s.pending=l}function dP(s,l,u){if((u&4194048)!==0){var h=l.lanes;h&=s.pendingLanes,u|=h,l.lanes=u,Ff(s,u)}}var ry={readContext:vr,use:Zg,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn},fP={readContext:vr,use:Zg,useCallback:function(s,l){return zr().memoizedState=[s,l===void 0?null:l],s},useContext:vr,useEffect:YN,useImperativeHandle:function(s,l,u){u=u!=null?u.concat([s]):null,ty(4194308,4,JN.bind(null,l,s),u)},useLayoutEffect:function(s,l){return ty(4194308,4,s,l)},useInsertionEffect:function(s,l){ty(4,2,s,l)},useMemo:function(s,l){var u=zr();l=l===void 0?null:l;var h=s();if(rc){Rt(!0);try{s()}finally{Rt(!1)}}return u.memoizedState=[h,l],h},useReducer:function(s,l,u){var h=zr();if(u!==void 0){var b=u(l);if(rc){Rt(!0);try{u(l)}finally{Rt(!1)}}}else b=l;return h.memoizedState=h.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},h.queue=s,s=s.dispatch=H8.bind(null,et,s),[h.memoizedState,s]},useRef:function(s){var l=zr();return s={current:s},l.memoizedState=s},useState:function(s){s=h_(s);var l=s.queue,u=cP.bind(null,et,l);return l.dispatch=u,[s.memoizedState,u]},useDebugValue:p_,useDeferredValue:function(s,l){var u=zr();return g_(u,s,l)},useTransition:function(){var s=h_(!1);return s=iP.bind(null,et,s.queue,!0,!1),zr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,u){var h=et,b=zr();if(_t){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),$t===null)throw Error(r(349));(ft&124)!==0||CN(h,l,u)}b.memoizedState=u;var _={value:u,getSnapshot:l};return b.queue=_,YN(DN.bind(null,h,_,s),[s]),h.flags|=2048,Uu(9,ey(),jN.bind(null,h,_,u,l),null),u},useId:function(){var s=zr(),l=$t.identifierPrefix;if(_t){var u=ms,h=hs;u=(h&~(1<<32-ct(h)-1)).toString(32)+u,l="«"+l+"R"+u,u=Xg++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=U8++,l="«"+l+"r"+u.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:v_,useFormState:qN,useActionState:qN,useOptimistic:function(s){var l=zr();l.memoizedState=l.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=b_.bind(null,et,!0,u),u.dispatch=l,[s,l]},useMemoCache:u_,useCacheRefresh:function(){return zr().memoizedState=K8.bind(null,et)}},hP={readContext:vr,use:Zg,useCallback:tP,useContext:vr,useEffect:QN,useImperativeHandle:eP,useInsertionEffect:XN,useLayoutEffect:ZN,useMemo:nP,useReducer:Jg,useRef:WN,useState:function(){return Jg(ys)},useDebugValue:p_,useDeferredValue:function(s,l){var u=Nn();return rP(u,Ct.memoizedState,s,l)},useTransition:function(){var s=Jg(ys)[0],l=Nn().memoizedState;return[typeof s=="boolean"?s:vh(s),l]},useSyncExternalStore:kN,useId:oP,useHostTransitionStatus:v_,useFormState:KN,useActionState:KN,useOptimistic:function(s,l){var u=Nn();return VN(u,Ct,s,l)},useMemoCache:u_,useCacheRefresh:lP},G8={readContext:vr,use:Zg,useCallback:tP,useContext:vr,useEffect:QN,useImperativeHandle:eP,useInsertionEffect:XN,useLayoutEffect:ZN,useMemo:nP,useReducer:f_,useRef:WN,useState:function(){return f_(ys)},useDebugValue:p_,useDeferredValue:function(s,l){var u=Nn();return Ct===null?g_(u,s,l):rP(u,Ct.memoizedState,s,l)},useTransition:function(){var s=f_(ys)[0],l=Nn().memoizedState;return[typeof s=="boolean"?s:vh(s),l]},useSyncExternalStore:kN,useId:oP,useHostTransitionStatus:v_,useFormState:GN,useActionState:GN,useOptimistic:function(s,l){var u=Nn();return Ct!==null?VN(u,Ct,s,l):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:u_,useCacheRefresh:lP},zu=null,_h=0;function iy(s){var l=_h;return _h+=1,zu===null&&(zu=[]),AN(zu,s,l)}function wh(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ay(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function mP(s){var l=s._init;return l(s._payload)}function pP(s){function l(W,H){if(s){var Z=W.deletions;Z===null?(W.deletions=[H],W.flags|=16):Z.push(H)}}function u(W,H){if(!s)return null;for(;H!==null;)l(W,H),H=H.sibling;return null}function h(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function b(W,H){return W=fs(W,H),W.index=0,W.sibling=null,W}function _(W,H,Z){return W.index=Z,s?(Z=W.alternate,Z!==null?(Z=Z.index,Z<H?(W.flags|=67108866,H):Z):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function R(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function L(W,H,Z,ce){return H===null||H.tag!==6?(H=Ux(Z,W.mode,ce),H.return=W,H):(H=b(H,Z),H.return=W,H)}function q(W,H,Z,ce){var Oe=Z.type;return Oe===A?le(W,H,Z.props.children,ce,Z.key):H!==null&&(H.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===k&&mP(Oe)===H.type)?(H=b(H,Z.props),wh(H,Z),H.return=W,H):(H=zg(Z.type,Z.key,Z.props,null,W.mode,ce),wh(H,Z),H.return=W,H)}function J(W,H,Z,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=zx(Z,W.mode,ce),H.return=W,H):(H=b(H,Z.children||[]),H.return=W,H)}function le(W,H,Z,ce,Oe){return H===null||H.tag!==7?(H=Yl(Z,W.mode,ce,Oe),H.return=W,H):(H=b(H,Z),H.return=W,H)}function ue(W,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ux(""+H,W.mode,Z),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return Z=zg(H.type,H.key,H.props,null,W.mode,Z),wh(Z,H),Z.return=W,Z;case x:return H=zx(H,W.mode,Z),H.return=W,H;case k:var ce=H._init;return H=ce(H._payload),ue(W,H,Z)}if(ve(H)||$(H))return H=Yl(H,W.mode,Z,null),H.return=W,H;if(typeof H.then=="function")return ue(W,iy(H),Z);if(H.$$typeof===j)return ue(W,Kg(W,H),Z);ay(W,H)}return null}function ee(W,H,Z,ce){var Oe=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:L(W,H,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Oe?q(W,H,Z,ce):null;case x:return Z.key===Oe?J(W,H,Z,ce):null;case k:return Oe=Z._init,Z=Oe(Z._payload),ee(W,H,Z,ce)}if(ve(Z)||$(Z))return Oe!==null?null:le(W,H,Z,ce,null);if(typeof Z.then=="function")return ee(W,H,iy(Z),ce);if(Z.$$typeof===j)return ee(W,H,Kg(W,Z),ce);ay(W,Z)}return null}function te(W,H,Z,ce,Oe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return W=W.get(Z)||null,L(H,W,""+ce,Oe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return W=W.get(ce.key===null?Z:ce.key)||null,q(H,W,ce,Oe);case x:return W=W.get(ce.key===null?Z:ce.key)||null,J(H,W,ce,Oe);case k:var tt=ce._init;return ce=tt(ce._payload),te(W,H,Z,ce,Oe)}if(ve(ce)||$(ce))return W=W.get(Z)||null,le(H,W,ce,Oe,null);if(typeof ce.then=="function")return te(W,H,Z,iy(ce),Oe);if(ce.$$typeof===j)return te(W,H,Z,Kg(H,ce),Oe);ay(H,ce)}return null}function Ke(W,H,Z,ce){for(var Oe=null,tt=null,Me=H,qe=H=0,Qn=null;Me!==null&&qe<Z.length;qe++){Me.index>qe?(Qn=Me,Me=null):Qn=Me.sibling;var yt=ee(W,Me,Z[qe],ce);if(yt===null){Me===null&&(Me=Qn);break}s&&Me&&yt.alternate===null&&l(W,Me),H=_(yt,H,qe),tt===null?Oe=yt:tt.sibling=yt,tt=yt,Me=Qn}if(qe===Z.length)return u(W,Me),_t&&Xl(W,qe),Oe;if(Me===null){for(;qe<Z.length;qe++)Me=ue(W,Z[qe],ce),Me!==null&&(H=_(Me,H,qe),tt===null?Oe=Me:tt.sibling=Me,tt=Me);return _t&&Xl(W,qe),Oe}for(Me=h(Me);qe<Z.length;qe++)Qn=te(Me,W,qe,Z[qe],ce),Qn!==null&&(s&&Qn.alternate!==null&&Me.delete(Qn.key===null?qe:Qn.key),H=_(Qn,H,qe),tt===null?Oe=Qn:tt.sibling=Qn,tt=Qn);return s&&Me.forEach(function(Co){return l(W,Co)}),_t&&Xl(W,qe),Oe}function ze(W,H,Z,ce){if(Z==null)throw Error(r(151));for(var Oe=null,tt=null,Me=H,qe=H=0,Qn=null,yt=Z.next();Me!==null&&!yt.done;qe++,yt=Z.next()){Me.index>qe?(Qn=Me,Me=null):Qn=Me.sibling;var Co=ee(W,Me,yt.value,ce);if(Co===null){Me===null&&(Me=Qn);break}s&&Me&&Co.alternate===null&&l(W,Me),H=_(Co,H,qe),tt===null?Oe=Co:tt.sibling=Co,tt=Co,Me=Qn}if(yt.done)return u(W,Me),_t&&Xl(W,qe),Oe;if(Me===null){for(;!yt.done;qe++,yt=Z.next())yt=ue(W,yt.value,ce),yt!==null&&(H=_(yt,H,qe),tt===null?Oe=yt:tt.sibling=yt,tt=yt);return _t&&Xl(W,qe),Oe}for(Me=h(Me);!yt.done;qe++,yt=Z.next())yt=te(Me,W,qe,yt.value,ce),yt!==null&&(s&&yt.alternate!==null&&Me.delete(yt.key===null?qe:yt.key),H=_(yt,H,qe),tt===null?Oe=yt:tt.sibling=yt,tt=yt);return s&&Me.forEach(function(WF){return l(W,WF)}),_t&&Xl(W,qe),Oe}function Dt(W,H,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Oe=Z.key;H!==null;){if(H.key===Oe){if(Oe=Z.type,Oe===A){if(H.tag===7){u(W,H.sibling),ce=b(H,Z.props.children),ce.return=W,W=ce;break e}}else if(H.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===k&&mP(Oe)===H.type){u(W,H.sibling),ce=b(H,Z.props),wh(ce,Z),ce.return=W,W=ce;break e}u(W,H);break}else l(W,H);H=H.sibling}Z.type===A?(ce=Yl(Z.props.children,W.mode,ce,Z.key),ce.return=W,W=ce):(ce=zg(Z.type,Z.key,Z.props,null,W.mode,ce),wh(ce,Z),ce.return=W,W=ce)}return R(W);case x:e:{for(Oe=Z.key;H!==null;){if(H.key===Oe)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){u(W,H.sibling),ce=b(H,Z.children||[]),ce.return=W,W=ce;break e}else{u(W,H);break}else l(W,H);H=H.sibling}ce=zx(Z,W.mode,ce),ce.return=W,W=ce}return R(W);case k:return Oe=Z._init,Z=Oe(Z._payload),Dt(W,H,Z,ce)}if(ve(Z))return Ke(W,H,Z,ce);if($(Z)){if(Oe=$(Z),typeof Oe!="function")throw Error(r(150));return Z=Oe.call(Z),ze(W,H,Z,ce)}if(typeof Z.then=="function")return Dt(W,H,iy(Z),ce);if(Z.$$typeof===j)return Dt(W,H,Kg(W,Z),ce);ay(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(u(W,H.sibling),ce=b(H,Z),ce.return=W,W=ce):(u(W,H),ce=Ux(Z,W.mode,ce),ce.return=W,W=ce),R(W)):u(W,H)}return function(W,H,Z,ce){try{_h=0;var Oe=Dt(W,H,Z,ce);return zu=null,Oe}catch(Me){if(Me===fh||Me===Gg)throw Me;var tt=ti(29,Me,null,W.mode);return tt.lanes=ce,tt.return=W,tt}finally{}}}var Fu=pP(!0),gP=pP(!1),Pi=oe(null),ba=null;function vo(s){var l=s.alternate;fe(Bn,Bn.current&1),fe(Pi,s),ba===null&&(l===null||Lu.current!==null||l.memoizedState!==null)&&(ba=s)}function yP(s){if(s.tag===22){if(fe(Bn,Bn.current),fe(Pi,s),ba===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ba=s)}}else bo()}function bo(){fe(Bn,Bn.current),fe(Pi,Pi.current)}function vs(s){ae(Pi),ba===s&&(ba=null),ae(Bn)}var Bn=oe(0);function sy(s){for(var l=s;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||cw(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function x_(s,l,u,h){l=s.memoizedState,u=u(h,l),u=u==null?l:m({},l,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var __={enqueueSetState:function(s,l,u){s=s._reactInternals;var h=ai(),b=po(h);b.payload=l,u!=null&&(b.callback=u),l=go(s,b,h),l!==null&&(si(l,s,h),mh(l,s,h))},enqueueReplaceState:function(s,l,u){s=s._reactInternals;var h=ai(),b=po(h);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=go(s,b,h),l!==null&&(si(l,s,h),mh(l,s,h))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var u=ai(),h=po(u);h.tag=2,l!=null&&(h.callback=l),l=go(s,h,u),l!==null&&(si(l,s,u),mh(l,s,u))}};function vP(s,l,u,h,b,_,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,R):l.prototype&&l.prototype.isPureReactComponent?!ih(u,h)||!ih(b,_):!0}function bP(s,l,u,h){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==s&&__.enqueueReplaceState(l,l.state,null)}function ic(s,l){var u=l;if("ref"in l){u={};for(var h in l)h!=="ref"&&(u[h]=l[h])}if(s=s.defaultProps){u===l&&(u=m({},u));for(var b in s)u[b]===void 0&&(u[b]=s[b])}return u}var oy=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function xP(s){oy(s)}function _P(s){console.error(s)}function wP(s){oy(s)}function ly(s,l){try{var u=s.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function EP(s,l,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function w_(s,l,u){return u=po(u),u.tag=3,u.payload={element:null},u.callback=function(){ly(s,l)},u}function AP(s){return s=po(s),s.tag=3,s}function TP(s,l,u,h){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var _=h.value;s.payload=function(){return b(_)},s.callback=function(){EP(l,u,h)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){EP(l,u,h),typeof b!="function"&&(To===null?To=new Set([this]):To.add(this));var L=h.stack;this.componentDidCatch(h.value,{componentStack:L!==null?L:""})})}function W8(s,l,u,h,b){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=u.alternate,l!==null&&ch(l,u,b,!0),u=Pi.current,u!==null){switch(u.tag){case 13:return ba===null?H_():u.alternate===null&&fn===0&&(fn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,h===Xx?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([h]):l.add(h),W_(s,h,b)),!1;case 22:return u.flags|=65536,h===Xx?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([h]):u.add(h)),W_(s,h,b)),!1}throw Error(r(435,u.tag))}return W_(s,h,b),H_(),!1}if(_t)return l=Pi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,h!==qx&&(s=Error(r(422),{cause:h}),lh(Ti(s,u)))):(h!==qx&&(l=Error(r(423),{cause:h}),lh(Ti(l,u))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,h=Ti(h,u),b=w_(s.stateNode,h,b),e_(s,b),fn!==4&&(fn=2)),!1;var _=Error(r(520),{cause:h});if(_=Ti(_,u),Ph===null?Ph=[_]:Ph.push(_),fn!==4&&(fn=2),l===null)return!0;h=Ti(h,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,s=b&-b,u.lanes|=s,s=w_(u.stateNode,h,s),e_(u,s),!1;case 1:if(l=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(To===null||!To.has(_))))return u.flags|=65536,b&=-b,u.lanes|=b,b=AP(b),TP(b,s,u,h),e_(u,b),!1}u=u.return}while(u!==null);return!1}var SP=Error(r(461)),Wn=!1;function lr(s,l,u,h){l.child=s===null?gP(l,null,u,h):Fu(l,s.child,u,h)}function IP(s,l,u,h,b){u=u.render;var _=l.ref;if("ref"in h){var R={};for(var L in h)L!=="ref"&&(R[L]=h[L])}else R=h;return tc(l),h=a_(s,l,u,R,_,b),L=s_(),s!==null&&!Wn?(o_(s,l,b),bs(s,l,b)):(_t&&L&&Fx(l),l.flags|=1,lr(s,l,h,b),l.child)}function NP(s,l,u,h,b){if(s===null){var _=u.type;return typeof _=="function"&&!Bx(_)&&_.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=_,PP(s,l,_,h,b)):(s=zg(u.type,null,h,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(_=s.child,!O_(s,b)){var R=_.memoizedProps;if(u=u.compare,u=u!==null?u:ih,u(R,h)&&s.ref===l.ref)return bs(s,l,b)}return l.flags|=1,s=fs(_,h),s.ref=l.ref,s.return=l,l.child=s}function PP(s,l,u,h,b){if(s!==null){var _=s.memoizedProps;if(ih(_,h)&&s.ref===l.ref)if(Wn=!1,l.pendingProps=h=_,O_(s,b))(s.flags&131072)!==0&&(Wn=!0);else return l.lanes=s.lanes,bs(s,l,b)}return E_(s,l,u,h,b)}function OP(s,l,u){var h=l.pendingProps,b=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((l.flags&128)!==0){if(h=_!==null?_.baseLanes|u:u,s!==null){for(b=l.child=s.child,_=0;b!==null;)_=_|b.lanes|b.childLanes,b=b.sibling;l.childLanes=_&~h}else l.childLanes=0,l.child=null;return RP(s,l,h,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Hg(l,_!==null?_.cachePool:null),_!==null?PN(l,_):n_(),yP(l);else return l.lanes=l.childLanes=536870912,RP(s,l,_!==null?_.baseLanes|u:u,u)}else _!==null?(Hg(l,_.cachePool),PN(l,_),bo(),l.memoizedState=null):(s!==null&&Hg(l,null),n_(),bo());return lr(s,l,b,u),l.child}function RP(s,l,u,h){var b=Qx();return b=b===null?null:{parent:Vn._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},s!==null&&Hg(l,null),n_(),yP(l),s!==null&&ch(s,l,h,!0),null}function cy(s,l){var u=l.ref;if(u===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(l.flags|=4194816)}}function E_(s,l,u,h,b){return tc(l),u=a_(s,l,u,h,void 0,b),h=s_(),s!==null&&!Wn?(o_(s,l,b),bs(s,l,b)):(_t&&h&&Fx(l),l.flags|=1,lr(s,l,u,b),l.child)}function kP(s,l,u,h,b,_){return tc(l),l.updateQueue=null,u=RN(l,h,u,b),ON(s),h=s_(),s!==null&&!Wn?(o_(s,l,_),bs(s,l,_)):(_t&&h&&Fx(l),l.flags|=1,lr(s,l,u,_),l.child)}function CP(s,l,u,h,b){if(tc(l),l.stateNode===null){var _=ku,R=u.contextType;typeof R=="object"&&R!==null&&(_=vr(R)),_=new u(h,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=__,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=h,_.state=l.memoizedState,_.refs={},Zx(l),R=u.contextType,_.context=typeof R=="object"&&R!==null?vr(R):ku,_.state=l.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(x_(l,u,R,h),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&__.enqueueReplaceState(_,_.state,null),gh(l,h,_,b),ph(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(s===null){_=l.stateNode;var L=l.memoizedProps,q=ic(u,L);_.props=q;var J=_.context,le=u.contextType;R=ku,typeof le=="object"&&le!==null&&(R=vr(le));var ue=u.getDerivedStateFromProps;le=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L||J!==R)&&bP(l,_,h,R),mo=!1;var ee=l.memoizedState;_.state=ee,gh(l,h,_,b),ph(),J=l.memoizedState,L||ee!==J||mo?(typeof ue=="function"&&(x_(l,u,ue,h),J=l.memoizedState),(q=mo||vP(l,u,q,h,ee,J,R))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=J),_.props=h,_.state=J,_.context=R,h=q):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{_=l.stateNode,Jx(s,l),R=l.memoizedProps,le=ic(u,R),_.props=le,ue=l.pendingProps,ee=_.context,J=u.contextType,q=ku,typeof J=="object"&&J!==null&&(q=vr(J)),L=u.getDerivedStateFromProps,(J=typeof L=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==ue||ee!==q)&&bP(l,_,h,q),mo=!1,ee=l.memoizedState,_.state=ee,gh(l,h,_,b),ph();var te=l.memoizedState;R!==ue||ee!==te||mo||s!==null&&s.dependencies!==null&&qg(s.dependencies)?(typeof L=="function"&&(x_(l,u,L,h),te=l.memoizedState),(le=mo||vP(l,u,le,h,ee,te,q)||s!==null&&s.dependencies!==null&&qg(s.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,te,q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,te,q)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=te),_.props=h,_.state=te,_.context=q,h=le):(typeof _.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),h=!1)}return _=h,cy(s,l),h=(l.flags&128)!==0,_||h?(_=l.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,s!==null&&h?(l.child=Fu(l,s.child,null,b),l.child=Fu(l,null,u,b)):lr(s,l,u,b),l.memoizedState=_.state,s=l.child):s=bs(s,l,b),s}function jP(s,l,u,h){return oh(),l.flags|=256,lr(s,l,u,h),l.child}var A_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T_(s){return{baseLanes:s,cachePool:_N()}}function S_(s,l,u){return s=s!==null?s.childLanes&~u:0,l&&(s|=Oi),s}function DP(s,l,u){var h=l.pendingProps,b=!1,_=(l.flags&128)!==0,R;if((R=_)||(R=s!==null&&s.memoizedState===null?!1:(Bn.current&2)!==0),R&&(b=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,s===null){if(_t){if(b?vo(l):bo(),_t){var L=dn,q;if(q=L){e:{for(q=L,L=va;q.nodeType!==8;){if(!L){L=null;break e}if(q=Yi(q.nextSibling),q===null){L=null;break e}}L=q}L!==null?(l.memoizedState={dehydrated:L,treeContext:Ql!==null?{id:hs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},q=ti(18,null,null,0),q.stateNode=L,q.return=l,l.child=q,Rr=l,dn=null,q=!0):q=!1}q||Jl(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return cw(L)?l.lanes=32:l.lanes=536870912,null;vs(l)}return L=h.children,h=h.fallback,b?(bo(),b=l.mode,L=uy({mode:"hidden",children:L},b),h=Yl(h,b,u,null),L.return=l,h.return=l,L.sibling=h,l.child=L,b=l.child,b.memoizedState=T_(u),b.childLanes=S_(s,R,u),l.memoizedState=A_,h):(vo(l),I_(l,L))}if(q=s.memoizedState,q!==null&&(L=q.dehydrated,L!==null)){if(_)l.flags&256?(vo(l),l.flags&=-257,l=N_(s,l,u)):l.memoizedState!==null?(bo(),l.child=s.child,l.flags|=128,l=null):(bo(),b=h.fallback,L=l.mode,h=uy({mode:"visible",children:h.children},L),b=Yl(b,L,u,null),b.flags|=2,h.return=l,b.return=l,h.sibling=b,l.child=h,Fu(l,s.child,null,u),h=l.child,h.memoizedState=T_(u),h.childLanes=S_(s,R,u),l.memoizedState=A_,l=b);else if(vo(l),cw(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var J=R.dgst;R=J,h=Error(r(419)),h.stack="",h.digest=R,lh({value:h,source:null,stack:null}),l=N_(s,l,u)}else if(Wn||ch(s,l,u,!1),R=(u&s.childLanes)!==0,Wn||R){if(R=$t,R!==null&&(h=u&-u,h=(h&42)!==0?1:ao(h),h=(h&(R.suspendedLanes|u))!==0?0:h,h!==0&&h!==q.retryLane))throw q.retryLane=h,Ru(s,h),si(R,s,h),SP;L.data==="$?"||H_(),l=N_(s,l,u)}else L.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=q.treeContext,dn=Yi(L.nextSibling),Rr=l,_t=!0,Zl=null,va=!1,s!==null&&(Ii[Ni++]=hs,Ii[Ni++]=ms,Ii[Ni++]=Ql,hs=s.id,ms=s.overflow,Ql=l),l=I_(l,h.children),l.flags|=4096);return l}return b?(bo(),b=h.fallback,L=l.mode,q=s.child,J=q.sibling,h=fs(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,J!==null?b=fs(J,b):(b=Yl(b,L,u,null),b.flags|=2),b.return=l,h.return=l,h.sibling=b,l.child=h,h=b,b=l.child,L=s.child.memoizedState,L===null?L=T_(u):(q=L.cachePool,q!==null?(J=Vn._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=_N(),L={baseLanes:L.baseLanes|u,cachePool:q}),b.memoizedState=L,b.childLanes=S_(s,R,u),l.memoizedState=A_,h):(vo(l),u=s.child,s=u.sibling,u=fs(u,{mode:"visible",children:h.children}),u.return=l,u.sibling=null,s!==null&&(R=l.deletions,R===null?(l.deletions=[s],l.flags|=16):R.push(s)),l.child=u,l.memoizedState=null,u)}function I_(s,l){return l=uy({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function uy(s,l){return s=ti(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function N_(s,l,u){return Fu(l,s.child,null,u),s=I_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function MP(s,l,u){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l),Hx(s.return,l,u)}function P_(s,l,u,h,b){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:b}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=u,_.tailMode=b)}function LP(s,l,u){var h=l.pendingProps,b=h.revealOrder,_=h.tail;if(lr(s,l,h.children,u),h=Bn.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&MP(s,u,l);else if(s.tag===19)MP(s,u,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(fe(Bn,h),b){case"forwards":for(u=l.child,b=null;u!==null;)s=u.alternate,s!==null&&sy(s)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),P_(l,!1,b,u,_);break;case"backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&sy(s)===null){l.child=b;break}s=b.sibling,b.sibling=u,u=b,b=s}P_(l,!0,u,null,_);break;case"together":P_(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function bs(s,l,u){if(s!==null&&(l.dependencies=s.dependencies),Ao|=l.lanes,(u&l.childLanes)===0)if(s!==null){if(ch(s,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,u=fs(s,s.pendingProps),l.child=u,u.return=l;s.sibling!==null;)s=s.sibling,u=u.sibling=fs(s,s.pendingProps),u.return=l;u.sibling=null}return l.child}function O_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&qg(s)))}function Y8(s,l,u){switch(l.tag){case 3:mt(l,l.stateNode.containerInfo),ho(l,Vn,s.memoizedState.cache),oh();break;case 27:case 5:Fe(l);break;case 4:mt(l,l.stateNode.containerInfo);break;case 10:ho(l,l.type,l.memoizedProps.value);break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(vo(l),l.flags|=128,null):(u&l.child.childLanes)!==0?DP(s,l,u):(vo(l),s=bs(s,l,u),s!==null?s.sibling:null);vo(l);break;case 19:var b=(s.flags&128)!==0;if(h=(u&l.childLanes)!==0,h||(ch(s,l,u,!1),h=(u&l.childLanes)!==0),b){if(h)return LP(s,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),fe(Bn,Bn.current),h)break;return null;case 22:case 23:return l.lanes=0,OP(s,l,u);case 24:ho(l,Vn,s.memoizedState.cache)}return bs(s,l,u)}function VP(s,l,u){if(s!==null)if(s.memoizedProps!==l.pendingProps)Wn=!0;else{if(!O_(s,u)&&(l.flags&128)===0)return Wn=!1,Y8(s,l,u);Wn=(s.flags&131072)!==0}else Wn=!1,_t&&(l.flags&1048576)!==0&&mN(l,$g,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var h=l.elementType,b=h._init;if(h=b(h._payload),l.type=h,typeof h=="function")Bx(h)?(s=ic(h,s),l.tag=1,l=CP(null,l,h,s,u)):(l.tag=0,l=E_(null,l,h,s,u));else{if(h!=null){if(b=h.$$typeof,b===M){l.tag=11,l=IP(null,l,h,s,u);break e}else if(b===I){l.tag=14,l=NP(null,l,h,s,u);break e}}throw l=he(h)||h,Error(r(306,l,""))}}return l;case 0:return E_(s,l,l.type,l.pendingProps,u);case 1:return h=l.type,b=ic(h,l.pendingProps),CP(s,l,h,b,u);case 3:e:{if(mt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));h=l.pendingProps;var _=l.memoizedState;b=_.element,Jx(s,l),gh(l,h,null,u);var R=l.memoizedState;if(h=R.cache,ho(l,Vn,h),h!==_.cache&&Gx(l,[Vn],u,!0),ph(),h=R.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=jP(s,l,h,u);break e}else if(h!==b){b=Ti(Error(r(424)),l),lh(b),l=jP(s,l,h,u);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(dn=Yi(s.firstChild),Rr=l,_t=!0,Zl=null,va=!0,u=gP(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(oh(),h===b){l=bs(s,l,u);break e}lr(s,l,h,u)}l=l.child}return l;case 26:return cy(s,l),s===null?(u=FO(l.type,null,l.pendingProps,null))?l.memoizedState=u:_t||(u=l.type,s=l.pendingProps,h=Ay(Ve.current).createElement(u),h[Dn]=l,h[Tn]=s,ur(h,u,s),yn(h),l.stateNode=h):l.memoizedState=FO(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Fe(l),s===null&&_t&&(h=l.stateNode=BO(l.type,l.pendingProps,Ve.current),Rr=l,va=!0,b=dn,No(l.type)?(uw=b,dn=Yi(h.firstChild)):dn=b),lr(s,l,l.pendingProps.children,u),cy(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&_t&&((b=h=dn)&&(h=EF(h,l.type,l.pendingProps,va),h!==null?(l.stateNode=h,Rr=l,dn=Yi(h.firstChild),va=!1,b=!0):b=!1),b||Jl(l)),Fe(l),b=l.type,_=l.pendingProps,R=s!==null?s.memoizedProps:null,h=_.children,sw(b,_)?h=null:R!==null&&sw(b,R)&&(l.flags|=32),l.memoizedState!==null&&(b=a_(s,l,z8,null,null,u),Vh._currentValue=b),cy(s,l),lr(s,l,h,u),l.child;case 6:return s===null&&_t&&((s=u=dn)&&(u=AF(u,l.pendingProps,va),u!==null?(l.stateNode=u,Rr=l,dn=null,s=!0):s=!1),s||Jl(l)),null;case 13:return DP(s,l,u);case 4:return mt(l,l.stateNode.containerInfo),h=l.pendingProps,s===null?l.child=Fu(l,null,h,u):lr(s,l,h,u),l.child;case 11:return IP(s,l,l.type,l.pendingProps,u);case 7:return lr(s,l,l.pendingProps,u),l.child;case 8:return lr(s,l,l.pendingProps.children,u),l.child;case 12:return lr(s,l,l.pendingProps.children,u),l.child;case 10:return h=l.pendingProps,ho(l,l.type,h.value),lr(s,l,h.children,u),l.child;case 9:return b=l.type._context,h=l.pendingProps.children,tc(l),b=vr(b),h=h(b),l.flags|=1,lr(s,l,h,u),l.child;case 14:return NP(s,l,l.type,l.pendingProps,u);case 15:return PP(s,l,l.type,l.pendingProps,u);case 19:return LP(s,l,u);case 31:return h=l.pendingProps,u=l.mode,h={mode:h.mode,children:h.children},s===null?(u=uy(h,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=fs(s.child,h),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return OP(s,l,u);case 24:return tc(l),h=vr(Vn),s===null?(b=Qx(),b===null&&(b=$t,_=Wx(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=u),b=_),l.memoizedState={parent:h,cache:b},Zx(l),ho(l,Vn,b)):((s.lanes&u)!==0&&(Jx(s,l),gh(l,null,null,u),ph()),b=s.memoizedState,_=l.memoizedState,b.parent!==h?(b={parent:h,cache:h},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),ho(l,Vn,h)):(h=_.cache,ho(l,Vn,h),h!==b.cache&&Gx(l,[Vn],u,!0))),lr(s,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function xs(s){s.flags|=4}function BP(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!GO(l)){if(l=Pi.current,l!==null&&((ft&4194048)===ft?ba!==null:(ft&62914560)!==ft&&(ft&536870912)===0||l!==ba))throw hh=Xx,wN;s.flags|=8192}}function dy(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Uf():536870912,s.lanes|=l,Hu|=l)}function Eh(s,l){if(!_t)switch(s.tailMode){case"hidden":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function on(s){var l=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(l)for(var b=s.child;b!==null;)u|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)u|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=h,s.childLanes=u,l}function Q8(s,l,u){var h=l.pendingProps;switch($x(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(l),null;case 1:return on(l),null;case 3:return u=l.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),gs(Vn),we(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(sh(l)?xs(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yN())),on(l),null;case 26:return u=l.memoizedState,s===null?(xs(l),u!==null?(on(l),BP(l,u)):(on(l),l.flags&=-16777217)):u?u!==s.memoizedState?(xs(l),on(l),BP(l,u)):(on(l),l.flags&=-16777217):(s.memoizedProps!==h&&xs(l),on(l),l.flags&=-16777217),null;case 27:He(l),u=Ve.current;var b=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==h&&xs(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return on(l),null}s=Ne.current,sh(l)?pN(l):(s=BO(b,h,u),l.stateNode=s,xs(l))}return on(l),null;case 5:if(He(l),u=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==h&&xs(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return on(l),null}if(s=Ne.current,sh(l))pN(l);else{switch(b=Ay(Ve.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?b.createElement("select",{is:h.is}):b.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?b.createElement(u,{is:h.is}):b.createElement(u)}}s[Dn]=l,s[Tn]=h;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=s;e:switch(ur(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&xs(l)}}return on(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==h&&xs(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ve.current,sh(l)){if(s=l.stateNode,u=l.memoizedProps,h=null,b=Rr,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}s[Dn]=l,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||kO(s.nodeValue,u)),s||Jl(l)}else s=Ay(s).createTextNode(h),s[Dn]=l,l.stateNode=s}return on(l),null;case 13:if(h=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=sh(l),h!==null&&h.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Dn]=l}else oh(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;on(l),b=!1}else b=yN(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(vs(l),l):(vs(l),null)}if(vs(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=l.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==b&&(h.flags|=2048)}return u!==s&&u&&(l.child.flags|=8192),dy(l,l.updateQueue),on(l),null;case 4:return we(),s===null&&tw(l.stateNode.containerInfo),on(l),null;case 10:return gs(l.type),on(l),null;case 19:if(ae(Bn),b=l.memoizedState,b===null)return on(l),null;if(h=(l.flags&128)!==0,_=b.rendering,_===null)if(h)Eh(b,!1);else{if(fn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(_=sy(s),_!==null){for(l.flags|=128,Eh(b,!1),s=_.updateQueue,l.updateQueue=s,dy(l,s),l.subtreeFlags=0,s=u,u=l.child;u!==null;)hN(u,s),u=u.sibling;return fe(Bn,Bn.current&1|2),l.child}s=s.sibling}b.tail!==null&&ie()>my&&(l.flags|=128,h=!0,Eh(b,!1),l.lanes=4194304)}else{if(!h)if(s=sy(_),s!==null){if(l.flags|=128,h=!0,s=s.updateQueue,l.updateQueue=s,dy(l,s),Eh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!_t)return on(l),null}else 2*ie()-b.renderingStartTime>my&&u!==536870912&&(l.flags|=128,h=!0,Eh(b,!1),l.lanes=4194304);b.isBackwards?(_.sibling=l.child,l.child=_):(s=b.last,s!==null?s.sibling=_:l.child=_,b.last=_)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=ie(),l.sibling=null,s=Bn.current,fe(Bn,h?s&1|2:s&1),l):(on(l),null);case 22:case 23:return vs(l),r_(),h=l.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(u&536870912)!==0&&(l.flags&128)===0&&(on(l),l.subtreeFlags&6&&(l.flags|=8192)):on(l),u=l.updateQueue,u!==null&&dy(l,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048),s!==null&&ae(nc),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),gs(Vn),on(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function X8(s,l){switch($x(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return gs(Vn),we(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return He(l),null;case 13:if(vs(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));oh()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ae(Bn),null;case 4:return we(),null;case 10:return gs(l.type),null;case 22:case 23:return vs(l),r_(),s!==null&&ae(nc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return gs(Vn),null;case 25:return null;default:return null}}function UP(s,l){switch($x(l),l.tag){case 3:gs(Vn),we();break;case 26:case 27:case 5:He(l);break;case 4:we();break;case 13:vs(l);break;case 19:ae(Bn);break;case 10:gs(l.type);break;case 22:case 23:vs(l),r_(),s!==null&&ae(nc);break;case 24:gs(Vn)}}function Ah(s,l){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var b=h.next;u=b;do{if((u.tag&s)===s){h=void 0;var _=u.create,R=u.inst;h=_(),R.destroy=h}u=u.next}while(u!==b)}}catch(L){Vt(l,l.return,L)}}function xo(s,l,u){try{var h=l.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var _=b.next;h=_;do{if((h.tag&s)===s){var R=h.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,b=l;var q=u,J=L;try{J()}catch(le){Vt(b,q,le)}}}h=h.next}while(h!==_)}}catch(le){Vt(l,l.return,le)}}function zP(s){var l=s.updateQueue;if(l!==null){var u=s.stateNode;try{NN(l,u)}catch(h){Vt(s,s.return,h)}}}function FP(s,l,u){u.props=ic(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){Vt(s,l,h)}}function Th(s,l){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(b){Vt(s,l,b)}}function xa(s,l){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(b){Vt(s,l,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Vt(s,l,b)}else u.current=null}function $P(s){var l=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(b){Vt(s,s.return,b)}}function R_(s,l,u){try{var h=s.stateNode;vF(h,s.type,u,l),h[Tn]=l}catch(b){Vt(s,s.return,b)}}function qP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&No(s.type)||s.tag===4}function k_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&No(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function C_(s,l,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(s),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Ey));else if(h!==4&&(h===27&&No(s.type)&&(u=s.stateNode,l=null),s=s.child,s!==null))for(C_(s,l,u),s=s.sibling;s!==null;)C_(s,l,u),s=s.sibling}function fy(s,l,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?u.insertBefore(s,l):u.appendChild(s);else if(h!==4&&(h===27&&No(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(fy(s,l,u),s=s.sibling;s!==null;)fy(s,l,u),s=s.sibling}function KP(s){var l=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);ur(l,h,u),l[Dn]=s,l[Tn]=u}catch(_){Vt(s,s.return,_)}}var _s=!1,bn=!1,j_=!1,HP=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function Z8(s,l){if(s=s.containerInfo,iw=Oy,s=rN(s),kx(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var b=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var R=0,L=-1,q=-1,J=0,le=0,ue=s,ee=null;t:for(;;){for(var te;ue!==u||b!==0&&ue.nodeType!==3||(L=R+b),ue!==_||h!==0&&ue.nodeType!==3||(q=R+h),ue.nodeType===3&&(R+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===s)break t;if(ee===u&&++J===b&&(L=R),ee===_&&++le===h&&(q=R),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}u=L===-1||q===-1?null:{start:L,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(aw={focusedElem:s,selectionRange:u},Oy=!1,Yn=l;Yn!==null;)if(l=Yn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Yn=s;else for(;Yn!==null;){switch(l=Yn,_=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,u=l,b=_.memoizedProps,_=_.memoizedState,h=u.stateNode;try{var Ke=ic(u.type,b,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(Ke,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(ze){Vt(u,u.return,ze)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,u=s.nodeType,u===9)lw(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":lw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Yn=s;break}Yn=l.return}}function GP(s,l,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:_o(s,u),h&4&&Ah(5,u);break;case 1:if(_o(s,u),h&4)if(s=u.stateNode,l===null)try{s.componentDidMount()}catch(R){Vt(u,u.return,R)}else{var b=ic(u.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(b,l,s.__reactInternalSnapshotBeforeUpdate)}catch(R){Vt(u,u.return,R)}}h&64&&zP(u),h&512&&Th(u,u.return);break;case 3:if(_o(s,u),h&64&&(s=u.updateQueue,s!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{NN(s,l)}catch(R){Vt(u,u.return,R)}}break;case 27:l===null&&h&4&&KP(u);case 26:case 5:_o(s,u),l===null&&h&4&&$P(u),h&512&&Th(u,u.return);break;case 12:_o(s,u);break;case 13:_o(s,u),h&4&&QP(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=oF.bind(null,u),TF(s,u))));break;case 22:if(h=u.memoizedState!==null||_s,!h){l=l!==null&&l.memoizedState!==null||bn,b=_s;var _=bn;_s=h,(bn=l)&&!_?wo(s,u,(u.subtreeFlags&8772)!==0):_o(s,u),_s=b,bn=_}break;case 30:break;default:_o(s,u)}}function WP(s){var l=s.alternate;l!==null&&(s.alternate=null,WP(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&lo(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,Fr=!1;function ws(s,l,u){for(u=u.child;u!==null;)YP(s,l,u),u=u.sibling}function YP(s,l,u){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(We,u)}catch{}switch(u.tag){case 26:bn||xa(u,l),ws(s,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:bn||xa(u,l);var h=Jt,b=Fr;No(u.type)&&(Jt=u.stateNode,Fr=!1),ws(s,l,u),jh(u.stateNode),Jt=h,Fr=b;break;case 5:bn||xa(u,l);case 6:if(h=Jt,b=Fr,Jt=null,ws(s,l,u),Jt=h,Fr=b,Jt!==null)if(Fr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(_){Vt(u,l,_)}else try{Jt.removeChild(u.stateNode)}catch(_){Vt(u,l,_)}break;case 18:Jt!==null&&(Fr?(s=Jt,LO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Fh(s)):LO(Jt,u.stateNode));break;case 4:h=Jt,b=Fr,Jt=u.stateNode.containerInfo,Fr=!0,ws(s,l,u),Jt=h,Fr=b;break;case 0:case 11:case 14:case 15:bn||xo(2,u,l),bn||xo(4,u,l),ws(s,l,u);break;case 1:bn||(xa(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"&&FP(u,l,h)),ws(s,l,u);break;case 21:ws(s,l,u);break;case 22:bn=(h=bn)||u.memoizedState!==null,ws(s,l,u),bn=h;break;default:ws(s,l,u)}}function QP(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fh(s)}catch(u){Vt(l,l.return,u)}}function J8(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new HP),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new HP),l;default:throw Error(r(435,s.tag))}}function D_(s,l){var u=J8(s);l.forEach(function(h){var b=lF.bind(null,s,h);u.has(h)||(u.add(h),h.then(b,b))})}function ni(s,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var b=u[h],_=s,R=l,L=R;e:for(;L!==null;){switch(L.tag){case 27:if(No(L.type)){Jt=L.stateNode,Fr=!1;break e}break;case 5:Jt=L.stateNode,Fr=!1;break e;case 3:case 4:Jt=L.stateNode.containerInfo,Fr=!0;break e}L=L.return}if(Jt===null)throw Error(r(160));YP(_,R,b),Jt=null,Fr=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)XP(l,s),l=l.sibling}var Wi=null;function XP(s,l){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ni(l,s),ri(s),h&4&&(xo(3,s,s.return),Ah(3,s),xo(5,s,s.return));break;case 1:ni(l,s),ri(s),h&512&&(bn||u===null||xa(u,u.return)),h&64&&_s&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var b=Wi;if(ni(l,s),ri(s),h&512&&(bn||u===null||xa(u,u.return)),h&4){var _=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":_=b.getElementsByTagName("title")[0],(!_||_[Cl]||_[Dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(h),b.head.insertBefore(_,b.querySelector("head > title"))),ur(_,h,u),_[Dn]=s,yn(_),h=_;break e;case"link":var R=KO("link","href",b).get(h+(u.href||""));if(R){for(var L=0;L<R.length;L++)if(_=R[L],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(L,1);break t}}_=b.createElement(h),ur(_,h,u),b.head.appendChild(_);break;case"meta":if(R=KO("meta","content",b).get(h+(u.content||""))){for(L=0;L<R.length;L++)if(_=R[L],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(L,1);break t}}_=b.createElement(h),ur(_,h,u),b.head.appendChild(_);break;default:throw Error(r(468,h))}_[Dn]=s,yn(_),h=_}s.stateNode=h}else HO(b,s.type,s.stateNode);else s.stateNode=qO(b,h,s.memoizedProps);else _!==h?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,h===null?HO(b,s.type,s.stateNode):qO(b,h,s.memoizedProps)):h===null&&s.stateNode!==null&&R_(s,s.memoizedProps,u.memoizedProps)}break;case 27:ni(l,s),ri(s),h&512&&(bn||u===null||xa(u,u.return)),u!==null&&h&4&&R_(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ni(l,s),ri(s),h&512&&(bn||u===null||xa(u,u.return)),s.flags&32){b=s.stateNode;try{_i(b,"")}catch(te){Vt(s,s.return,te)}}h&4&&s.stateNode!=null&&(b=s.memoizedProps,R_(s,b,u!==null?u.memoizedProps:b)),h&1024&&(j_=!0);break;case 6:if(ni(l,s),ri(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(te){Vt(s,s.return,te)}}break;case 3:if(Iy=null,b=Wi,Wi=Ty(l.containerInfo),ni(l,s),Wi=b,ri(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Fh(l.containerInfo)}catch(te){Vt(s,s.return,te)}j_&&(j_=!1,ZP(s));break;case 4:h=Wi,Wi=Ty(s.stateNode.containerInfo),ni(l,s),ri(s),Wi=h;break;case 12:ni(l,s),ri(s);break;case 13:ni(l,s),ri(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(z_=ie()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,D_(s,h)));break;case 22:b=s.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,J=_s,le=bn;if(_s=J||b,bn=le||q,ni(l,s),bn=le,_s=J,ri(s),h&8192)e:for(l=s.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(u===null||q||_s||bn||ac(s)),u=null,l=s;;){if(l.tag===5||l.tag===26){if(u===null){q=u=l;try{if(_=q.stateNode,b)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Vt(q,q.return,te)}}}else if(l.tag===6){if(u===null){q=l;try{q.stateNode.nodeValue=b?"":q.memoizedProps}catch(te){Vt(q,q.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,D_(s,u))));break;case 19:ni(l,s),ri(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,D_(s,h)));break;case 30:break;case 21:break;default:ni(l,s),ri(s)}}function ri(s){var l=s.flags;if(l&2){try{for(var u,h=s.return;h!==null;){if(qP(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,_=k_(s);fy(s,_,b);break;case 5:var R=u.stateNode;u.flags&32&&(_i(R,""),u.flags&=-33);var L=k_(s);fy(s,L,R);break;case 3:case 4:var q=u.stateNode.containerInfo,J=k_(s);C_(s,J,q);break;default:throw Error(r(161))}}catch(le){Vt(s,s.return,le)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function ZP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;ZP(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function _o(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)GP(s,l.alternate,l),l=l.sibling}function ac(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:xo(4,l,l.return),ac(l);break;case 1:xa(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&FP(l,l.return,u),ac(l);break;case 27:jh(l.stateNode);case 26:case 5:xa(l,l.return),ac(l);break;case 22:l.memoizedState===null&&ac(l);break;case 30:ac(l);break;default:ac(l)}s=s.sibling}}function wo(s,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,b=s,_=l,R=_.flags;switch(_.tag){case 0:case 11:case 15:wo(b,_,u),Ah(4,_);break;case 1:if(wo(b,_,u),h=_,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(J){Vt(h,h.return,J)}if(h=_,b=h.updateQueue,b!==null){var L=h.stateNode;try{var q=b.shared.hiddenCallbacks;if(q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<q.length;b++)IN(q[b],L)}catch(J){Vt(h,h.return,J)}}u&&R&64&&zP(_),Th(_,_.return);break;case 27:KP(_);case 26:case 5:wo(b,_,u),u&&h===null&&R&4&&$P(_),Th(_,_.return);break;case 12:wo(b,_,u);break;case 13:wo(b,_,u),u&&R&4&&QP(b,_);break;case 22:_.memoizedState===null&&wo(b,_,u),Th(_,_.return);break;case 30:break;default:wo(b,_,u)}l=l.sibling}}function M_(s,l){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&uh(u))}function L_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&uh(s))}function _a(s,l,u,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)JP(s,l,u,h),l=l.sibling}function JP(s,l,u,h){var b=l.flags;switch(l.tag){case 0:case 11:case 15:_a(s,l,u,h),b&2048&&Ah(9,l);break;case 1:_a(s,l,u,h);break;case 3:_a(s,l,u,h),b&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&uh(s)));break;case 12:if(b&2048){_a(s,l,u,h),s=l.stateNode;try{var _=l.memoizedProps,R=_.id,L=_.onPostCommit;typeof L=="function"&&L(R,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Vt(l,l.return,q)}}else _a(s,l,u,h);break;case 13:_a(s,l,u,h);break;case 23:break;case 22:_=l.stateNode,R=l.alternate,l.memoizedState!==null?_._visibility&2?_a(s,l,u,h):Sh(s,l):_._visibility&2?_a(s,l,u,h):(_._visibility|=2,$u(s,l,u,h,(l.subtreeFlags&10256)!==0)),b&2048&&M_(R,l);break;case 24:_a(s,l,u,h),b&2048&&L_(l.alternate,l);break;default:_a(s,l,u,h)}}function $u(s,l,u,h,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=s,R=l,L=u,q=h,J=R.flags;switch(R.tag){case 0:case 11:case 15:$u(_,R,L,q,b),Ah(8,R);break;case 23:break;case 22:var le=R.stateNode;R.memoizedState!==null?le._visibility&2?$u(_,R,L,q,b):Sh(_,R):(le._visibility|=2,$u(_,R,L,q,b)),b&&J&2048&&M_(R.alternate,R);break;case 24:$u(_,R,L,q,b),b&&J&2048&&L_(R.alternate,R);break;default:$u(_,R,L,q,b)}l=l.sibling}}function Sh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=s,h=l,b=h.flags;switch(h.tag){case 22:Sh(u,h),b&2048&&M_(h.alternate,h);break;case 24:Sh(u,h),b&2048&&L_(h.alternate,h);break;default:Sh(u,h)}l=l.sibling}}var Ih=8192;function qu(s){if(s.subtreeFlags&Ih)for(s=s.child;s!==null;)eO(s),s=s.sibling}function eO(s){switch(s.tag){case 26:qu(s),s.flags&Ih&&s.memoizedState!==null&&VF(Wi,s.memoizedState,s.memoizedProps);break;case 5:qu(s);break;case 3:case 4:var l=Wi;Wi=Ty(s.stateNode.containerInfo),qu(s),Wi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Ih,Ih=16777216,qu(s),Ih=l):qu(s));break;default:qu(s)}}function tO(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Nh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Yn=h,rO(h,s)}tO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nO(s),s=s.sibling}function nO(s){switch(s.tag){case 0:case 11:case 15:Nh(s),s.flags&2048&&xo(9,s,s.return);break;case 3:Nh(s);break;case 12:Nh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,hy(s)):Nh(s);break;default:Nh(s)}}function hy(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Yn=h,rO(h,s)}tO(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:xo(8,l,l.return),hy(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,hy(l));break;default:hy(l)}s=s.sibling}}function rO(s,l){for(;Yn!==null;){var u=Yn;switch(u.tag){case 0:case 11:case 15:xo(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uh(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Yn=h;else e:for(u=s;Yn!==null;){h=Yn;var b=h.sibling,_=h.return;if(WP(h),h===u){Yn=null;break e}if(b!==null){b.return=_,Yn=b;break e}Yn=_}}}var eF={getCacheForType:function(s){var l=vr(Vn),u=l.data.get(s);return u===void 0&&(u=s(),l.data.set(s,u)),u}},tF=typeof WeakMap=="function"?WeakMap:Map,St=0,$t=null,rt=null,ft=0,It=0,ii=null,Eo=!1,Ku=!1,V_=!1,Es=0,fn=0,Ao=0,sc=0,B_=0,Oi=0,Hu=0,Ph=null,$r=null,U_=!1,z_=0,my=1/0,py=null,To=null,cr=0,So=null,Gu=null,Wu=0,F_=0,$_=null,iO=null,Oh=0,q_=null;function ai(){if((St&2)!==0&&ft!==0)return ft&-ft;if(G.T!==null){var s=Du;return s!==0?s:X_()}return so()}function aO(){Oi===0&&(Oi=(ft&536870912)===0||_t?Bf():536870912);var s=Pi.current;return s!==null&&(s.flags|=32),Oi}function si(s,l,u){(s===$t&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(Yu(s,0),Io(s,ft,Oi,!1)),ts(s,u),((St&2)===0||s!==$t)&&(s===$t&&((St&2)===0&&(sc|=u),fn===4&&Io(s,ft,Oi,!1)),wa(s))}function sO(s,l,u){if((St&6)!==0)throw Error(r(327));var h=!u&&(l&124)===0&&(l&s.expiredLanes)===0||kl(s,l),b=h?iF(s,l):G_(s,l,!0),_=h;do{if(b===0){Ku&&!h&&Io(s,l,0,!1);break}else{if(u=s.current.alternate,_&&!nF(u)){b=G_(s,l,!1),_=!1;continue}if(b===2){if(_=l,s.errorRecoveryDisabledLanes&_)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var L=s;b=Ph;var q=L.current.memoizedState.isDehydrated;if(q&&(Yu(L,R).flags|=256),R=G_(L,R,!1),R!==2){if(V_&&!q){L.errorRecoveryDisabledLanes|=_,sc|=_,b=4;break e}_=$r,$r=b,_!==null&&($r===null?$r=_:$r.push.apply($r,_))}b=R}if(_=!1,b!==2)continue}}if(b===1){Yu(s,0),Io(s,l,0,!0);break}e:{switch(h=s,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Io(h,l,Oi,!Eo);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=z_+300-ie(),10<b)){if(Io(h,l,Oi,!Eo),fu(h,0,!0)!==0)break e;h.timeoutHandle=DO(oO.bind(null,h,u,$r,py,U_,l,Oi,sc,Hu,Eo,_,2,-0,0),b);break e}oO(h,u,$r,py,U_,l,Oi,sc,Hu,Eo,_,0,-0,0)}}break}while(!0);wa(s)}function oO(s,l,u,h,b,_,R,L,q,J,le,ue,ee,te){if(s.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Lh={stylesheets:null,count:0,unsuspend:LF},eO(l),ue=BF(),ue!==null)){s.cancelPendingCommit=ue(mO.bind(null,s,l,_,u,h,b,R,L,q,le,1,ee,te)),Io(s,_,R,!J);return}mO(s,l,_,u,h,b,R,L,q)}function nF(s){for(var l=s;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var b=u[h],_=b.getSnapshot;b=b.value;try{if(!ei(_(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Io(s,l,u,h){l&=~B_,l&=~sc,s.suspendedLanes|=l,s.pingedLanes&=~l,h&&(s.warmLanes|=l),h=s.expirationTimes;for(var b=l;0<b;){var _=31-ct(b),R=1<<_;h[_]=-1,b&=~R}u!==0&&oa(s,u,l)}function gy(){return(St&6)===0?(Rh(0),!1):!0}function K_(){if(rt!==null){if(It===0)var s=rt.return;else s=rt,ps=ec=null,l_(s),zu=null,_h=0,s=rt;for(;s!==null;)UP(s.alternate,s),s=s.return;rt=null}}function Yu(s,l){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,xF(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),K_(),$t=s,rt=u=fs(s.current,null),ft=l,It=0,ii=null,Eo=!1,Ku=kl(s,l),V_=!1,Hu=Oi=B_=sc=Ao=fn=0,$r=Ph=null,U_=!1,(l&8)!==0&&(l|=l&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=l;0<h;){var b=31-ct(h),_=1<<b;l|=s[b],h&=~_}return Es=l,Vg(),u}function lO(s,l){et=null,G.H=ry,l===fh||l===Gg?(l=TN(),It=3):l===wN?(l=TN(),It=4):It=l===SP?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ii=l,rt===null&&(fn=1,ly(s,Ti(l,s.current)))}function cO(){var s=G.H;return G.H=ry,s===null?ry:s}function uO(){var s=G.A;return G.A=eF,s}function H_(){fn=4,Eo||(ft&4194048)!==ft&&Pi.current!==null||(Ku=!0),(Ao&134217727)===0&&(sc&134217727)===0||$t===null||Io($t,ft,Oi,!1)}function G_(s,l,u){var h=St;St|=2;var b=cO(),_=uO();($t!==s||ft!==l)&&(py=null,Yu(s,l)),l=!1;var R=fn;e:do try{if(It!==0&&rt!==null){var L=rt,q=ii;switch(It){case 8:K_(),R=6;break e;case 3:case 2:case 9:case 6:Pi.current===null&&(l=!0);var J=It;if(It=0,ii=null,Qu(s,L,q,J),u&&Ku){R=0;break e}break;default:J=It,It=0,ii=null,Qu(s,L,q,J)}}rF(),R=fn;break}catch(le){lO(s,le)}while(!0);return l&&s.shellSuspendCounter++,ps=ec=null,St=h,G.H=b,G.A=_,rt===null&&($t=null,ft=0,Vg()),R}function rF(){for(;rt!==null;)dO(rt)}function iF(s,l){var u=St;St|=2;var h=cO(),b=uO();$t!==s||ft!==l?(py=null,my=ie()+500,Yu(s,l)):Ku=kl(s,l);e:do try{if(It!==0&&rt!==null){l=rt;var _=ii;t:switch(It){case 1:It=0,ii=null,Qu(s,l,_,1);break;case 2:case 9:if(EN(_)){It=0,ii=null,fO(l);break}l=function(){It!==2&&It!==9||$t!==s||(It=7),wa(s)},_.then(l,l);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:EN(_)?(It=0,ii=null,fO(l)):(It=0,ii=null,Qu(s,l,_,7));break;case 5:var R=null;switch(rt.tag){case 26:R=rt.memoizedState;case 5:case 27:var L=rt;if(!R||GO(R)){It=0,ii=null;var q=L.sibling;if(q!==null)rt=q;else{var J=L.return;J!==null?(rt=J,yy(J)):rt=null}break t}}It=0,ii=null,Qu(s,l,_,5);break;case 6:It=0,ii=null,Qu(s,l,_,6);break;case 8:K_(),fn=6;break e;default:throw Error(r(462))}}aF();break}catch(le){lO(s,le)}while(!0);return ps=ec=null,G.H=h,G.A=b,St=u,rt!==null?0:($t=null,ft=0,Vg(),fn)}function aF(){for(;rt!==null&&!Gt();)dO(rt)}function dO(s){var l=VP(s.alternate,s,Es);s.memoizedProps=s.pendingProps,l===null?yy(s):rt=l}function fO(s){var l=s,u=l.alternate;switch(l.tag){case 15:case 0:l=kP(u,l,l.pendingProps,l.type,void 0,ft);break;case 11:l=kP(u,l,l.pendingProps,l.type.render,l.ref,ft);break;case 5:l_(l);default:UP(u,l),l=rt=hN(l,Es),l=VP(u,l,Es)}s.memoizedProps=s.pendingProps,l===null?yy(s):rt=l}function Qu(s,l,u,h){ps=ec=null,l_(l),zu=null,_h=0;var b=l.return;try{if(W8(s,b,l,u,ft)){fn=1,ly(s,Ti(u,s.current)),rt=null;return}}catch(_){if(b!==null)throw rt=b,_;fn=1,ly(s,Ti(u,s.current)),rt=null;return}l.flags&32768?(_t||h===1?s=!0:Ku||(ft&536870912)!==0?s=!1:(Eo=s=!0,(h===2||h===9||h===3||h===6)&&(h=Pi.current,h!==null&&h.tag===13&&(h.flags|=16384))),hO(l,s)):yy(l)}function yy(s){var l=s;do{if((l.flags&32768)!==0){hO(l,Eo);return}s=l.return;var u=Q8(l.alternate,l,Es);if(u!==null){rt=u;return}if(l=l.sibling,l!==null){rt=l;return}rt=l=s}while(l!==null);fn===0&&(fn=5)}function hO(s,l){do{var u=X8(s.alternate,s);if(u!==null){u.flags&=32767,rt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(s=s.sibling,s!==null)){rt=s;return}rt=s=u}while(s!==null);fn=6,rt=null}function mO(s,l,u,h,b,_,R,L,q){s.cancelPendingCommit=null;do vy();while(cr!==0);if((St&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=Lx,zf(s,u,_,R,L,q),s===$t&&(rt=$t=null,ft=0),Gu=l,So=s,Wu=u,F_=_,$_=b,iO=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cF($e,function(){return bO(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,b=ne.p,ne.p=2,R=St,St|=4;try{Z8(s,l,u)}finally{St=R,ne.p=b,G.T=h}}cr=1,pO(),gO(),yO()}}function pO(){if(cr===1){cr=0;var s=So,l=Gu,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var h=ne.p;ne.p=2;var b=St;St|=4;try{XP(l,s);var _=aw,R=rN(s.containerInfo),L=_.focusedElem,q=_.selectionRange;if(R!==L&&L&&L.ownerDocument&&nN(L.ownerDocument.documentElement,L)){if(q!==null&&kx(L)){var J=q.start,le=q.end;if(le===void 0&&(le=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(le,L.value.length);else{var ue=L.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ke=L.textContent.length,ze=Math.min(q.start,Ke),Dt=q.end===void 0?ze:Math.min(q.end,Ke);!te.extend&&ze>Dt&&(R=Dt,Dt=ze,ze=R);var W=tN(L,ze),H=tN(L,Dt);if(W&&H&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var Z=ue.createRange();Z.setStart(W.node,W.offset),te.removeAllRanges(),ze>Dt?(te.addRange(Z),te.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),te.addRange(Z))}}}}for(ue=[],te=L;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ue.length;L++){var ce=ue[L];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Oy=!!iw,aw=iw=null}finally{St=b,ne.p=h,G.T=u}}s.current=l,cr=2}}function gO(){if(cr===2){cr=0;var s=So,l=Gu,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var h=ne.p;ne.p=2;var b=St;St|=4;try{GP(s,l.alternate,l)}finally{St=b,ne.p=h,G.T=u}}cr=3}}function yO(){if(cr===4||cr===3){cr=0,Xt();var s=So,l=Gu,u=Wu,h=iO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?cr=5:(cr=0,Gu=So=null,vO(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(To=null),hu(u),l=l.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(We,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=G.T,b=ne.p,ne.p=2,G.T=null;try{for(var _=s.onRecoverableError,R=0;R<h.length;R++){var L=h[R];_(L.value,{componentStack:L.stack})}}finally{G.T=l,ne.p=b}}(Wu&3)!==0&&vy(),wa(s),b=s.pendingLanes,(u&4194090)!==0&&(b&42)!==0?s===q_?Oh++:(Oh=0,q_=s):Oh=0,Rh(0)}}function vO(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,uh(l)))}function vy(s){return pO(),gO(),yO(),bO()}function bO(){if(cr!==5)return!1;var s=So,l=F_;F_=0;var u=hu(Wu),h=G.T,b=ne.p;try{ne.p=32>u?32:u,G.T=null,u=$_,$_=null;var _=So,R=Wu;if(cr=0,Gu=So=null,Wu=0,(St&6)!==0)throw Error(r(331));var L=St;if(St|=4,nO(_.current),JP(_,_.current,R,u),St=L,Rh(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(We,_)}catch{}return!0}finally{ne.p=b,G.T=h,vO(s,l)}}function xO(s,l,u){l=Ti(u,l),l=w_(s.stateNode,l,2),s=go(s,l,2),s!==null&&(ts(s,2),wa(s))}function Vt(s,l,u){if(s.tag===3)xO(s,s,u);else for(;l!==null;){if(l.tag===3){xO(l,s,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(To===null||!To.has(h))){s=Ti(u,s),u=AP(2),h=go(l,u,2),h!==null&&(TP(u,h,l,s),ts(h,2),wa(h));break}}l=l.return}}function W_(s,l,u){var h=s.pingCache;if(h===null){h=s.pingCache=new tF;var b=new Set;h.set(l,b)}else b=h.get(l),b===void 0&&(b=new Set,h.set(l,b));b.has(u)||(V_=!0,b.add(u),s=sF.bind(null,s,l,u),l.then(s,s))}function sF(s,l,u){var h=s.pingCache;h!==null&&h.delete(l),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,$t===s&&(ft&u)===u&&(fn===4||fn===3&&(ft&62914560)===ft&&300>ie()-z_?(St&2)===0&&Yu(s,0):B_|=u,Hu===ft&&(Hu=0)),wa(s)}function _O(s,l){l===0&&(l=Uf()),s=Ru(s,l),s!==null&&(ts(s,l),wa(s))}function oF(s){var l=s.memoizedState,u=0;l!==null&&(u=l.retryLane),_O(s,u)}function lF(s,l){var u=0;switch(s.tag){case 13:var h=s.stateNode,b=s.memoizedState;b!==null&&(u=b.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),_O(s,u)}function cF(s,l){return Lt(s,l)}var by=null,Xu=null,Y_=!1,xy=!1,Q_=!1,oc=0;function wa(s){s!==Xu&&s.next===null&&(Xu===null?by=Xu=s:Xu=Xu.next=s),xy=!0,Y_||(Y_=!0,dF())}function Rh(s,l){if(!Q_&&xy){Q_=!0;do for(var u=!1,h=by;h!==null;){if(s!==0){var b=h.pendingLanes;if(b===0)var _=0;else{var R=h.suspendedLanes,L=h.pingedLanes;_=(1<<31-ct(42|s)+1)-1,_&=b&~(R&~L),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,TO(h,_))}else _=ft,_=fu(h,h===$t?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||kl(h,_)||(u=!0,TO(h,_));h=h.next}while(u);Q_=!1}}function uF(){wO()}function wO(){xy=Y_=!1;var s=0;oc!==0&&(bF()&&(s=oc),oc=0);for(var l=ie(),u=null,h=by;h!==null;){var b=h.next,_=EO(h,l);_===0?(h.next=null,u===null?by=b:u.next=b,b===null&&(Xu=u)):(u=h,(s!==0||(_&3)!==0)&&(xy=!0)),h=b}Rh(s)}function EO(s,l){for(var u=s.suspendedLanes,h=s.pingedLanes,b=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var R=31-ct(_),L=1<<R,q=b[R];q===-1?((L&u)===0||(L&h)!==0)&&(b[R]=Vf(L,l)):q<=l&&(s.expiredLanes|=L),_&=~L}if(l=$t,u=ft,u=fu(s,s===l?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===l&&(It===2||It===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Je(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||kl(s,u)){if(l=u&-u,l===s.callbackPriority)return l;switch(h!==null&&Je(h),hu(u)){case 2:case 8:u=Be;break;case 32:u=$e;break;case 268435456:u=nt;break;default:u=$e}return h=AO.bind(null,s),u=Lt(u,h),s.callbackPriority=l,s.callbackNode=u,l}return h!==null&&h!==null&&Je(h),s.callbackPriority=2,s.callbackNode=null,2}function AO(s,l){if(cr!==0&&cr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(vy()&&s.callbackNode!==u)return null;var h=ft;return h=fu(s,s===$t?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(sO(s,h,l),EO(s,ie()),s.callbackNode!=null&&s.callbackNode===u?AO.bind(null,s):null)}function TO(s,l){if(vy())return null;sO(s,l,!0)}function dF(){_F(function(){(St&6)!==0?Lt(Ae,uF):wO()})}function X_(){return oc===0&&(oc=Bf()),oc}function SO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:bu(""+s)}function IO(s,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,s.id&&u.setAttribute("form",s.id),l.parentNode.insertBefore(u,l),s=new FormData(s),u.parentNode.removeChild(u),s}function fF(s,l,u,h,b){if(l==="submit"&&u&&u.stateNode===b){var _=SO((b[Tn]||null).action),R=h.submitter;R&&(l=(l=R[Tn]||null)?SO(l.formAction):R.getAttribute("formAction"),l!==null&&(_=l,R=null));var L=new xu("action","action",null,h,b);s.push({event:L,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(oc!==0){var q=R?IO(b,R):new FormData(b);y_(u,{pending:!0,data:q,method:b.method,action:_},null,q)}}else typeof _=="function"&&(L.preventDefault(),q=R?IO(b,R):new FormData(b),y_(u,{pending:!0,data:q,method:b.method,action:_},_,q))},currentTarget:b}]})}}for(var Z_=0;Z_<Mx.length;Z_++){var J_=Mx[Z_],hF=J_.toLowerCase(),mF=J_[0].toUpperCase()+J_.slice(1);Gi(hF,"on"+mF)}Gi(sN,"onAnimationEnd"),Gi(oN,"onAnimationIteration"),Gi(lN,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(R8,"onTransitionRun"),Gi(k8,"onTransitionStart"),Gi(C8,"onTransitionCancel"),Gi(cN,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function NO(s,l){l=(l&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],b=h.event;h=h.listeners;e:{var _=void 0;if(l)for(var R=h.length-1;0<=R;R--){var L=h[R],q=L.instance,J=L.currentTarget;if(L=L.listener,q!==_&&b.isPropagationStopped())break e;_=L,b.currentTarget=J;try{_(b)}catch(le){oy(le)}b.currentTarget=null,_=q}else for(R=0;R<h.length;R++){if(L=h[R],q=L.instance,J=L.currentTarget,L=L.listener,q!==_&&b.isPropagationStopped())break e;_=L,b.currentTarget=J;try{_(b)}catch(le){oy(le)}b.currentTarget=null,_=q}}}}function it(s,l){var u=l[$f];u===void 0&&(u=l[$f]=new Set);var h=s+"__bubble";u.has(h)||(PO(l,s,2,!1),u.add(h))}function ew(s,l,u){var h=0;l&&(h|=4),PO(u,s,h,l)}var _y="_reactListening"+Math.random().toString(36).slice(2);function tw(s){if(!s[_y]){s[_y]=!0,qf.forEach(function(u){u!=="selectionchange"&&(pF.has(u)||ew(u,!1,s),ew(u,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[_y]||(l[_y]=!0,ew("selectionchange",!1,l))}}function PO(s,l,u,h){switch(JO(l)){case 2:var b=FF;break;case 8:b=$F;break;default:b=pw}u=b.bind(null,l,u,s),b=void 0,!Ei||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),h?b!==void 0?s.addEventListener(l,u,{capture:!0,passive:b}):s.addEventListener(l,u,!0):b!==void 0?s.addEventListener(l,u,{passive:b}):s.addEventListener(l,u,!1)}function nw(s,l,u,h,b){var _=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var L=h.stateNode.containerInfo;if(L===b)break;if(R===4)for(R=h.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;L!==null;){if(R=ns(L),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){h=_=R;continue e}L=L.parentNode}}h=h.return}Eg(function(){var J=_,le=wi(u),ue=[];e:{var ee=uN.get(s);if(ee!==void 0){var te=xu,Ke=s;switch(s){case"keypress":if(ha(u)===0)break e;case"keydown":case"keyup":te=Su;break;case"focusin":Ke="focus",te=Eu;break;case"focusout":Ke="blur",te=Eu;break;case"beforeblur":case"afterblur":te=Eu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Rg;break;case sN:case oN:case lN:te=Au;break;case cN:te=Cg;break;case"scroll":case"scrollend":te=Ag;break;case"wheel":te=Iu;break;case"copy":case"cut":case"paste":te=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=nh;break;case"toggle":case"beforetoggle":te=Dg}var ze=(l&4)!==0,Dt=!ze&&(s==="scroll"||s==="scrollend"),W=ze?ee!==null?ee+"Capture":null:ee;ze=[];for(var H=J,Z;H!==null;){var ce=H;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||W===null||(ce=Ul(H,W),ce!=null&&ze.push(Ch(H,ce,Z))),Dt)break;H=H.return}0<ze.length&&(ee=new te(ee,Ke,null,u,le),ue.push({event:ee,listeners:ze}))}}if((l&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",ee&&u!==ss&&(Ke=u.relatedTarget||u.fromElement)&&(ns(Ke)||Ke[xi]))break e;if((te||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ke=u.relatedTarget||u.toElement,te=J,Ke=Ke?ns(Ke):null,Ke!==null&&(Dt=a(Ke),ze=Ke.tag,Ke!==Dt||ze!==5&&ze!==27&&ze!==6)&&(Ke=null)):(te=null,Ke=J),te!==Ke)){if(ze=Ai,ce="onMouseLeave",W="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(ze=nh,ce="onPointerLeave",W="onPointerEnter",H="pointer"),Dt=te==null?ee:ca(te),Z=Ke==null?ee:ca(Ke),ee=new ze(ce,H+"leave",te,u,le),ee.target=Dt,ee.relatedTarget=Z,ce=null,ns(le)===J&&(ze=new ze(W,H+"enter",Ke,u,le),ze.target=Z,ze.relatedTarget=Dt,ce=ze),Dt=ce,te&&Ke)t:{for(ze=te,W=Ke,H=0,Z=ze;Z;Z=Zu(Z))H++;for(Z=0,ce=W;ce;ce=Zu(ce))Z++;for(;0<H-Z;)ze=Zu(ze),H--;for(;0<Z-H;)W=Zu(W),Z--;for(;H--;){if(ze===W||W!==null&&ze===W.alternate)break t;ze=Zu(ze),W=Zu(W)}ze=null}else ze=null;te!==null&&OO(ue,ee,te,ze,!1),Ke!==null&&Dt!==null&&OO(ue,Dt,Ke,ze,!0)}}e:{if(ee=J?ca(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Oe=Y2;else if(Ln(ee))if(Q2)Oe=N8;else{Oe=S8;var tt=T8}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Yf(J.elementType)&&(Oe=Y2):Oe=I8;if(Oe&&(Oe=Oe(s,J))){ds(ue,Oe,u,le);break e}tt&&tt(s,ee,J),s==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&uo(ee,"number",ee.value)}switch(tt=J?ca(J):window,s){case"focusin":(Ln(tt)||tt.contentEditable==="true")&&(Nu=tt,Cx=J,ah=null);break;case"focusout":ah=Cx=Nu=null;break;case"mousedown":jx=!0;break;case"contextmenu":case"mouseup":case"dragend":jx=!1,iN(ue,u,le);break;case"selectionchange":if(O8)break;case"keydown":case"keyup":iN(ue,u,le)}var Me;if(ga)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ut?se(s,u)&&(qe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(N&&u.locale!=="ko"&&(ut||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ut&&(Me=Xf()):(fa=le,fo="value"in fa?fa.value:fa.textContent,ut=!0)),tt=wy(J,qe),0<tt.length&&(qe=new eh(qe,s,null,u,le),ue.push({event:qe,listeners:tt}),Me?qe.data=Me:(Me=be(u),Me!==null&&(qe.data=Me)))),(Me=T?Mn(s,u):dt(s,u))&&(qe=wy(J,"onBeforeInput"),0<qe.length&&(tt=new eh("onBeforeInput","beforeinput",null,u,le),ue.push({event:tt,listeners:qe}),tt.data=Me)),fF(ue,s,J,u,le)}NO(ue,l)})}function Ch(s,l,u){return{instance:s,listener:l,currentTarget:u}}function wy(s,l){for(var u=l+"Capture",h=[];s!==null;){var b=s,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Ul(s,u),b!=null&&h.unshift(Ch(s,b,_)),b=Ul(s,l),b!=null&&h.push(Ch(s,b,_))),s.tag===3)return h;s=s.return}return[]}function Zu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function OO(s,l,u,h,b){for(var _=l._reactName,R=[];u!==null&&u!==h;){var L=u,q=L.alternate,J=L.stateNode;if(L=L.tag,q!==null&&q===h)break;L!==5&&L!==26&&L!==27||J===null||(q=J,b?(J=Ul(u,_),J!=null&&R.unshift(Ch(u,J,q))):b||(J=Ul(u,_),J!=null&&R.push(Ch(u,J,q)))),u=u.return}R.length!==0&&s.push({event:l,listeners:R})}var gF=/\r\n?/g,yF=/\u0000|\uFFFD/g;function RO(s){return(typeof s=="string"?s:""+s).replace(gF,`
`).replace(yF,"")}function kO(s,l){return l=RO(l),RO(s)===l}function Ey(){}function jt(s,l,u,h,b,_){switch(u){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||_i(s,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&_i(s,""+h);break;case"className":ua(s,"class",h);break;case"tabIndex":ua(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(s,u,h);break;case"style":Wf(s,h,_);break;case"data":if(l!=="object"){ua(s,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=bu(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(l!=="input"&&jt(s,l,"name",b.name,b,null),jt(s,l,"formEncType",b.formEncType,b,null),jt(s,l,"formMethod",b.formMethod,b,null),jt(s,l,"formTarget",b.formTarget,b,null)):(jt(s,l,"encType",b.encType,b,null),jt(s,l,"method",b.method,b,null),jt(s,l,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=bu(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Ey);break;case"onScroll":h!=null&&it("scroll",s);break;case"onScrollEnd":h!=null&&it("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=bu(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":it("beforetoggle",s),it("toggle",s),co(s,"popover",h);break;case"xlinkActuate":sr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":sr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":sr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":sr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":sr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":sr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":sr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":sr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":sr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":co(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Sx.get(u)||u,co(s,u,h))}}function rw(s,l,u,h,b,_){switch(u){case"style":Wf(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?_i(s,h):(typeof h=="number"||typeof h=="bigint")&&_i(s,""+h);break;case"onScroll":h!=null&&it("scroll",s);break;case"onScrollEnd":h!=null&&it("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ey);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),_=s[Tn]||null,_=_!=null?_[u]:null,typeof _=="function"&&s.removeEventListener(l,_,b),typeof h=="function")){typeof _!="function"&&_!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(l,h,b);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):co(s,u,h)}}}function ur(s,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",s),it("load",s);var h=!1,b=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var R=u[_];if(R!=null)switch(_){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:jt(s,l,_,R,u,null)}}b&&jt(s,l,"srcSet",u.srcSet,u,null),h&&jt(s,l,"src",u.src,u,null);return;case"input":it("invalid",s);var L=_=R=b=null,q=null,J=null;for(h in u)if(u.hasOwnProperty(h)){var le=u[h];if(le!=null)switch(h){case"name":b=le;break;case"type":R=le;break;case"checked":q=le;break;case"defaultChecked":J=le;break;case"value":_=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:jt(s,l,h,le,u,null)}}Ll(s,_,L,q,J,R,b,!1),vu(s);return;case"select":it("invalid",s),h=R=_=null;for(b in u)if(u.hasOwnProperty(b)&&(L=u[b],L!=null))switch(b){case"value":_=L;break;case"defaultValue":R=L;break;case"multiple":h=L;default:jt(s,l,b,L,u,null)}l=_,u=R,s.multiple=!!h,l!=null?as(s,!!h,l,!1):u!=null&&as(s,!!h,u,!0);return;case"textarea":it("invalid",s),_=b=h=null;for(R in u)if(u.hasOwnProperty(R)&&(L=u[R],L!=null))switch(R){case"value":h=L;break;case"defaultValue":b=L;break;case"children":_=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:jt(s,l,R,L,u,null)}Vl(s,h,b,_),vu(s);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(h=u[q],h!=null))switch(q){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:jt(s,l,q,h,u,null)}return;case"dialog":it("beforetoggle",s),it("toggle",s),it("cancel",s),it("close",s);break;case"iframe":case"object":it("load",s);break;case"video":case"audio":for(h=0;h<kh.length;h++)it(kh[h],s);break;case"image":it("error",s),it("load",s);break;case"details":it("toggle",s);break;case"embed":case"source":case"link":it("error",s),it("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(h=u[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:jt(s,l,J,h,u,null)}return;default:if(Yf(l)){for(le in u)u.hasOwnProperty(le)&&(h=u[le],h!==void 0&&rw(s,l,le,h,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(h=u[L],h!=null&&jt(s,l,L,h,u,null))}function vF(s,l,u,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,R=null,L=null,q=null,J=null,le=null;for(te in u){var ue=u[te];if(u.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":q=ue;default:h.hasOwnProperty(te)||jt(s,l,te,null,h,ue)}}for(var ee in h){var te=h[ee];if(ue=u[ee],h.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":_=te;break;case"name":b=te;break;case"checked":J=te;break;case"defaultChecked":le=te;break;case"value":R=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==ue&&jt(s,l,ee,te,h,ue)}}Jr(s,R,L,q,J,le,_,b);return;case"select":te=R=L=ee=null;for(_ in u)if(q=u[_],u.hasOwnProperty(_)&&q!=null)switch(_){case"value":break;case"multiple":te=q;default:h.hasOwnProperty(_)||jt(s,l,_,null,h,q)}for(b in h)if(_=h[b],q=u[b],h.hasOwnProperty(b)&&(_!=null||q!=null))switch(b){case"value":ee=_;break;case"defaultValue":L=_;break;case"multiple":R=_;default:_!==q&&jt(s,l,b,_,h,q)}l=L,u=R,h=te,ee!=null?as(s,!!u,ee,!1):!!h!=!!u&&(l!=null?as(s,!!u,l,!0):as(s,!!u,u?[]:"",!1));return;case"textarea":te=ee=null;for(L in u)if(b=u[L],u.hasOwnProperty(L)&&b!=null&&!h.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:jt(s,l,L,null,h,b)}for(R in h)if(b=h[R],_=u[R],h.hasOwnProperty(R)&&(b!=null||_!=null))switch(R){case"value":ee=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&jt(s,l,R,b,h,_)}kt(s,ee,te);return;case"option":for(var Ke in u)if(ee=u[Ke],u.hasOwnProperty(Ke)&&ee!=null&&!h.hasOwnProperty(Ke))switch(Ke){case"selected":s.selected=!1;break;default:jt(s,l,Ke,null,h,ee)}for(q in h)if(ee=h[q],te=u[q],h.hasOwnProperty(q)&&ee!==te&&(ee!=null||te!=null))switch(q){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:jt(s,l,q,ee,h,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in u)ee=u[ze],u.hasOwnProperty(ze)&&ee!=null&&!h.hasOwnProperty(ze)&&jt(s,l,ze,null,h,ee);for(J in h)if(ee=h[J],te=u[J],h.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:jt(s,l,J,ee,h,te)}return;default:if(Yf(l)){for(var Dt in u)ee=u[Dt],u.hasOwnProperty(Dt)&&ee!==void 0&&!h.hasOwnProperty(Dt)&&rw(s,l,Dt,void 0,h,ee);for(le in h)ee=h[le],te=u[le],!h.hasOwnProperty(le)||ee===te||ee===void 0&&te===void 0||rw(s,l,le,ee,h,te);return}}for(var W in u)ee=u[W],u.hasOwnProperty(W)&&ee!=null&&!h.hasOwnProperty(W)&&jt(s,l,W,null,h,ee);for(ue in h)ee=h[ue],te=u[ue],!h.hasOwnProperty(ue)||ee===te||ee==null&&te==null||jt(s,l,ue,ee,h,te)}var iw=null,aw=null;function Ay(s){return s.nodeType===9?s:s.ownerDocument}function CO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jO(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function sw(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ow=null;function bF(){var s=window.event;return s&&s.type==="popstate"?s===ow?!1:(ow=s,!0):(ow=null,!1)}var DO=typeof setTimeout=="function"?setTimeout:void 0,xF=typeof clearTimeout=="function"?clearTimeout:void 0,MO=typeof Promise=="function"?Promise:void 0,_F=typeof queueMicrotask=="function"?queueMicrotask:typeof MO<"u"?function(s){return MO.resolve(null).then(s).catch(wF)}:DO;function wF(s){setTimeout(function(){throw s})}function No(s){return s==="head"}function LO(s,l){var u=l,h=0,b=0;do{var _=u.nextSibling;if(s.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<h&&8>h){u=h;var R=s.ownerDocument;if(u&1&&jh(R.documentElement),u&2&&jh(R.body),u&4)for(u=R.head,jh(u),R=u.firstChild;R;){var L=R.nextSibling,q=R.nodeName;R[Cl]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=L}}if(b===0){s.removeChild(_),Fh(l);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:h=u.charCodeAt(0)-48;else h=0;u=_}while(u);Fh(l)}function lw(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lw(u),lo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function EF(s,l,u,h){for(;s.nodeType===1;){var b=u;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Cl])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Yi(s.nextSibling),s===null)break}return null}function AF(s,l,u){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Yi(s.nextSibling),s===null))return null;return s}function cw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function TF(s,l){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")l();else{var h=function(){l(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Yi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var uw=null;function VO(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return s;l--}else u==="/$"&&l++}s=s.previousSibling}return null}function BO(s,l,u){switch(l=Ay(u),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function jh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);lo(s)}var Ri=new Map,UO=new Set;function Ty(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var As=ne.d;ne.d={f:SF,r:IF,D:NF,C:PF,L:OF,m:RF,X:CF,S:kF,M:jF};function SF(){var s=As.f(),l=gy();return s||l}function IF(s){var l=la(s);l!==null&&l.tag===5&&l.type==="form"?sP(l):As.r(s)}var Ju=typeof document>"u"?null:document;function zO(s,l,u){var h=Ju;if(h&&typeof l=="string"&&l){var b=Sn(l);b='link[rel="'+s+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),UO.has(b)||(UO.add(b),s={rel:s,crossOrigin:u,href:l},h.querySelector(b)===null&&(l=h.createElement("link"),ur(l,"link",s),yn(l),h.head.appendChild(l)))}}function NF(s){As.D(s),zO("dns-prefetch",s,null)}function PF(s,l){As.C(s,l),zO("preconnect",s,l)}function OF(s,l,u){As.L(s,l,u);var h=Ju;if(h&&s&&l){var b='link[rel="preload"][as="'+Sn(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Sn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Sn(u.imageSizes)+'"]')):b+='[href="'+Sn(s)+'"]';var _=b;switch(l){case"style":_=ed(s);break;case"script":_=td(s)}Ri.has(_)||(s=m({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:s,as:l},u),Ri.set(_,s),h.querySelector(b)!==null||l==="style"&&h.querySelector(Dh(_))||l==="script"&&h.querySelector(Mh(_))||(l=h.createElement("link"),ur(l,"link",s),yn(l),h.head.appendChild(l)))}}function RF(s,l){As.m(s,l);var u=Ju;if(u&&s){var h=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Sn(h)+'"][href="'+Sn(s)+'"]',_=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=td(s)}if(!Ri.has(_)&&(s=m({rel:"modulepreload",href:s},l),Ri.set(_,s),u.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Mh(_)))return}h=u.createElement("link"),ur(h,"link",s),yn(h),u.head.appendChild(h)}}}function kF(s,l,u){As.S(s,l,u);var h=Ju;if(h&&s){var b=Nr(h).hoistableStyles,_=ed(s);l=l||"default";var R=b.get(_);if(!R){var L={loading:0,preload:null};if(R=h.querySelector(Dh(_)))L.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},u),(u=Ri.get(_))&&dw(s,u);var q=R=h.createElement("link");yn(q),ur(q,"link",s),q._p=new Promise(function(J,le){q.onload=J,q.onerror=le}),q.addEventListener("load",function(){L.loading|=1}),q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Sy(R,l,h)}R={type:"stylesheet",instance:R,count:1,state:L},b.set(_,R)}}}function CF(s,l){As.X(s,l);var u=Ju;if(u&&s){var h=Nr(u).hoistableScripts,b=td(s),_=h.get(b);_||(_=u.querySelector(Mh(b)),_||(s=m({src:s,async:!0},l),(l=Ri.get(b))&&fw(s,l),_=u.createElement("script"),yn(_),ur(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function jF(s,l){As.M(s,l);var u=Ju;if(u&&s){var h=Nr(u).hoistableScripts,b=td(s),_=h.get(b);_||(_=u.querySelector(Mh(b)),_||(s=m({src:s,async:!0,type:"module"},l),(l=Ri.get(b))&&fw(s,l),_=u.createElement("script"),yn(_),ur(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function FO(s,l,u,h){var b=(b=Ve.current)?Ty(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=ed(u.href),u=Nr(b).hoistableStyles,h=u.get(l),h||(h={type:"style",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=ed(u.href);var _=Nr(b).hoistableStyles,R=_.get(s);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,R),(_=b.querySelector(Dh(s)))&&!_._p&&(R.instance=_,R.state.loading=5),Ri.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ri.set(s,u),_||DF(b,s,u,R.state))),l&&h===null)throw Error(r(528,""));return R}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=td(u),u=Nr(b).hoistableScripts,h=u.get(l),h||(h={type:"script",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ed(s){return'href="'+Sn(s)+'"'}function Dh(s){return'link[rel="stylesheet"]['+s+"]"}function $O(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function DF(s,l,u,h){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=s.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),ur(l,"link",u),yn(l),s.head.appendChild(l))}function td(s){return'[src="'+Sn(s)+'"]'}function Mh(s){return"script[async]"+s}function qO(s,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var h=s.querySelector('style[data-href~="'+Sn(u.href)+'"]');if(h)return l.instance=h,yn(h),h;var b=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),yn(h),ur(h,"style",b),Sy(h,u.precedence,s),l.instance=h;case"stylesheet":b=ed(u.href);var _=s.querySelector(Dh(b));if(_)return l.state.loading|=4,l.instance=_,yn(_),_;h=$O(u),(b=Ri.get(b))&&dw(h,b),_=(s.ownerDocument||s).createElement("link"),yn(_);var R=_;return R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),ur(_,"link",h),l.state.loading|=4,Sy(_,u.precedence,s),l.instance=_;case"script":return _=td(u.src),(b=s.querySelector(Mh(_)))?(l.instance=b,yn(b),b):(h=u,(b=Ri.get(_))&&(h=m({},u),fw(h,b)),s=s.ownerDocument||s,b=s.createElement("script"),yn(b),ur(b,"link",h),s.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Sy(h,u.precedence,s));return l.instance}function Sy(s,l,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,_=b,R=0;R<h.length;R++){var L=h[R];if(L.dataset.precedence===l)_=L;else if(_!==b)break}_?_.parentNode.insertBefore(s,_.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(s,l.firstChild))}function dw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function fw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Iy=null;function KO(s,l,u){if(Iy===null){var h=new Map,b=Iy=new Map;b.set(u,h)}else b=Iy,h=b.get(u),h||(h=new Map,b.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),b=0;b<u.length;b++){var _=u[b];if(!(_[Cl]||_[Dn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(l)||"";R=s+R;var L=h.get(R);L?L.push(_):h.set(R,[_])}}return h}function HO(s,l,u){s=s.ownerDocument||s,s.head.insertBefore(u,l==="title"?s.querySelector("head > title"):null)}function MF(s,l,u){if(u===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function GO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Lh=null;function LF(){}function VF(s,l,u){if(Lh===null)throw Error(r(475));var h=Lh;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=ed(u.href),_=s.querySelector(Dh(b));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Ny.bind(h),s.then(h,h)),l.state.loading|=4,l.instance=_,yn(_);return}_=s.ownerDocument||s,u=$O(u),(b=Ri.get(b))&&dw(u,b),_=_.createElement("link"),yn(_);var R=_;R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),ur(_,"link",u),l.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(h.count++,l=Ny.bind(h),s.addEventListener("load",l),s.addEventListener("error",l))}}function BF(){if(Lh===null)throw Error(r(475));var s=Lh;return s.stylesheets&&s.count===0&&hw(s,s.stylesheets),0<s.count?function(l){var u=setTimeout(function(){if(s.stylesheets&&hw(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Ny(){if(this.count--,this.count===0){if(this.stylesheets)hw(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Py=null;function hw(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Py=new Map,l.forEach(UF,s),Py=null,Ny.call(s))}function UF(s,l){if(!(l.state.loading&4)){var u=Py.get(s);if(u)var h=u.get(null);else{u=new Map,Py.set(s,u);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var R=b[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),h=R)}h&&u.set(null,h)}b=l.instance,R=b.getAttribute("data-precedence"),_=u.get(R)||h,_===h&&u.set(null,b),u.set(R,b),this.count++,h=Ny.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),_?_.parentNode.insertBefore(b,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),l.state.loading|=4}}var Vh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function zF(s,l,u,h,b,_,R,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function WO(s,l,u,h,b,_,R,L,q,J,le,ue){return s=new zF(s,l,u,R,L,q,J,ue),l=1,_===!0&&(l|=24),_=ti(3,null,null,l),s.current=_,_.stateNode=s,l=Wx(),l.refCount++,s.pooledCache=l,l.refCount++,_.memoizedState={element:h,isDehydrated:u,cache:l},Zx(_),s}function YO(s){return s?(s=ku,s):ku}function QO(s,l,u,h,b,_){b=YO(b),h.context===null?h.context=b:h.pendingContext=b,h=po(l),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=go(s,h,l),u!==null&&(si(u,s,l),mh(u,s,l))}function XO(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<l?u:l}}function mw(s,l){XO(s,l),(s=s.alternate)&&XO(s,l)}function ZO(s){if(s.tag===13){var l=Ru(s,67108864);l!==null&&si(l,s,67108864),mw(s,67108864)}}var Oy=!0;function FF(s,l,u,h){var b=G.T;G.T=null;var _=ne.p;try{ne.p=2,pw(s,l,u,h)}finally{ne.p=_,G.T=b}}function $F(s,l,u,h){var b=G.T;G.T=null;var _=ne.p;try{ne.p=8,pw(s,l,u,h)}finally{ne.p=_,G.T=b}}function pw(s,l,u,h){if(Oy){var b=gw(h);if(b===null)nw(s,l,h,Ry,u),eR(s,h);else if(KF(b,s,l,u,h))h.stopPropagation();else if(eR(s,h),l&4&&-1<qF.indexOf(s)){for(;b!==null;){var _=la(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=qi(_.pendingLanes);if(R!==0){var L=_;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var q=1<<31-ct(R);L.entanglements[1]|=q,R&=~q}wa(_),(St&6)===0&&(my=ie()+500,Rh(0))}}break;case 13:L=Ru(_,2),L!==null&&si(L,_,2),gy(),mw(_,2)}if(_=gw(h),_===null&&nw(s,l,h,Ry,u),_===b)break;b=_}b!==null&&h.stopPropagation()}else nw(s,l,h,null,u)}}function gw(s){return s=wi(s),yw(s)}var Ry=null;function yw(s){if(Ry=null,s=ns(s),s!==null){var l=a(s);if(l===null)s=null;else{var u=l.tag;if(u===13){if(s=o(l),s!==null)return s;s=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ry=s,null}function JO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case Ae:return 2;case Be:return 8;case $e:case Ue:return 32;case nt:return 268435456;default:return 32}default:return 32}}var vw=!1,Po=null,Oo=null,Ro=null,Bh=new Map,Uh=new Map,ko=[],qF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eR(s,l){switch(s){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Bh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(l.pointerId)}}function zh(s,l,u,h,b,_){return s===null||s.nativeEvent!==_?(s={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[b]},l!==null&&(l=la(l),l!==null&&ZO(l)),s):(s.eventSystemFlags|=h,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function KF(s,l,u,h,b){switch(l){case"focusin":return Po=zh(Po,s,l,u,h,b),!0;case"dragenter":return Oo=zh(Oo,s,l,u,h,b),!0;case"mouseover":return Ro=zh(Ro,s,l,u,h,b),!0;case"pointerover":var _=b.pointerId;return Bh.set(_,zh(Bh.get(_)||null,s,l,u,h,b)),!0;case"gotpointercapture":return _=b.pointerId,Uh.set(_,zh(Uh.get(_)||null,s,l,u,h,b)),!0}return!1}function tR(s){var l=ns(s.target);if(l!==null){var u=a(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){s.blockedOn=l,gg(s.priority,function(){if(u.tag===13){var h=ai();h=ao(h);var b=Ru(u,h);b!==null&&si(b,u,h),mw(u,h)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ky(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var u=gw(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);ss=h,u.target.dispatchEvent(h),ss=null}else return l=la(u),l!==null&&ZO(l),s.blockedOn=u,!1;l.shift()}return!0}function nR(s,l,u){ky(s)&&u.delete(l)}function HF(){vw=!1,Po!==null&&ky(Po)&&(Po=null),Oo!==null&&ky(Oo)&&(Oo=null),Ro!==null&&ky(Ro)&&(Ro=null),Bh.forEach(nR),Uh.forEach(nR)}function Cy(s,l){s.blockedOn===l&&(s.blockedOn=null,vw||(vw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HF)))}var jy=null;function rR(s){jy!==s&&(jy=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jy===s&&(jy=null);for(var l=0;l<s.length;l+=3){var u=s[l],h=s[l+1],b=s[l+2];if(typeof h!="function"){if(yw(h||u)===null)continue;break}var _=la(u);_!==null&&(s.splice(l,3),l-=3,y_(_,{pending:!0,data:b,method:u.method,action:h},h,b))}}))}function Fh(s){function l(q){return Cy(q,s)}Po!==null&&Cy(Po,s),Oo!==null&&Cy(Oo,s),Ro!==null&&Cy(Ro,s),Bh.forEach(l),Uh.forEach(l);for(var u=0;u<ko.length;u++){var h=ko[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<ko.length&&(u=ko[0],u.blockedOn===null);)tR(u),u.blockedOn===null&&ko.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var b=u[h],_=u[h+1],R=b[Tn]||null;if(typeof _=="function")R||rR(u);else if(R){var L=null;if(_&&_.hasAttribute("formAction")){if(b=_,R=_[Tn]||null)L=R.formAction;else if(yw(b)!==null)continue}else L=R.action;typeof L=="function"?u[h+1]=L:(u.splice(h,3),h-=3),rR(u)}}}function bw(s){this._internalRoot=s}Dy.prototype.render=bw.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,h=ai();QO(u,h,s,l,null,null)},Dy.prototype.unmount=bw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;QO(s.current,2,null,s,null,null),gy(),l[xi]=null}};function Dy(s){this._internalRoot=s}Dy.prototype.unstable_scheduleHydration=function(s){if(s){var l=so();s={blockedOn:null,target:s,priority:l};for(var u=0;u<ko.length&&l!==0&&l<ko[u].priority;u++);ko.splice(u,0,s),u===0&&tR(s)}};var iR=e.version;if(iR!=="19.1.1")throw Error(r(527,iR,"19.1.1"));ne.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var GF={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{We=My.inject(GF),Ce=My}catch{}}return qh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var u=!1,h="",b=xP,_=_P,R=wP,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=WO(s,1,!1,null,null,u,h,b,_,R,L,null),s[xi]=l.current,tw(s),new bw(l)},qh.hydrateRoot=function(s,l,u){if(!i(s))throw Error(r(299));var h=!1,b="",_=xP,R=_P,L=wP,q=null,J=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks),u.formState!==void 0&&(J=u.formState)),l=WO(s,1,!0,l,u??null,h,b,_,R,L,q,J),l.context=YO(null),u=l.current,h=ai(),h=ao(h),b=po(h),b.callback=null,go(u,b,h),u=h,l.current.lanes=u,ts(l,u),wa(l),s[xi]=l.current,tw(s),new Dy(l)},qh.version="19.1.1",qh}var mR;function s$(){if(mR)return Ew.exports;mR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ew.exports=a$(),Ew.exports}var o$=s$();const l$=Fi(o$);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=()=>{};var pR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},tL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;d||(x=64,o||(v=64)),r.push(n[m],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new d$;const v=a<<2|c>>4;if(r.push(v),f!==64){const x=c<<4&240|f>>2;if(r.push(x),g!==64){const A=f<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f$=function(t){const e=eL(t);return tL.encodeByteArray(e,!0)},Nv=function(t){return f$(t).replace(/\./g,"")},fT=function(t){try{return tL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!h$(n)||(t[n]=Pv(t[n],e[n]));return t}function h$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=()=>hT().__FIREBASE_DEFAULTS__,p$=()=>{if(typeof process>"u"||typeof pR>"u")return;const t=pR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fT(t[1]);return e&&JSON.parse(e)},K0=()=>{try{return c$()||m$()||p$()||g$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nL=t=>{var e,n;return(n=(e=K0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y$=t=>{const e=nL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mT=()=>{var t;return(t=K0())==null?void 0:t.config},rL=t=>{var e;return(e=K0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nv(JSON.stringify(n)),Nv(JSON.stringify(o)),""].join(".")}const bm={};function x$(){const t={prod:[],emulator:[]};for(const e of Object.keys(bm))bm[e]?t.emulator.push(e):t.prod.push(e);return t}function _$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gR=!1;function aL(t,e){if(typeof window>"u"||typeof document>"u"||!cf(window.location.host)||bm[t]===e||bm[t]||gR)return;bm[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=x$().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{gR=!0,o()},v}function m(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=_$(r),x=n("text"),A=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),P=n("preprendIcon"),O=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;c(j),m(S,E);const M=f();d(O,P),j.append(O,A,S,M),document.body.appendChild(j)}a?(A.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function H0(){var e;const t=(e=K0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E$(){return typeof window<"u"||sL()}function sL(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function A$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lL(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cL(){return!H0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uL(){return!H0()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Lm(){try{return typeof indexedDB=="object"}catch{return!1}}function T$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S$,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?I$(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Lr(i,c,r)}}function I$(t,e){return t.replace(N$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const N$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(vR(a)&&vR(o)){if(!Ds(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function cm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dL(t,e){const n=new O$(t,e);return n.subscribe.bind(n)}class O${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Iw),i.error===void 0&&(i.error=Iw),i.complete===void 0&&(i.complete=Iw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class $a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j$(e))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uc){return this.instances.has(e)}getOptions(e=uc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uc){return this.component?this.component.multipleInstances?e:uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function C$(t){return t===uc?void 0:t}function j$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=[];var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const hL={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},D$=at.INFO,M$={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},L$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G0{constructor(e){this.name=e,this._logLevel=D$,this._logHandler=L$,this._userLogHandler=null,gT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}function V$(t){gT.forEach(e=>{e.setLogLevel(t)})}function B$(t,e){for(const n of gT){let r=null;e&&e.level&&(r=hL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...o)=>{const c=o.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");a>=(r??i.logLevel)&&t({level:at[a].toLowerCase(),message:c,args:o,type:i.name})}}}const U$=(t,e)=>e.some(n=>t instanceof n);let bR,xR;function z$(){return bR||(bR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F$(){return xR||(xR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mL=new WeakMap,DE=new WeakMap,pL=new WeakMap,Nw=new WeakMap,yT=new WeakMap;function $$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mL.set(n,t)}).catch(()=>{}),yT.set(e,t),e}function q$(t){if(DE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});DE.set(t,e)}let ME={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return DE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K$(t){ME=t(ME)}function H$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pw(this),e,...n);return pL.set(r,e.sort?e.sort():[e]),Ho(r)}:F$().includes(t)?function(...e){return t.apply(Pw(this),e),Ho(mL.get(this))}:function(...e){return Ho(t.apply(Pw(this),e))}}function G$(t){return typeof t=="function"?H$(t):(t instanceof IDBTransaction&&q$(t),U$(t,z$())?new Proxy(t,ME):t)}function Ho(t){if(t instanceof IDBRequest)return $$(t);if(Nw.has(t))return Nw.get(t);const e=G$(t);return e!==t&&(Nw.set(t,e),yT.set(e,t)),e}const Pw=t=>yT.get(t);function W$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=Ho(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Ho(o.result),d.oldVersion,d.newVersion,Ho(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Y$=["get","getKey","getAll","getAllKeys","count"],Q$=["put","add","delete","clear"],Ow=new Map;function _R(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ow.get(e))return Ow.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Q$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y$.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return Ow.set(e,a),a}K$(t=>({...t,get:(e,n,r)=>_R(e,n)||t.get(e,n,r),has:(e,n)=>!!_R(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",LE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new G0("@firebase/app"),J$="@firebase/app-compat",eq="@firebase/analytics-compat",tq="@firebase/analytics",nq="@firebase/app-check-compat",rq="@firebase/app-check",iq="@firebase/auth",aq="@firebase/auth-compat",sq="@firebase/database",oq="@firebase/data-connect",lq="@firebase/database-compat",cq="@firebase/functions",uq="@firebase/functions-compat",dq="@firebase/installations",fq="@firebase/installations-compat",hq="@firebase/messaging",mq="@firebase/messaging-compat",pq="@firebase/performance",gq="@firebase/performance-compat",yq="@firebase/remote-config",vq="@firebase/remote-config-compat",bq="@firebase/storage",xq="@firebase/storage-compat",_q="@firebase/firestore",wq="@firebase/ai",Eq="@firebase/firestore-compat",Aq="firebase",Tq="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]",Sq={[Ov]:"fire-core",[J$]:"fire-core-compat",[tq]:"fire-analytics",[eq]:"fire-analytics-compat",[rq]:"fire-app-check",[nq]:"fire-app-check-compat",[iq]:"fire-auth",[aq]:"fire-auth-compat",[sq]:"fire-rtdb",[oq]:"fire-data-connect",[lq]:"fire-rtdb-compat",[cq]:"fire-fn",[uq]:"fire-fn-compat",[dq]:"fire-iid",[fq]:"fire-iid-compat",[hq]:"fire-fcm",[mq]:"fire-fcm-compat",[pq]:"fire-perf",[gq]:"fire-perf-compat",[yq]:"fire-rc",[vq]:"fire-rc-compat",[bq]:"fire-gcs",[xq]:"fire-gcs-compat",[_q]:"fire-fst",[Eq]:"fire-fst-compat",[wq]:"fire-vertex","fire-js":"fire-js",[Aq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,Nd=new Map,Pd=new Map;function Vm(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gL(t,e){t.container.addOrOverwriteComponent(e)}function el(t){const e=t.name;if(Pd.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const n of Jo.values())Vm(n,t);for(const n of Nd.values())Vm(n,t);return!0}function bp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Iq(t,e,n=Zo){bp(t,e).clearInstance(n)}function vT(t){return t.options!==void 0}function yL(t){return vT(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function nn(t){return t==null?!1:t.settings!==void 0}function Nq(){Pd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new eu("app","Firebase",Pq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vL=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e){const n=fT(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Oq extends vL{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,o,i);else{const c=e;super(c.options,o,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&wR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,ta(Ov,LE,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){_T(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=Tq;function bT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zo,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=mT()),!n)throw pi.create("no-options");const a=Jo.get(i);if(a){if(Ds(n,a.options)&&Ds(r,a.config))return a;throw pi.create("duplicate-app",{appName:i})}const o=new fL(i);for(const d of Pd.values())o.addComponent(d);const c=new vL(n,r,o);return Jo.set(i,c),c}function Rq(t,e={}){if(E$()&&!sL())throw pi.create("invalid-server-app-environment");let n,r=e||{};if(t&&(vT(t)?n=t.options:yL(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=mT()),!n)throw pi.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=m=>[...m].reduce((g,v)=>Math.imul(31,g)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw pi.create("finalization-registry-not-supported",{});const o=""+a(JSON.stringify(i)),c=Nd.get(o);if(c)return c.incRefCount(r.releaseOnDeref),c;const d=new fL(o);for(const m of Pd.values())d.addComponent(m);const f=new Oq(n,r,o,d);return Nd.set(o,f),f}function xT(t=Zo){const e=Jo.get(t);if(!e&&t===Zo&&mT())return bT();if(!e)throw pi.create("no-app",{appName:t});return e}function kq(){return Array.from(Jo.values())}async function _T(t){let e=!1;const n=t.name;Jo.has(n)?(e=!0,Jo.delete(n)):Nd.has(n)&&t.decRefCount()<=0&&(Nd.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function ta(t,e,n){let r=Sq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(o.join(" "));return}el(new $a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function bL(t,e){if(t!==null&&typeof t!="function")throw pi.create("invalid-log-argument");B$(t,e)}function xL(t){V$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="firebase-heartbeat-database",jq=1,Bm="firebase-heartbeat-store";let Rw=null;function _L(){return Rw||(Rw=W$(Cq,jq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bm)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Rw}async function Dq(t){try{const n=(await _L()).transaction(Bm),r=await n.objectStore(Bm).get(wL(t));return await n.done,r}catch(e){if(e instanceof Lr)Ms.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function ER(t,e){try{const r=(await _L()).transaction(Bm,"readwrite");await r.objectStore(Bm).put(e,wL(t)),await r.done}catch(n){if(n instanceof Lr)Ms.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(r.message)}}}function wL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=1024,Lq=30;class Vq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=AR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Lq){const o=zq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AR(),{heartbeatsToSend:r,unsentEntries:i}=Bq(this._heartbeatsCache.heartbeats),a=Nv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ms.warn(n),""}}}function AR(){return new Date().toISOString().substring(0,10)}function Bq(t,e=Mq){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),TR(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lm()?T$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ER(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ER(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TR(t){return Nv(JSON.stringify({version:2,heartbeats:t})).length}function zq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t){el(new $a("platform-logger",e=>new X$(e),"PRIVATE")),el(new $a("heartbeat",e=>new Vq(e),"PRIVATE")),ta(Ov,LE,t),ta(Ov,LE,"esm2020"),ta("fire-js","")}Fq("");const $q=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Lr,SDK_VERSION:yl,_DEFAULT_ENTRY_NAME:Zo,_addComponent:Vm,_addOrOverwriteComponent:gL,_apps:Jo,_clearComponents:Nq,_components:Pd,_getProvider:bp,_isFirebaseApp:vT,_isFirebaseServerApp:nn,_isFirebaseServerAppSettings:yL,_registerComponent:el,_removeServiceInstance:Iq,_serverApps:Nd,deleteApp:_T,getApp:xT,getApps:kq,initializeApp:bT,initializeServerApp:Rq,onLog:bL,registerVersion:ta,setLogLevel:xL},Symbol.toStringTag,{value:"Module"})),Kh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},nd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function EL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kq=qq,Hq=EL,AL=new eu("auth","Firebase",EL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new G0("@firebase/auth");function Gq(t,...e){Rv.logLevel<=at.WARN&&Rv.warn(`Auth (${yl}): ${t}`,...e)}function dv(t,...e){Rv.logLevel<=at.ERROR&&Rv.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw ET(t,...e)}function zn(t,...e){return ET(t,...e)}function wT(t,e,n){const r={...Hq(),[e]:n};return new eu("auth","Firebase",r).create(e,{appName:t.name})}function tr(t){return wT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function df(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),wT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ET(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AL.create(t,...e)}function ye(t,e,...n){if(!t)throw ET(e,...n)}function Ra(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dv(e),new Error(e)}function ia(t,e){t||Ra(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function AT(){return SR()==="http:"||SR()==="https:"}function SR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AT()||oL()||"connection"in navigator)?navigator.onLine:!0}function Yq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=w$()||pT()}get(){return Wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zq=new xp(3e4,6e4);function pn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gn(t,e,n,r,i={}){return SL(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=uf({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return A$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&cf(t.emulatorConfig.host)&&(f.credentials="include"),TL.fetch()(await IL(t,t.config.apiHost,n,c),f)})}async function SL(t,e,n){t._canInitEmulator=!1;const r={...Qq,...e};try{const i=new e7(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw um(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw um(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw um(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw um(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw wT(t,m,f);nr(t,m)}}catch(i){if(i instanceof Lr)throw i;nr(t,"network-request-failed",{message:String(i)})}}async function Gs(t,e,n,r,i={}){const a=await gn(t,e,n,r,i);return"mfaPendingCredential"in a&&nr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function IL(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?TT(t.config,i):`${t.config.apiScheme}://${i}`;return Xq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Jq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),Zq.get())})}}function um(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){return t!==void 0&&t.getResponse!==void 0}function NR(t){return t!==void 0&&t.enterprise!==void 0}class NL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t){return(await gn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function PL(t,e){return gn(t,"GET","/v2/recaptchaConfig",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e){return gn(t,"POST","/v1/accounts:delete",e)}async function r7(t,e){return gn(t,"POST","/v1/accounts:update",e)}async function kv(t,e){return gn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i7(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=W0(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:xm(kw(i.auth_time)),issuedAtTime:xm(kw(i.iat)),expirationTime:xm(kw(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kw(t){return Number(t)*1e3}function W0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dv("JWT malformed, contained fewer than 3 sections"),null;try{const i=fT(n);return i?JSON.parse(i):(dv("Failed to decode base64 JWT payload"),null)}catch(i){return dv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PR(t){const e=W0(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&a7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xm(this.lastLoginAt),this.creationTime=xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(t){var g;const e=t.auth,n=await t.getIdToken(),r=await Ls(t,kv(e,{idToken:n}));ye(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(g=i.providerUserInfo)!=null&&g.length?OL(i.providerUserInfo):[],o=l7(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new VE(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function o7(t){const e=Le(t);await zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){const n=await SL(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await IL(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&cf(t.emulatorConfig.host)&&(d.credentials="include"),TL.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u7(t,e){return gn(t,"POST","/v2/accounts:revokeToken",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=PR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await c7(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new bd;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ye(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bd,this.toJSON())}_performRefresh(){return Ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new s7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new VE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i7(this,e)}reload(){return o7(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Ls(this,n7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:x,providerData:A,stsTokenManager:E}=n;ye(g&&E,e,"internal-error");const S=bd.fromJSON(this.name,E);ye(typeof g=="string",e,"internal-error"),jo(r,e.name),jo(i,e.name),ye(typeof v=="boolean",e,"internal-error"),ye(typeof x=="boolean",e,"internal-error"),jo(a,e.name),jo(o,e.name),jo(c,e.name),jo(d,e.name),jo(f,e.name),jo(m,e.name);const P=new Ji({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return A&&Array.isArray(A)&&(P.providerData=A.map(O=>({...O}))),d&&(P._redirectEventId=d),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new bd;i.updateFromServerResponse(n);const a=new Ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?OL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new bd;c.updateFromIdToken(r);const d=new Ji({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new VE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Map;function mi(t){ia(t instanceof Function,"Expected a class definition");let e=OR.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RL.type="NONE";const Od=RL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class xd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Pc("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kv(this.auth,{idToken:e}).catch(()=>{});return n?Ji._fromGetAccountInfoResponse(this.auth,n,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xd(mi(Od),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||mi(Od);const o=Pc(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(o);if(m){let g;if(typeof m=="string"){const v=await kv(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Ji._fromGetAccountInfoResponse(e,v,m)}else g=Ji._fromJSON(e,m);f!==a&&(c=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new xd(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new xd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ML(e))return"Blackberry";if(LL(e))return"Webos";if(CL(e))return"Safari";if((e.includes("chrome/")||jL(e))&&!e.includes("edge/"))return"Chrome";if(_p(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kL(t=ln()){return/firefox\//i.test(t)}function CL(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jL(t=ln()){return/crios\//i.test(t)}function DL(t=ln()){return/iemobile/i.test(t)}function _p(t=ln()){return/android/i.test(t)}function ML(t=ln()){return/blackberry/i.test(t)}function LL(t=ln()){return/webos/i.test(t)}function wp(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d7(t=ln()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function f7(t=ln()){var e;return wp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function h7(){return lL()&&document.documentMode===10}function VL(t=ln()){return wp(t)||_p(t)||LL(t)||ML(t)||/windows phone/i.test(t)||DL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e=[]){let n;switch(t){case"Browser":n=RR(ln());break;case"Worker":n=`${RR(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e={}){return gn(t,"GET","/v2/passwordPolicy",pn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=6;class y7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??g7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kR(this),this.idTokenSubscription=new kR(this),this.beforeStateQueue=new m7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await xd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kv(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(tr(this));const n=e?Le(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p7(this),n=new y7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await xd.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Gq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cn(t){return Le(t)}class kR{constructor(e){this.auth=e,this.observer=null,this.addObserver=dL(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b7(t){Ep=t}function ST(t){return Ep.loadJS(t)}function x7(){return Ep.recaptchaV2Script}function _7(){return Ep.recaptchaEnterpriseScript}function w7(){return Ep.gapiScript}function UL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=500,A7=6e4,Ly=1e12;class T7{constructor(e){this.auth=e,this.counter=Ly,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new N7(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Ly;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Ly;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Ly;return(r=this._widgets.get(n))==null||r.execute(),""}}class S7{constructor(){this.enterprise=new I7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class N7{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ye(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=P7(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},A7)},E7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function P7(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const O7="recaptcha-enterprise",_m="NO_RECAPTCHA";class zL{constructor(e){this.type=O7,this.auth=cn(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{PL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new NL(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;NR(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(_m)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S7().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&NR(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_7();d.length!==0&&(d+=c),ST(d).then(()=>{i(c,a,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function Hh(t,e,n,r=!1,i=!1){const a=new zL(t);let o;if(i)o=_m;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Go(t,e,n,r,i){var a,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Hh(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Hh(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const c=await Hh(t,e,n);return r(t,c).catch(async d=>{var f;if(((f=t._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const m=await Hh(t,e,n,!1,!0);return r(t,m)}return Promise.reject(d)})}else{const c=await Hh(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")}async function R7(t){const e=cn(t),n=await PL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new NL(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new zL(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,e){const n=bp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ds(a,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function C7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FL(t,e,n){const r=cn(t);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=$L(e),{host:o,port:c}=j7(e),d=c===null?"":`:${c}`,f={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Ds(f,r.config.emulator)&&Ds(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,cf(o)?(iL(`${a}//${o}${d}`),aL("Auth",!0)):i||D7()}function $L(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j7(t){const e=$L(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:CR(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:CR(o)}}}function CR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ra("not implemented")}_getIdTokenResponse(e){return Ra("not implemented")}_linkToIdToken(e,n){return Ra("not implemented")}_getReauthenticationResolver(e){return Ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e){return gn(t,"POST","/v1/accounts:resetPassword",pn(t,e))}async function M7(t,e){return gn(t,"POST","/v1/accounts:update",e)}async function L7(t,e){return gn(t,"POST","/v1/accounts:signUp",e)}async function V7(t,e){return gn(t,"POST","/v1/accounts:update",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){return Gs(t,"POST","/v1/accounts:signInWithPassword",pn(t,e))}async function Y0(t,e){return gn(t,"POST","/v1/accounts:sendOobCode",pn(t,e))}async function U7(t,e){return Y0(t,e)}async function z7(t,e){return Y0(t,e)}async function F7(t,e){return Y0(t,e)}async function $7(t,e){return Y0(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q7(t,e){return Gs(t,"POST","/v1/accounts:signInWithEmailLink",pn(t,e))}async function K7(t,e){return Gs(t,"POST","/v1/accounts:signInWithEmailLink",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends ff{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Go(e,n,"signInWithPassword",B7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return q7(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Go(e,r,"signUpPassword",L7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return K7(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return Gs(t,"POST","/v1/accounts:signInWithIdp",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="http://localhost";class qa extends ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new qa(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}buildRequest(){const e={requestUri:H7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e){return gn(t,"POST","/v1/accounts:sendVerificationCode",pn(t,e))}async function G7(t,e){return Gs(t,"POST","/v1/accounts:signInWithPhoneNumber",pn(t,e))}async function W7(t,e){const n=await Gs(t,"POST","/v1/accounts:signInWithPhoneNumber",pn(t,e));if(n.temporaryProof)throw um(t,"account-exists-with-different-credential",n);return n}const Y7={USER_NOT_FOUND:"user-not-found"};async function Q7(t,e){const n={...e,operation:"REAUTH"};return Gs(t,"POST","/v1/accounts:signInWithPhoneNumber",pn(t,n),Y7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends ff{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Oc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Oc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return G7(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return W7(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Q7(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new Oc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z7(t){const e=gd(cm(t)).link,n=e?gd(cm(e)).deep_link_id:null,r=gd(cm(t)).deep_link_id;return(r?gd(cm(r)).link:null)||r||n||e||t}class Q0{constructor(e){const n=gd(cm(e)),r=n.apiKey??null,i=n.oobCode??null,a=X7(n.mode??null);ye(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Z7(e);try{return new Q0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,n){return Fm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Q0.parseLink(n);return ye(r,"argument-error"),Fm._fromEmailAndCode(e,r.code,r.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _d extends hf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in n&&"signInMethod"in n,"argument-error"),qa._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),qa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return _d.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return _d.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:o,providerId:c}=e;if(!r&&!i&&!n&&!a||!c)return null;try{return new _d(c)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends hf{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends hf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends hf{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="http://localhost";class Rd extends ff{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new Rd(r,a)}static _create(e,n){return new Rd(e,n)}buildRequest(){return{requestUri:J7,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="saml.";class Cv extends Ws{constructor(e){ye(e.startsWith(eK),"argument-error"),super(e)}static credentialFromResult(e){return Cv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Rd.fromJSON(e);return ye(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Rd._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends hf{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return Gs(t,"POST","/v1/accounts:signUp",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ji._fromIdTokenResponse(e,r,i),o=DR(r);return new Bi({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DR(r);return new Bi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK(t){var i;if(nn(t.app))return Promise.reject(tr(t));const e=cn(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Bi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await KL(e,{returnSecureToken:!0}),r=await Bi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Lr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jv(e,n,r,i)}}function HL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jv._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nK(t,e){const n=Le(t);await X0(!0,n,e);const{providerUserInfo:r}=await r7(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=GL(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function IT(t,e,n=!1){const r=await Ls(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bi._forOperation(t,"link",r)}async function X0(t,e,n){await zm(e);const r=GL(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ye(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n=!1){const{auth:r}=t;if(nn(r.app))return Promise.reject(tr(r));const i="reauthenticate";try{const a=await Ls(t,HL(r,i,e,t),n);ye(a.idToken,r,"internal-error");const o=W0(a.idToken);ye(o,r,"internal-error");const{sub:c}=o;return ye(t.uid===c,r,"user-mismatch"),Bi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e,n=!1){if(nn(t.app))return Promise.reject(tr(t));const r="signIn",i=await HL(t,r,e),a=await Bi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Z0(t,e){return YL(cn(t),e)}async function QL(t,e){const n=Le(t);return await X0(!1,n,e.providerId),IT(n,e)}async function XL(t,e){return WL(Le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e){return Gs(t,"POST","/v1/accounts:signInWithCustomToken",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iK(t,e){if(nn(t.app))return Promise.reject(tr(t));const n=cn(t),r=await rK(n,{token:e,returnSecureToken:!0}),i=await Bi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?NT._fromServerResponse(e,n):"totpInfo"in n?PT._fromServerResponse(e,n):nr(e,"internal-error")}}class NT extends Ap{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new NT(n)}}class PT extends Ap{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new PT(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t,e,n){var r;ye(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),ye(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ye(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ye(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ye(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t){const e=cn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZL(t,e,n){const r=cn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&J0(r,i,n),await Go(r,i,"getOobCode",z7,"EMAIL_PASSWORD_PROVIDER")}async function aK(t,e,n){await qL(Le(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OT(t),r})}async function sK(t,e){await V7(Le(t),{oobCode:e})}async function JL(t,e){const n=Le(t),r=await qL(n,{oobCode:e}),i=r.requestType;switch(ye(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(r.mfaInfo,n,"internal-error");default:ye(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Ap._fromServerResponse(cn(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function oK(t,e){const{data:n}=await JL(Le(t),e);return n.email}async function e5(t,e,n){if(nn(t.app))return Promise.reject(tr(t));const r=cn(t),o=await Go(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KL,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&OT(t),d}),c=await Bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function t5(t,e,n){return nn(t.app)?Promise.reject(tr(t)):Z0(Le(t),vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lK(t,e,n){const r=cn(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(o,c){ye(c.handleCodeInApp,r,"argument-error"),c&&J0(r,o,c)}a(i,n),await Go(r,i,"getOobCode",F7,"EMAIL_PASSWORD_PROVIDER")}function cK(t,e){const n=Q0.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function uK(t,e,n){if(nn(t.app))return Promise.reject(tr(t));const r=Le(t),i=vl.credentialWithLink(e,n||Um());return ye(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Z0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dK(t,e){return gn(t,"POST","/v1/accounts:createAuthUri",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,e){const n=AT()?Um():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await dK(Le(t),r);return i||[]}async function RT(t,e){const n=Le(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&J0(n.auth,i,e);const{email:a}=await U7(n.auth,i);a!==t.email&&await t.reload()}async function hK(t,e,n){const r=Le(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&J0(r.auth,a,n);const{email:o}=await $7(r.auth,a);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mK(t,e){return gn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Le(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ls(r,mK(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function gK(t,e){const n=Le(t);return nn(n.auth.app)?Promise.reject(tr(n.auth)):n5(n,e,null)}function yK(t,e){return n5(Le(t),null,e)}async function n5(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const o=await Ls(t,M7(r,a));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const o=(a=(i=W0(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(o){const c=o!=="anonymous"&&o!=="custom"?o:null;return new wd(r,c)}}if(!e)return null;switch(e){case"facebook.com":return new bK(r,n);case"github.com":return new xK(r,n);case"google.com":return new _K(r,n);case"twitter.com":return new wK(r,n,t.screenName||null);case"custom":case"anonymous":return new wd(r,null);default:return new wd(r,e,n)}}class wd{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class r5 extends wd{constructor(e,n,r,i){super(e,n,r),this.username=i}}class bK extends wd{constructor(e,n){super(e,"facebook.com",n)}}class xK extends r5{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class _K extends wd{constructor(e,n){super(e,"google.com",n)}}class wK extends r5{constructor(e,n,r){super(e,"twitter.com",n,r)}}function EK(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:vK(n)}function AK(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function TK(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function SK(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function Vs(t){return Le(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new _c("enroll",e,n)}static _fromMfaPendingCredential(e){return new _c("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return _c._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return _c._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=cn(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(c=>Ap._fromServerResponse(r,c));ye(i.mfaPendingCredential,r,"internal-error");const o=_c._fromMfaPendingCredential(i.mfaPendingCredential);return new kT(o,a,async c=>{const d=await c._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:d.idToken,refreshToken:d.refreshToken};switch(n.operationType){case"signIn":const m=await Bi._fromIdTokenResponse(r,n.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return ye(n.user,r,"internal-error"),Bi._forOperation(n.user,n.operationType,f);default:nr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function IK(t,e){var i;const n=Le(t),r=e;return ye(e.customData.operationType,n,"argument-error"),ye((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),kT._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){return gn(t,"POST","/v2/accounts/mfaEnrollment:start",pn(t,e))}function NK(t,e){return gn(t,"POST","/v2/accounts/mfaEnrollment:finalize",pn(t,e))}function PK(t,e){return gn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",pn(t,e))}class CT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ap._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new CT(e)}async getSession(){return _c._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await Ls(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ls(this.user,PK(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Cw=new WeakMap;function OK(t){const e=Le(t);return Cw.has(e)||Cw.set(e,CT._fromUser(e)),Cw.get(e)}const Dv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dv,"1"),this.storage.removeItem(Dv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK=1e3,kK=10;class a5 extends i5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);h7()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kK):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a5.type="LOCAL";const eb=a5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5 extends i5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s5.type="SESSION";const tl=s5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async f=>f(n.origin,a)),d=await CK(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const f=Tp("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function DK(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function MK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function VK(){return jT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="firebaseLocalStorageDb",BK=1,Mv="firebaseLocalStorage",l5="fbase_key";class Sp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nb(t,e){return t.transaction([Mv],e?"readwrite":"readonly").objectStore(Mv)}function UK(){const t=indexedDB.deleteDatabase(o5);return new Sp(t).toPromise()}function BE(){const t=indexedDB.open(o5,BK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mv,{keyPath:l5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mv)?e(r):(r.close(),await UK(),e(await BE()))})})}async function LR(t,e,n){const r=nb(t,!0).put({[l5]:e,value:n});return new Sp(r).toPromise()}async function zK(t,e){const n=nb(t,!1).get(e),r=await new Sp(n).toPromise();return r===void 0?null:r.value}function VR(t,e){const n=nb(t,!0).delete(e);return new Sp(n).toPromise()}const FK=800,$K=3;class c5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$K)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tb._getInstance(VK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await MK(),!this.activeServiceWorker)return;this.sender=new jK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BE();return await LR(e,Dv,"1"),await VR(e,Dv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=nb(i,!1).getAll();return new Sp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c5.type="LOCAL";const kd=c5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){return gn(t,"POST","/v2/accounts/mfaSignIn:start",pn(t,e))}function qK(t,e){return gn(t,"POST","/v2/accounts/mfaSignIn:finalize",pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=UL("rcb"),KK=new xp(3e4,6e4);class HK{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=On().grecaptcha)!=null&&e.render)}load(e,n=""){return ye(GK(n),e,"argument-error"),this.shouldResolveImmediately(n)&&IR(On().grecaptcha)?Promise.resolve(On().grecaptcha):new Promise((r,i)=>{const a=On().setTimeout(()=>{i(zn(e,"network-request-failed"))},KK.get());On()[jw]=()=>{On().clearTimeout(a),delete On()[jw];const c=On().grecaptcha;if(!c||!IR(c)){i(zn(e,"internal-error"));return}const d=c.render;c.render=(f,m)=>{const g=d(f,m);return this.counter++,g},this.hostLanguage=n,r(c)};const o=`${x7()}?${uf({onload:jw,render:"explicit",hl:n})}`;ST(o).catch(()=>{clearTimeout(a),i(zn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=On().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function GK(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class WK{async load(e){return new T7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="recaptcha",YK={theme:"light",type:"image"};let QK=class{constructor(e,n,r={...YK}){this.parameters=r,this.type=wm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ye(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new WK:new HK,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=o=>{o&&(this.tokenChangeListeners.delete(a),i(o))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=On()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(AT()&&!jT(),this.auth,"internal-error"),await XK(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await t7(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function XK(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Oc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function ZK(t,e,n){if(nn(t.app))return Promise.reject(tr(t));const r=cn(t),i=await rb(r,e,Le(n));return new DT(i,a=>Z0(r,a))}async function JK(t,e,n){const r=Le(t);await X0(!1,r,"phone");const i=await rb(r.auth,e,Le(n));return new DT(i,a=>QL(r,a))}async function eH(t,e,n){const r=Le(t);if(nn(r.auth.app))return Promise.reject(tr(r.auth));const i=await rb(r.auth,e,Le(n));return new DT(i,a=>XL(r,a))}async function rb(t,e,n){var r;if(!t._getRecaptchaConfig())try{await R7(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){ye(a.type==="enroll",t,"internal-error");const o={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Go(t,o,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===_m){ye((n==null?void 0:n.type)===wm,m,"argument-error");const v=await Dw(m,g,n);return MR(m,v)}return MR(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{ye(a.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;ye(o,t,"missing-multi-factor-info");const c={mfaPendingCredential:a.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Go(t,c,"mfaSmsSignIn",async(g,v)=>{if(v.phoneSignInInfo.captchaResponse===_m){ye((n==null?void 0:n.type)===wm,g,"argument-error");const x=await Dw(g,v,n);return BR(g,x)}return BR(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Go(t,a,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===_m){ye((n==null?void 0:n.type)===wm,f,"argument-error");const g=await Dw(f,m,n);return jR(f,g)}return jR(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{n==null||n._reset()}}async function tH(t,e){const n=Le(t);if(nn(n.auth.app))return Promise.reject(tr(n.auth));await IT(n,e)}async function Dw(t,e,n){ye(n.type===wm,t,"argument-error");const r=await n.verify();ye(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:o,clientType:c,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=class fv{constructor(e){this.providerId=fv.PROVIDER_ID,this.auth=cn(e)}verifyPhoneNumber(e,n){return rb(this.auth,e,Le(n))}static credential(e,n){return Oc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return fv.credentialFromTaggedObject(n)}static credentialFromError(e){return fv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Oc._fromTokenResponse(n,r):null}};Mc.PROVIDER_ID="phone";Mc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t,e){return e?mi(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends ff{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nH(t){return YL(t.auth,new MT(t),t.bypassAuthState)}function rH(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),WL(n,new MT(t),t.bypassAuthState)}async function iH(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),IT(n,new MT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nH;case"linkViaPopup":case"linkViaRedirect":return iH;case"reauthViaPopup":case"reauthViaRedirect":return rH;default:nr(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=new xp(2e3,1e4);async function sH(t,e,n){if(nn(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));const r=cn(t);df(t,e,Ws);const i=tu(r,n);return new Ss(r,"signInViaPopup",e,i).executeNotNull()}async function oH(t,e,n){const r=Le(t);if(nn(r.auth.app))return Promise.reject(zn(r.auth,"operation-not-supported-in-this-environment"));df(r.auth,e,Ws);const i=tu(r.auth,n);return new Ss(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function lH(t,e,n){const r=Le(t);df(r.auth,e,Ws);const i=tu(r.auth,n);return new Ss(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ss extends u5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aH.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="pendingRedirect",Em=new Map;class uH extends u5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const r=await dH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dH(t,e){const n=f5(e),r=d5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function LT(t,e){return d5(t)._set(f5(e),"true")}function fH(){Em.clear()}function VT(t,e){Em.set(t._key(),e)}function d5(t){return mi(t._redirectPersistence)}function f5(t){return Pc(cH,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t,e,n){return mH(t,e,n)}async function mH(t,e,n){if(nn(t.app))return Promise.reject(tr(t));const r=cn(t);df(t,e,Ws),await r._initializationPromise;const i=tu(r,n);return await LT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function pH(t,e,n){return gH(t,e,n)}async function gH(t,e,n){const r=Le(t);if(df(r.auth,e,Ws),nn(r.auth.app))return Promise.reject(tr(r.auth));await r.auth._initializationPromise;const i=tu(r.auth,n);await LT(i,r.auth);const a=await h5(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function yH(t,e,n){return vH(t,e,n)}async function vH(t,e,n){const r=Le(t);df(r.auth,e,Ws),await r.auth._initializationPromise;const i=tu(r.auth,n);await X0(!1,r,e.providerId),await LT(i,r.auth);const a=await h5(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function bH(t,e){return await cn(t)._initializationPromise,ib(t,e,!1)}async function ib(t,e,n=!1){if(nn(t.app))return Promise.reject(tr(t));const r=cn(t),i=tu(r,e),o=await new uH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function h5(t){const e=Tp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=600*1e3;class m5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_H(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p5(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xH&&this.cachedEventUids.clear(),this.cachedEventUids.has(UR(e))}saveEventToCache(e){this.cachedEventUids.add(UR(e)),this.lastProcessedEventTime=Date.now()}}function UR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _H(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e={}){return gn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EH=/^https?/;async function AH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g5(t);for(const n of e)try{if(TH(n))return}catch{}nr(t,"unauthorized-domain")}function TH(t){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!EH.test(n))return!1;if(wH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=new xp(3e4,6e4);function zR(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IH(t){return new Promise((e,n)=>{var i,a,o;function r(){zR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zR(),n(zn(t,"network-request-failed"))},timeout:SH.get()})}if((a=(i=On().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=On().gapi)!=null&&o.load)r();else{const c=UL("iframefcb");return On()[c]=()=>{gapi.load?r():n(zn(t,"network-request-failed"))},ST(`${w7()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw hv=null,e})}let hv=null;function NH(t){return hv=hv||IH(t),hv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=new xp(5e3,15e3),OH="__/auth/iframe",RH="emulator/auth/iframe",kH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jH(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TT(e,RH):`https://${t.config.authDomain}/${OH}`,r={apiKey:e.apiKey,appName:t.name,v:yl},i=CH.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${uf(r).slice(1)}`}async function DH(t){const e=await NH(t),n=On().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:jH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kH,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),c=On().setTimeout(()=>{a(o)},PH.get());function d(){On().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LH=500,VH=600,BH="_blank",UH="http://localhost";class FR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zH(t,e,n,r=LH,i=VH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...MH,width:r.toString(),height:i.toString(),top:a,left:o},f=ln().toLowerCase();n&&(c=jL(f)?BH:n),kL(f)&&(e=e||UH,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[x,A])=>`${v}${x}=${A},`,"");if(f7(f)&&c!=="_self")return FH(e||"",c),new FR(null);const g=window.open(e||"",c,m);ye(g,t,"popup-blocked");try{g.focus()}catch{}return new FR(g)}function FH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="__/auth/handler",qH="emulator/auth/handler",KH=encodeURIComponent("fac");async function UE(t,e,n,r,i,a){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:i};if(e instanceof Ws){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(a||{}))o[m]=g}if(e instanceof hf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${KH}=${encodeURIComponent(d)}`:"";return`${HH(t)}?${uf(c).slice(1)}${f}`}function HH({config:t}){return t.emulator?TT(t,qH):`https://${t.authDomain}/${$H}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="webStorageSupport";class GH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tl,this._completeRedirectFn=ib,this._overrideRedirectResult=VT}async _openPopup(e,n,r,i){var o;ia((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await UE(e,n,r,Um(),i);return zH(e,a,Tp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await UE(e,n,r,Um(),i);return DK(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ia(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DH(e),r=new m5(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mw,{type:Mw},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Mw];a!==void 0&&n(!!a),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VL()||CL()||wp()}}const y5=GH;class WH{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ra("unexpected MultiFactorSessionType")}}}class BT extends WH{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new BT(e)}_finalizeEnroll(e,n,r){return NK(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return qK(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class v5{constructor(){}static assertion(e){return BT._fromCredential(e)}}v5.FACTOR_ID="phone";var $R="@firebase/auth",qR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XH(t){el(new $a("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BL(t)},f=new v7(r,i,a,d);return C7(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new $a("auth-internal",e=>{const n=cn(e.getProvider("auth").getImmediate());return(r=>new YH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta($R,qR,QH(t)),ta($R,qR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=300,JH=rL("authIdTokenMaxAge")||ZH;let KR=null;const eG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JH)return;const i=n==null?void 0:n.token;KR!==i&&(KR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tG(t=xT()){const e=bp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k7(t,{popupRedirectResolver:y5,persistence:[kd,eb,tl]}),r=rL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=eG(a.toString());TK(n,o,()=>o(n.currentUser)),AK(n,c=>o(c))}}const i=nL("auth");return i&&FL(n,`http://${i}`),n}function nG(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}b7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=zn("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",nG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XH("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this._delegate=e,this.firebase=n,Vm(e,new $a("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),_T(this._delegate)))}_getService(e,n=Zo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Zo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Vm(this._delegate,e)}_addOrOverwriteComponent(e){gL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},HR=new eu("app-compat","Firebase",iG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:ta,setLogLevel:xL,onLog:bL,apps:null,SDK_VERSION:yl,INTERNAL:{registerComponent:c,removeApp:r,useAsService:d,modularAPIs:$q}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(f){delete e[f]}function i(f){if(f=f||Zo,!yR(e,f))throw HR.create("no-app",{appName:f});return e[f]}i.App=t;function a(f,m={}){const g=bT(f,m);if(yR(e,g.name))return e[g.name];const v=new t(g,n);return e[g.name]=v,v}function o(){return Object.keys(e).map(f=>e[f])}function c(f){const m=f.name,g=m.replace("-compat","");if(el(f)&&f.type==="PUBLIC"){const v=(x=i())=>{if(typeof x[g]!="function")throw HR.create("invalid-app-argument",{appName:m});return x[g]()};f.serviceProps!==void 0&&Pv(v,f.serviceProps),n[g]=v,t.prototype[g]=function(...x){return this._getService.bind(this,m).apply(this,f.multipleInstances?x:[])}}return f.type==="PUBLIC"?n[g]:null}function d(f,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){const t=aG(rG);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:b5,extendNamespace:e,createSubscribe:dL,ErrorFactory:eu,deepExtend:Pv};function e(n){Pv(t,n)}return t}const sG=b5();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new G0("@firebase/app-compat"),oG="@firebase/app-compat",lG="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){ta(oG,lG,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=hT();if(t.firebase!==void 0){GR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&GR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const mf=sG;cG();var uG="firebase",dG="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mf.registerVersion(uG,dG,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=2e3;async function hG(t,e,n){const{BuildInfo:r}=Lc();ia(e.sessionId,"AuthEvent did not contain a session ID");const i=await vG(e.sessionId),a={};return wp()?a.ibi=r.packageName:_p()?a.apn=r.packageName:nr(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,UE(t,n,e.type,void 0,e.eventId??void 0,a)}async function mG(t){const{BuildInfo:e}=Lc(),n={};wp()?n.iosBundleId=e.packageName:_p()?n.androidPackageName=e.packageName:nr(t,"operation-not-supported-in-this-environment"),await g5(t,n)}function pG(t){const{cordova:e}=Lc();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,d7()?"_blank":"_system","location=yes"),n(i)})})}async function gG(t,e,n){const{cordova:r}=Lc();let i=()=>{};try{await new Promise((a,o)=>{let c=null;function d(){var v;a();const g=(v=r.plugins.browsertab)==null?void 0:v.close;typeof g=="function"&&g(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{o(zn(t,"redirect-cancelled-by-user"))},fG))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),_p()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),c&&window.clearTimeout(c)}})}finally{i()}}function yG(t){var n,r,i,a,o,c,d,f,m,g;const e=Lc();ye(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((o=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((f=(d=(c=e==null?void 0:e.cordova)==null?void 0:c.plugins)==null?void 0:d.browsertab)==null?void 0:f.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((g=(m=e==null?void 0:e.cordova)==null?void 0:m.InAppBrowser)==null?void 0:g.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function vG(t){const e=bG(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function bG(t){if(ia(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG=20;class _G extends m5{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function wG(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:TG(),postBody:null,tenantId:t.tenantId,error:zn(t,"no-auth-event")}}function EG(t,e){return zE()._set(FE(t),e)}async function WR(t){const e=await zE()._get(FE(t));return e&&await zE()._remove(FE(t)),e}function AG(t,e){var r,i;const n=IG(e);if(n.includes("/__/auth/callback")){const a=mv(n),o=a.firebaseError?SG(decodeURIComponent(a.firebaseError)):null,c=(i=(r=o==null?void 0:o.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],d=c?zn(c):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function TG(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<xG;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function zE(){return mi(eb)}function FE(t){return Pc("authEvent",t.config.apiKey,t.name)}function SG(t){try{return JSON.parse(t)}catch{return null}}function IG(t){const e=mv(t),n=e.link?decodeURIComponent(e.link):void 0,r=mv(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return mv(i).link||i||r||n||t}function mv(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return gd(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=500;class PG{constructor(){this._redirectPersistence=tl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ib,this._overrideRedirectResult=VT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new _G(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){nr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){yG(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),fH(),await this._originValidation(e);const o=wG(e,r,i);await EG(e,o);const c=await hG(e,o,n),d=await pG(c);return gG(e,a,d)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mG(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Lc(),o=setTimeout(async()=>{await WR(e),n.onEvent(YR())},NG),c=async m=>{clearTimeout(o);const g=await WR(e);let v=null;g&&(m!=null&&m.url)&&(v=AG(g,m.url)),n.onEvent(v||YR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const d=i,f=`${a.packageName.toLowerCase()}://`;Lc().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&c({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const OG=PG;function YR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(t,e){cn(t)._logFramework(e)}var kG="@firebase/auth-compat",CG="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=1e3;function Am(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function DG(){return Am()==="http:"||Am()==="https:"}function x5(t=ln()){return!!((Am()==="file:"||Am()==="ionic:"||Am()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function MG(){return pT()||H0()}function LG(){return lL()&&(document==null?void 0:document.documentMode)===11}function VG(t=ln()){return/Edge\/\d+/.test(t)}function BG(t=ln()){return LG()||VG(t)}function _5(){try{const t=self.localStorage,e=Tp();if(t)return t.setItem(e,"1"),t.removeItem(e),BG()?Lm():!0}catch{return UT()&&Lm()}return!1}function UT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lw(){return(DG()||oL()||x5())&&!MG()&&_5()&&!UT()}function w5(){return x5()&&typeof document<"u"}async function UG(){return w5()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},jG);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function zG(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={LOCAL:"local",NONE:"none",SESSION:"session"},Gh=ye,E5="persistence";function FG(t,e){if(Gh(Object.values(di).includes(e),t,"invalid-persistence-type"),pT()){Gh(e!==di.SESSION,t,"unsupported-persistence-type");return}if(H0()){Gh(e===di.NONE,t,"unsupported-persistence-type");return}if(UT()){Gh(e===di.NONE||e===di.LOCAL&&Lm(),t,"unsupported-persistence-type");return}Gh(e===di.NONE||_5(),t,"unsupported-persistence-type")}async function $E(t){await t._initializationPromise;const e=A5(),n=Pc(E5,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function $G(t,e){const n=A5();if(!n)return[];const r=Pc(E5,t,e);switch(n.getItem(r)){case di.NONE:return[Od];case di.LOCAL:return[kd,tl];case di.SESSION:return[tl];default:return[]}}function A5(){var t;try{return((t=zG())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=ye;class $o{constructor(){this.browserResolver=mi(y5),this.cordovaResolver=mi(OG),this.underlyingResolver=null,this._redirectPersistence=tl,this._completeRedirectFn=ib,this._overrideRedirectResult=VT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return w5()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qG(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await UG();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){return t.unwrap()}function KG(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(t){return S5(t)}function GG(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new WG(t,IK(t,e))}else if(n){const i=S5(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function S5(t){const{_tokenResponse:e}=t instanceof Lr?t.customData:t;if(!e)return null;if(!(t instanceof Lr)&&"temporaryProof"in e&&"phoneNumber"in e)return Mc.credentialFromResult(t);const n=e.providerId;if(!n||n===Kh.PASSWORD)return null;let r;switch(n){case Kh.GOOGLE:r=Sa;break;case Kh.FACEBOOK:r=Ta;break;case Kh.GITHUB:r=Ia;break;case Kh.TWITTER:r=Na;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:o,pendingToken:c,nonce:d}=e;return!a&&!o&&!i&&!c?null:c?n.startsWith("saml.")?Rd._create(n,c):qa._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:i,accessToken:a}):new _d(n).credential({idToken:i,accessToken:a,rawNonce:d})}return t instanceof Lr?r.credentialFromError(t):r.credentialFromResult(t)}function Kr(t,e){return e.catch(n=>{throw n instanceof Lr&&GG(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:HG(n),additionalUserInfo:EK(n),user:ab.getOrCreate(i)}})}async function qE(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Kr(t,n.confirm(r))}}class WG{constructor(e,n){this.resolver=n,this.auth=KG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Kr(T5(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab=class dm{constructor(e){this._delegate=e,this.multiFactor=OK(e)}static getOrCreate(e){return dm.USER_MAP.has(e)||dm.USER_MAP.set(e,new dm(e)),dm.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Kr(this.auth,QL(this._delegate,e))}async linkWithPhoneNumber(e,n){return qE(this.auth,JK(this._delegate,e,n))}async linkWithPopup(e){return Kr(this.auth,lH(this._delegate,e,$o))}async linkWithRedirect(e){return await $E(cn(this.auth)),yH(this._delegate,e,$o)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Kr(this.auth,XL(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return qE(this.auth,eH(this._delegate,e,n))}reauthenticateWithPopup(e){return Kr(this.auth,oH(this._delegate,e,$o))}async reauthenticateWithRedirect(e){return await $E(cn(this.auth)),pH(this._delegate,e,$o)}sendEmailVerification(e){return RT(this._delegate,e)}async unlink(e){return await nK(this._delegate,e),this}updateEmail(e){return gK(this._delegate,e)}updatePassword(e){return yK(this._delegate,e)}updatePhoneNumber(e){return tH(this._delegate,e)}updateProfile(e){return pK(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return hK(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};ab.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=ye;let KE=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Wh(r,"invalid-api-key",{appName:e.name}),Wh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?$o:void 0;this._delegate=n.initialize({options:{persistence:YG(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Kq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ab.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){FL(this._delegate,e,n)}applyActionCode(e){return sK(this._delegate,e)}checkActionCode(e){return JL(this._delegate,e)}confirmPasswordReset(e,n){return aK(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Kr(this._delegate,e5(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return fK(this._delegate,e)}isSignInWithEmailLink(e){return cK(this._delegate,e)}async getRedirectResult(){Wh(Lw(),this._delegate,"operation-not-supported-in-this-environment");const e=await bH(this._delegate,$o);return e?Kr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){RG(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:o}=QR(e,n,r);return this._delegate.onAuthStateChanged(i,a,o)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:o}=QR(e,n,r);return this._delegate.onIdTokenChanged(i,a,o)}sendSignInLinkToEmail(e,n){return lK(this._delegate,e,n)}sendPasswordResetEmail(e,n){return ZL(this._delegate,e,n||void 0)}async setPersistence(e){FG(this._delegate,e);let n;switch(e){case di.SESSION:n=tl;break;case di.LOCAL:n=await mi(kd)._isAvailable()?kd:eb;break;case di.NONE:n=Od;break;default:return nr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Kr(this._delegate,tK(this._delegate))}signInWithCredential(e){return Kr(this._delegate,Z0(this._delegate,e))}signInWithCustomToken(e){return Kr(this._delegate,iK(this._delegate,e))}signInWithEmailAndPassword(e,n){return Kr(this._delegate,t5(this._delegate,e,n))}signInWithEmailLink(e,n){return Kr(this._delegate,uK(this._delegate,e,n))}signInWithPhoneNumber(e,n){return qE(this._delegate,ZK(this._delegate,e,n))}async signInWithPopup(e){return Wh(Lw(),this._delegate,"operation-not-supported-in-this-environment"),Kr(this._delegate,sH(this._delegate,e,$o))}async signInWithRedirect(e){return Wh(Lw(),this._delegate,"operation-not-supported-in-this-environment"),await $E(this._delegate),hH(this._delegate,e,$o)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return oK(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};KE.Persistence=di;function QR(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ab.getOrCreate(o)),error:e,complete:n}}function YG(t,e){const n=$G(t,e);if(typeof self<"u"&&!n.includes(kd)&&n.push(kd),typeof window<"u")for(const r of[eb,tl])n.includes(r)||n.push(r);return n.includes(Od)||n.push(Od),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static credential(e,n){return Mc.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Mc(T5(mf.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}zT.PHONE_SIGN_IN_METHOD=Mc.PHONE_SIGN_IN_METHOD;zT.PROVIDER_ID=Mc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=ye;class XG{constructor(e,n,r=mf.app()){var i;QG((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new QK(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="auth-compat";function JG(t){t.INTERNAL.registerComponent(new $a(ZG,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new KE(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nd.EMAIL_SIGNIN,PASSWORD_RESET:nd.PASSWORD_RESET,RECOVER_EMAIL:nd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:nd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:nd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:nd.VERIFY_EMAIL}},EmailAuthProvider:vl,FacebookAuthProvider:Ta,GithubAuthProvider:Ia,GoogleAuthProvider:Sa,OAuthProvider:_d,SAMLAuthProvider:Cv,PhoneAuthProvider:zT,PhoneMultiFactorGenerator:v5,RecaptchaVerifier:XG,TwitterAuthProvider:Na,Auth:KE,AuthCredential:ff,Error:Lr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(kG,CG)}JG(mf);var XR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,I5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,k){function D(){}D.prototype=k.prototype,I.D=k.prototype,I.prototype=new D,I.prototype.constructor=I,I.C=function(B,F,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return k.prototype[F].apply(B,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,k,D){D||(D=0);var B=Array(16);if(typeof k=="string")for(var F=0;16>F;++F)B[F]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(F=0;16>F;++F)B[F]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=I.g[0],D=I.g[1],F=I.g[2];var $=I.g[3],U=k+($^D&(F^$))+B[0]+3614090360&4294967295;k=D+(U<<7&4294967295|U>>>25),U=$+(F^k&(D^F))+B[1]+3905402710&4294967295,$=k+(U<<12&4294967295|U>>>20),U=F+(D^$&(k^D))+B[2]+606105819&4294967295,F=$+(U<<17&4294967295|U>>>15),U=D+(k^F&($^k))+B[3]+3250441966&4294967295,D=F+(U<<22&4294967295|U>>>10),U=k+($^D&(F^$))+B[4]+4118548399&4294967295,k=D+(U<<7&4294967295|U>>>25),U=$+(F^k&(D^F))+B[5]+1200080426&4294967295,$=k+(U<<12&4294967295|U>>>20),U=F+(D^$&(k^D))+B[6]+2821735955&4294967295,F=$+(U<<17&4294967295|U>>>15),U=D+(k^F&($^k))+B[7]+4249261313&4294967295,D=F+(U<<22&4294967295|U>>>10),U=k+($^D&(F^$))+B[8]+1770035416&4294967295,k=D+(U<<7&4294967295|U>>>25),U=$+(F^k&(D^F))+B[9]+2336552879&4294967295,$=k+(U<<12&4294967295|U>>>20),U=F+(D^$&(k^D))+B[10]+4294925233&4294967295,F=$+(U<<17&4294967295|U>>>15),U=D+(k^F&($^k))+B[11]+2304563134&4294967295,D=F+(U<<22&4294967295|U>>>10),U=k+($^D&(F^$))+B[12]+1804603682&4294967295,k=D+(U<<7&4294967295|U>>>25),U=$+(F^k&(D^F))+B[13]+4254626195&4294967295,$=k+(U<<12&4294967295|U>>>20),U=F+(D^$&(k^D))+B[14]+2792965006&4294967295,F=$+(U<<17&4294967295|U>>>15),U=D+(k^F&($^k))+B[15]+1236535329&4294967295,D=F+(U<<22&4294967295|U>>>10),U=k+(F^$&(D^F))+B[1]+4129170786&4294967295,k=D+(U<<5&4294967295|U>>>27),U=$+(D^F&(k^D))+B[6]+3225465664&4294967295,$=k+(U<<9&4294967295|U>>>23),U=F+(k^D&($^k))+B[11]+643717713&4294967295,F=$+(U<<14&4294967295|U>>>18),U=D+($^k&(F^$))+B[0]+3921069994&4294967295,D=F+(U<<20&4294967295|U>>>12),U=k+(F^$&(D^F))+B[5]+3593408605&4294967295,k=D+(U<<5&4294967295|U>>>27),U=$+(D^F&(k^D))+B[10]+38016083&4294967295,$=k+(U<<9&4294967295|U>>>23),U=F+(k^D&($^k))+B[15]+3634488961&4294967295,F=$+(U<<14&4294967295|U>>>18),U=D+($^k&(F^$))+B[4]+3889429448&4294967295,D=F+(U<<20&4294967295|U>>>12),U=k+(F^$&(D^F))+B[9]+568446438&4294967295,k=D+(U<<5&4294967295|U>>>27),U=$+(D^F&(k^D))+B[14]+3275163606&4294967295,$=k+(U<<9&4294967295|U>>>23),U=F+(k^D&($^k))+B[3]+4107603335&4294967295,F=$+(U<<14&4294967295|U>>>18),U=D+($^k&(F^$))+B[8]+1163531501&4294967295,D=F+(U<<20&4294967295|U>>>12),U=k+(F^$&(D^F))+B[13]+2850285829&4294967295,k=D+(U<<5&4294967295|U>>>27),U=$+(D^F&(k^D))+B[2]+4243563512&4294967295,$=k+(U<<9&4294967295|U>>>23),U=F+(k^D&($^k))+B[7]+1735328473&4294967295,F=$+(U<<14&4294967295|U>>>18),U=D+($^k&(F^$))+B[12]+2368359562&4294967295,D=F+(U<<20&4294967295|U>>>12),U=k+(D^F^$)+B[5]+4294588738&4294967295,k=D+(U<<4&4294967295|U>>>28),U=$+(k^D^F)+B[8]+2272392833&4294967295,$=k+(U<<11&4294967295|U>>>21),U=F+($^k^D)+B[11]+1839030562&4294967295,F=$+(U<<16&4294967295|U>>>16),U=D+(F^$^k)+B[14]+4259657740&4294967295,D=F+(U<<23&4294967295|U>>>9),U=k+(D^F^$)+B[1]+2763975236&4294967295,k=D+(U<<4&4294967295|U>>>28),U=$+(k^D^F)+B[4]+1272893353&4294967295,$=k+(U<<11&4294967295|U>>>21),U=F+($^k^D)+B[7]+4139469664&4294967295,F=$+(U<<16&4294967295|U>>>16),U=D+(F^$^k)+B[10]+3200236656&4294967295,D=F+(U<<23&4294967295|U>>>9),U=k+(D^F^$)+B[13]+681279174&4294967295,k=D+(U<<4&4294967295|U>>>28),U=$+(k^D^F)+B[0]+3936430074&4294967295,$=k+(U<<11&4294967295|U>>>21),U=F+($^k^D)+B[3]+3572445317&4294967295,F=$+(U<<16&4294967295|U>>>16),U=D+(F^$^k)+B[6]+76029189&4294967295,D=F+(U<<23&4294967295|U>>>9),U=k+(D^F^$)+B[9]+3654602809&4294967295,k=D+(U<<4&4294967295|U>>>28),U=$+(k^D^F)+B[12]+3873151461&4294967295,$=k+(U<<11&4294967295|U>>>21),U=F+($^k^D)+B[15]+530742520&4294967295,F=$+(U<<16&4294967295|U>>>16),U=D+(F^$^k)+B[2]+3299628645&4294967295,D=F+(U<<23&4294967295|U>>>9),U=k+(F^(D|~$))+B[0]+4096336452&4294967295,k=D+(U<<6&4294967295|U>>>26),U=$+(D^(k|~F))+B[7]+1126891415&4294967295,$=k+(U<<10&4294967295|U>>>22),U=F+(k^($|~D))+B[14]+2878612391&4294967295,F=$+(U<<15&4294967295|U>>>17),U=D+($^(F|~k))+B[5]+4237533241&4294967295,D=F+(U<<21&4294967295|U>>>11),U=k+(F^(D|~$))+B[12]+1700485571&4294967295,k=D+(U<<6&4294967295|U>>>26),U=$+(D^(k|~F))+B[3]+2399980690&4294967295,$=k+(U<<10&4294967295|U>>>22),U=F+(k^($|~D))+B[10]+4293915773&4294967295,F=$+(U<<15&4294967295|U>>>17),U=D+($^(F|~k))+B[1]+2240044497&4294967295,D=F+(U<<21&4294967295|U>>>11),U=k+(F^(D|~$))+B[8]+1873313359&4294967295,k=D+(U<<6&4294967295|U>>>26),U=$+(D^(k|~F))+B[15]+4264355552&4294967295,$=k+(U<<10&4294967295|U>>>22),U=F+(k^($|~D))+B[6]+2734768916&4294967295,F=$+(U<<15&4294967295|U>>>17),U=D+($^(F|~k))+B[13]+1309151649&4294967295,D=F+(U<<21&4294967295|U>>>11),U=k+(F^(D|~$))+B[4]+4149444226&4294967295,k=D+(U<<6&4294967295|U>>>26),U=$+(D^(k|~F))+B[11]+3174756917&4294967295,$=k+(U<<10&4294967295|U>>>22),U=F+(k^($|~D))+B[2]+718787259&4294967295,F=$+(U<<15&4294967295|U>>>17),U=D+($^(F|~k))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(F+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+$&4294967295}r.prototype.u=function(I,k){k===void 0&&(k=I.length);for(var D=k-this.blockSize,B=this.B,F=this.h,$=0;$<k;){if(F==0)for(;$<=D;)i(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<k;)if(B[F++]=I.charCodeAt($++),F==this.blockSize){i(this,B),F=0;break}}else for(;$<k;)if(B[F++]=I[$++],F==this.blockSize){i(this,B),F=0;break}}this.h=F,this.o+=k},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;var D=8*this.o;for(k=I.length-8;k<I.length;++k)I[k]=D&255,D/=256;for(this.u(I),I=Array(16),k=D=0;4>k;++k)for(var B=0;32>B;B+=8)I[D++]=this.g[k]>>>B&255;return I};function a(I,k){var D=c;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=k(I)}function o(I,k){this.h=k;for(var D=[],B=!0,F=I.length-1;0<=F;F--){var $=I[F]|0;B&&$==k||(D[F]=$,B=!1)}this.g=D}var c={};function d(I){return-128<=I&&128>I?a(I,function(k){return new o([k|0],0>k?-1:0)}):new o([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return S(f(-I));for(var k=[],D=1,B=0;I>=D;B++)k[B]=I/D|0,D*=4294967296;return new o(k,0)}function m(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return S(m(I.substring(1),k));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(k,8)),B=g,F=0;F<I.length;F+=8){var $=Math.min(8,I.length-F),U=parseInt(I.substring(F,F+$),k);8>$?($=f(Math.pow(k,$)),B=B.j($).add(f(U))):(B=B.j(D),B=B.add(f(U)))}return B}var g=d(0),v=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var I=0,k=1,D=0;D<this.g.length;D++){var B=this.i(D);I+=(0<=B?B:4294967296+B)*k,k*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(E(this))return"-"+S(this).toString(I);for(var k=f(Math.pow(I,6)),D=this,B="";;){var F=M(D,k).g;D=P(D,F.j(k));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(I);if(D=F,A(D))return $+B;for(;6>$.length;)$="0"+$;B=$+B}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=P(this,I),E(I)?-1:A(I)?0:1};function S(I){for(var k=I.g.length,D=[],B=0;B<k;B++)D[B]=~I.g[B];return new o(D,~I.h).add(v)}t.abs=function(){return E(this)?S(this):this},t.add=function(I){for(var k=Math.max(this.g.length,I.g.length),D=[],B=0,F=0;F<=k;F++){var $=B+(this.i(F)&65535)+(I.i(F)&65535),U=($>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);B=U>>>16,$&=65535,U&=65535,D[F]=U<<16|$}return new o(D,D[D.length-1]&-2147483648?-1:0)};function P(I,k){return I.add(S(k))}t.j=function(I){if(A(this)||A(I))return g;if(E(this))return E(I)?S(this).j(S(I)):S(S(this).j(I));if(E(I))return S(this.j(S(I)));if(0>this.l(x)&&0>I.l(x))return f(this.m()*I.m());for(var k=this.g.length+I.g.length,D=[],B=0;B<2*k;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(var F=0;F<I.g.length;F++){var $=this.i(B)>>>16,U=this.i(B)&65535,he=I.i(F)>>>16,ve=I.i(F)&65535;D[2*B+2*F]+=U*ve,O(D,2*B+2*F),D[2*B+2*F+1]+=$*ve,O(D,2*B+2*F+1),D[2*B+2*F+1]+=U*he,O(D,2*B+2*F+1),D[2*B+2*F+2]+=$*he,O(D,2*B+2*F+2)}for(B=0;B<k;B++)D[B]=D[2*B+1]<<16|D[2*B];for(B=k;B<2*k;B++)D[B]=0;return new o(D,0)};function O(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function j(I,k){this.g=I,this.h=k}function M(I,k){if(A(k))throw Error("division by zero");if(A(I))return new j(g,g);if(E(I))return k=M(S(I),k),new j(S(k.g),S(k.h));if(E(k))return k=M(I,S(k)),new j(S(k.g),k.h);if(30<I.g.length){if(E(I)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var D=v,B=k;0>=B.l(I);)D=C(D),B=C(B);var F=V(D,1),$=V(B,1);for(B=V(B,2),D=V(D,2);!A(B);){var U=$.add(B);0>=U.l(I)&&(F=F.add(D),$=U),B=V(B,1),D=V(D,1)}return k=P(I,F.j(k)),new j(F,k)}for(F=g;0<=I.l(k);){for(D=Math.max(1,Math.floor(I.m()/k.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),$=f(D),U=$.j(k);E(U)||0<U.l(I);)D-=B,$=f(D),U=$.j(k);A($)&&($=v),F=F.add($),I=P(I,U)}return new j(F,I)}t.A=function(I){return M(this,I).h},t.and=function(I){for(var k=Math.max(this.g.length,I.g.length),D=[],B=0;B<k;B++)D[B]=this.i(B)&I.i(B);return new o(D,this.h&I.h)},t.or=function(I){for(var k=Math.max(this.g.length,I.g.length),D=[],B=0;B<k;B++)D[B]=this.i(B)|I.i(B);return new o(D,this.h|I.h)},t.xor=function(I){for(var k=Math.max(this.g.length,I.g.length),D=[],B=0;B<k;B++)D[B]=this.i(B)^I.i(B);return new o(D,this.h^I.h)};function C(I){for(var k=I.g.length+1,D=[],B=0;B<k;B++)D[B]=I.i(B)<<1|I.i(B-1)>>>31;return new o(D,I.h)}function V(I,k){var D=k>>5;k%=32;for(var B=I.g.length-D,F=[],$=0;$<B;$++)F[$]=0<k?I.i($+D)>>>k|I.i($+D+1)<<32-k:I.i($+D);return new o(F,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,I5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=m,Wo=o}).apply(typeof XR<"u"?XR:typeof self<"u"?self:typeof window<"u"?window:{});var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N5,fm,P5,pv,HE,O5,R5,k5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,T,N){return y==Array.prototype||y==Object.prototype||(y[T]=N.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vy=="object"&&Vy];for(var T=0;T<y.length;++T){var N=y[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var N=r;y=y.split(".");for(var z=0;z<y.length-1;z++){var Y=y[z];if(!(Y in N))break e;N=N[Y]}y=y[y.length-1],z=N[y],T=T(z),T!=z&&T!=null&&e(N,y,{configurable:!0,writable:!0,value:T})}}function a(y,T){y instanceof String&&(y+="");var N=0,z=!1,Y={next:function(){if(!z&&N<y.length){var se=N++;return{value:T(se,y[se]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(y){return y||function(){return a(this,function(T,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(y){var T=typeof y;return T=T!="object"?T:y?Array.isArray(y)?"array":T:"null",T=="array"||T=="object"&&typeof y.length=="number"}function f(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function m(y,T,N){return y.call.apply(y.bind,arguments)}function g(y,T,N){if(!y)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,z),y.apply(T,Y)}}return function(){return y.apply(T,arguments)}}function v(y,T,N){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function x(y,T){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),y.apply(this,z)}}function A(y,T){function N(){}N.prototype=T.prototype,y.aa=T.prototype,y.prototype=new N,y.prototype.constructor=y,y.Qb=function(z,Y,se){for(var be=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)be[ut-2]=arguments[ut];return T.prototype[Y].apply(z,be)}}function E(y){const T=y.length;if(0<T){const N=Array(T);for(let z=0;z<T;z++)N[z]=y[z];return N}return[]}function S(y,T){for(let N=1;N<arguments.length;N++){const z=arguments[N];if(d(z)){const Y=y.length||0,se=z.length||0;y.length=Y+se;for(let be=0;be<se;be++)y[Y+be]=z[be]}else y.push(z)}}class P{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function O(y){return/^[\s\xa0]*$/.test(y)}function j(){var y=c.navigator;return y&&(y=y.userAgent)?y:""}function M(y){return M[" "](y),y}M[" "]=function(){};var C=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function V(y,T,N){for(const z in y)T.call(N,y[z],z,y)}function I(y,T){for(const N in y)T.call(void 0,y[N],N,y)}function k(y){const T={};for(const N in y)T[N]=y[N];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(y,T){let N,z;for(let Y=1;Y<arguments.length;Y++){z=arguments[Y];for(N in z)y[N]=z[N];for(let se=0;se<D.length;se++)N=D[se],Object.prototype.hasOwnProperty.call(z,N)&&(y[N]=z[N])}}function F(y){var T=1;y=y.split(":");const N=[];for(;0<T&&y.length;)N.push(y.shift()),T--;return y.length&&N.push(y.join(":")),N}function $(y){c.setTimeout(()=>{throw y},0)}function U(){var y=Ie;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class he{constructor(){this.h=this.g=null}add(T,N){const z=ve.get();z.set(T,N),this.h?this.h.next=z:this.g=z,this.h=z}}var ve=new P(()=>new G,y=>y.reset());class G{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ge=!1,Ie=new he,K=()=>{const y=c.Promise.resolve(void 0);ne=()=>{y.then(oe)}};var oe=()=>{for(var y;y=U();){try{y.h.call(y.g)}catch(N){$(N)}var T=ve;T.j(y),100>T.h&&(T.h++,y.next=T.g,T.g=y)}ge=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const N=()=>{};c.addEventListener("test",N,T),c.removeEventListener("test",N,T)}catch{}return y})();function je(y,T){if(fe.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var N=this.type=y.type,z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget){if(C){e:{try{M(T.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(T=null)}}else N=="mouseover"?T=y.fromElement:N=="mouseout"&&(T=y.toElement);this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Ve[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&je.aa.h.call(this)}}A(je,fe);var Ve={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),mt=0;function we(y,T,N,z,Y){this.listener=y,this.proxy=null,this.src=T,this.type=N,this.capture=!!z,this.ha=Y,this.key=++mt,this.da=this.fa=!1}function Fe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function He(y){this.src=y,this.g={},this.h=0}He.prototype.add=function(y,T,N,z,Y){var se=y.toString();y=this.g[se],y||(y=this.g[se]=[],this.h++);var be=Lt(y,T,z,Y);return-1<be?(T=y[be],N||(T.fa=!1)):(T=new we(T,this.src,se,!!z,Y),T.fa=N,y.push(T)),T};function me(y,T){var N=T.type;if(N in y.g){var z=y.g[N],Y=Array.prototype.indexOf.call(z,T,void 0),se;(se=0<=Y)&&Array.prototype.splice.call(z,Y,1),se&&(Fe(T),y.g[N].length==0&&(delete y.g[N],y.h--))}}function Lt(y,T,N,z){for(var Y=0;Y<y.length;++Y){var se=y[Y];if(!se.da&&se.listener==T&&se.capture==!!N&&se.ha==z)return Y}return-1}var Je="closure_lm_"+(1e6*Math.random()|0),Gt={};function Xt(y,T,N,z,Y){if(Array.isArray(T)){for(var se=0;se<T.length;se++)Xt(y,T[se],N,z,Y);return null}return N=Wt(N),y&&y[Ft]?y.K(T,N,f(z)?!!z.capture:!1,Y):ie(y,T,N,!1,z,Y)}function ie(y,T,N,z,Y,se){if(!T)throw Error("Invalid event type");var be=f(Y)?!!Y.capture:!!Y,ut=nt(y);if(ut||(y[Je]=ut=new He(y)),N=ut.add(T,N,z,be,se),N.proxy)return N;if(z=_e(),N.proxy=z,z.src=y,z.listener=N,y.addEventListener)Ne||(Y=be),Y===void 0&&(Y=!1),y.addEventListener(T.toString(),z,Y);else if(y.attachEvent)y.attachEvent($e(T.toString()),z);else if(y.addListener&&y.removeListener)y.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function _e(){function y(N){return T.call(y.src,y.listener,N)}const T=Ue;return y}function Ae(y,T,N,z,Y){if(Array.isArray(T))for(var se=0;se<T.length;se++)Ae(y,T[se],N,z,Y);else z=f(z)?!!z.capture:!!z,N=Wt(N),y&&y[Ft]?(y=y.i,T=String(T).toString(),T in y.g&&(se=y.g[T],N=Lt(se,N,z,Y),-1<N&&(Fe(se[N]),Array.prototype.splice.call(se,N,1),se.length==0&&(delete y.g[T],y.h--)))):y&&(y=nt(y))&&(T=y.g[T.toString()],y=-1,T&&(y=Lt(T,N,z,Y)),(N=-1<y?T[y]:null)&&Be(N))}function Be(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[Ft])me(T.i,y);else{var N=y.type,z=y.proxy;T.removeEventListener?T.removeEventListener(N,z,y.capture):T.detachEvent?T.detachEvent($e(N),z):T.addListener&&T.removeListener&&T.removeListener(z),(N=nt(T))?(me(N,y),N.h==0&&(N.src=null,T[Je]=null)):Fe(y)}}}function $e(y){return y in Gt?Gt[y]:Gt[y]="on"+y}function Ue(y,T){if(y.da)y=!0;else{T=new je(T,this);var N=y.listener,z=y.ha||y.src;y.fa&&Be(y),y=N.call(z,T)}return y}function nt(y){return y=y[Je],y instanceof He?y:null}var pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(y){return typeof y=="function"?y:(y[pt]||(y[pt]=function(T){return y.handleEvent(T)}),y[pt])}function We(){ae.call(this),this.i=new He(this),this.M=this,this.F=null}A(We,ae),We.prototype[Ft]=!0,We.prototype.removeEventListener=function(y,T,N,z){Ae(this,y,T,N,z)};function Ce(y,T){var N,z=y.F;if(z)for(N=[];z;z=z.F)N.push(z);if(y=y.M,z=T.type||T,typeof T=="string")T=new fe(T,y);else if(T instanceof fe)T.target=T.target||y;else{var Y=T;T=new fe(z,y),B(T,Y)}if(Y=!0,N)for(var se=N.length-1;0<=se;se--){var be=T.g=N[se];Y=Rt(be,z,!0,T)&&Y}if(be=T.g=y,Y=Rt(be,z,!0,T)&&Y,Y=Rt(be,z,!1,T)&&Y,N)for(se=0;se<N.length;se++)be=T.g=N[se],Y=Rt(be,z,!1,T)&&Y}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var y=this.i,T;for(T in y.g){for(var N=y.g[T],z=0;z<N.length;z++)Fe(N[z]);delete y.g[T],y.h--}}this.F=null},We.prototype.K=function(y,T,N,z){return this.i.add(String(y),T,!1,N,z)},We.prototype.L=function(y,T,N,z){return this.i.add(String(y),T,!0,N,z)};function Rt(y,T,N,z){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();for(var Y=!0,se=0;se<T.length;++se){var be=T[se];if(be&&!be.da&&be.capture==N){var ut=be.listener,Mn=be.ha||be.src;be.fa&&me(y.i,be),Y=ut.call(Mn,z)!==!1&&Y}}return Y&&!z.defaultPrevented}function ct(y,T,N){if(typeof y=="function")N&&(y=v(y,N));else if(y&&typeof y.handleEvent=="function")y=v(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(y,T||0)}function Zr(y){y.g=ct(()=>{y.g=null,y.i&&(y.i=!1,Zr(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Nl extends ae{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(y){ae.call(this),this.h=y,this.g={}}A(Pl,ae);var Ol=[];function Rl(y){V(y.g,function(T,N){this.g.hasOwnProperty(N)&&Be(T)},y),y.g={}}Pl.prototype.N=function(){Pl.aa.N.call(this),Rl(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=c.JSON.stringify,fu=c.JSON.parse,kl=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Vf(){}Vf.prototype.h=null;function Bf(y){return y.h||(y.h=y.i())}function Uf(){}var es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ts(){fe.call(this,"d")}A(ts,fe);function zf(){fe.call(this,"c")}A(zf,fe);var oa={},Ff=null;function ao(){return Ff=Ff||new We}oa.La="serverreachability";function hu(y){fe.call(this,oa.La,y)}A(hu,fe);function so(y){const T=ao();Ce(T,new hu(T))}oa.STAT_EVENT="statevent";function gg(y,T){fe.call(this,oa.STAT_EVENT,y),this.stat=T}A(gg,fe);function Zt(y){const T=ao();Ce(T,new gg(T,y))}oa.Ma="timingevent";function Dn(y,T){fe.call(this,oa.Ma,y),this.size=T}A(Dn,fe);function Tn(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},T)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function $f(y,T,N,z,Y,se){y.info(function(){if(y.g)if(se)for(var be="",ut=se.split("&"),Mn=0;Mn<ut.length;Mn++){var dt=ut[Mn].split("=");if(1<dt.length){var Gn=dt[0];dt=dt[1];var Ln=Gn.split("_");be=2<=Ln.length&&Ln[1]=="type"?be+(Gn+"="+dt+"&"):be+(Gn+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+z+") [attempt "+Y+"]: "+T+`
`+N+`
`+be})}function Ex(y,T,N,z,Y,se,be){y.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Y+"]: "+T+`
`+N+`
`+se+" "+be})}function oo(y,T,N,z){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+Cl(y,N)+(z?" "+z:"")})}function yg(y,T){y.info(function(){return"TIMEOUT: "+T})}xi.prototype.info=function(){};function Cl(y,T){if(!y.g)return T;if(!T)return null;try{var N=JSON.parse(T);if(N){for(y=0;y<N.length;y++)if(Array.isArray(N[y])){var z=N[y];if(!(2>z.length)){var Y=z[1];if(Array.isArray(Y)&&!(1>Y.length)){var se=Y[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<Y.length;be++)Y[be]=""}}}}return qi(N)}catch{return T}}var lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ns={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},la;function ca(){}A(ca,Vf),ca.prototype.g=function(){return new XMLHttpRequest},ca.prototype.i=function(){return{}},la=new ca;function Nr(y,T,N,z){this.j=y,this.i=T,this.l=N,this.R=z||1,this.U=new Pl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yn}function yn(){this.i=null,this.g="",this.h=!1}var qf={},mu={};function Ki(y,T,N){y.L=1,y.v=Vl(Jr(T)),y.m=N,y.P=!0,rs(y,null)}function rs(y,T){y.F=Date.now(),jl(y),y.A=Jr(y.v);var N=y.A,z=y.R;Array.isArray(z)||(z=[String(z)]),Qf(N.i,"t",z),y.C=0,N=y.j.J,y.h=new yn,y.g=Cg(y.j,N?T:null,!y.m),0<y.O&&(y.M=new Nl(v(y.Y,y,y.g),y.O)),T=y.U,N=y.g,z=y.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ol[0]=Y.toString()),Y=Ol);for(var se=0;se<Y.length;se++){var be=Xt(N,Y[se],z||T.handleEvent,!1,T.h||T);if(!be)break;T.g[be.key]=be}T=y.H?k(y.H):{},y.m?(y.u||(y.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,T)):(y.u="GET",y.g.ea(y.A,y.u,null,T)),so(),$f(y.i,y.u,y.A,y.l,y.R,y.m)}Nr.prototype.ca=function(y){y=y.target;const T=this.M;T&&Ai(y)==3?T.j():this.Y(y)},Nr.prototype.Y=function(y){try{if(y==this.g)e:{const Ln=Ai(this.g);var T=this.g.Ba();const ds=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||Tg(this.g)))){this.J||Ln!=4||T==7||(T==8||0>=ds?so(3):so(2)),co(this);var N=this.g.Z();this.X=N;t:if(vg(this)){var z=Tg(this.g);y="";var Y=z.length,se=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),ua(this);var be="";break t}this.h.i=new c.TextDecoder}for(T=0;T<Y;T++)this.h.h=!0,y+=this.h.i.decode(z[T],{stream:!(se&&T==Y-1)});z.length=0,this.h.g+=y,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=N==200,Ex(this.i,this.u,this.A,this.l,this.R,Ln,N),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Mn=this.g;if((ut=Mn.g?Mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ut)){var dt=ut;break t}}dt=null}if(N=dt)oo(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,N);else{this.o=!1,this.s=3,Zt(12),sr(this),ua(this);break e}}if(this.P){N=!0;let or;for(;!this.J&&this.C<be.length;)if(or=bg(this,be),or==mu){Ln==4&&(this.s=4,Zt(14),N=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(or==qf){this.s=4,Zt(15),oo(this.i,this.l,be,"[Invalid Chunk]"),N=!1;break}else oo(this.i,this.l,or,null),Dl(this,or);if(vg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||be.length!=0||this.h.h||(this.s=1,Zt(16),N=!1),this.o=this.o&&N,!N)oo(this.i,this.l,be,"[Invalid Chunked Response]"),sr(this),ua(this);else if(0<be.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Hl(Gn),Gn.M=!0,Zt(11))}}else oo(this.i,this.l,be,null),Dl(this,be);Ln==4&&sr(this),this.o&&!this.J&&(Ln==4?Og(this.j,this):(this.o=!1,jl(this)))}else Nx(this.g),N==400&&0<be.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),sr(this),ua(this)}}}catch{}finally{}};function vg(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function bg(y,T){var N=y.C,z=T.indexOf(`
`,N);return z==-1?mu:(N=Number(T.substring(N,z)),isNaN(N)?qf:(z+=1,z+N>T.length?mu:(T=T.slice(z,z+N),y.C=z+N,T)))}Nr.prototype.cancel=function(){this.J=!0,sr(this)};function jl(y){y.S=Date.now()+y.I,xg(y,y.I)}function xg(y,T){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Tn(v(y.ba,y),T)}function co(y){y.B&&(c.clearTimeout(y.B),y.B=null)}Nr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(yg(this.i,this.A),this.L!=2&&(so(),Zt(17)),sr(this),this.s=2,ua(this)):xg(this,this.S-y)};function ua(y){y.j.G==0||y.J||Og(y.j,y)}function sr(y){co(y);var T=y.M;T&&typeof T.ma=="function"&&T.ma(),y.M=null,Rl(y.U),y.g&&(T=y.g,y.g=null,T.abort(),T.ma())}function Dl(y,T){try{var N=y.j;if(N.G!=0&&(N.g==y||Kf(N.h,y))){if(!y.K&&Kf(N.h,y)&&N.G==3){try{var z=N.Da.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Y=z;if(Y[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<y.F)Su(N),Au(N);else break e;th(N),Zt(18)}}else N.za=Y[1],0<N.za-N.T&&37500>Y[2]&&N.F&&N.v==0&&!N.C&&(N.C=Tn(v(N.Za,N),6e3));if(1>=gu(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else us(N,11)}else if((y.K||N.g==y)&&Su(N),!O(T))for(Y=N.Da.g.parse(T),T=0;T<Y.length;T++){let dt=Y[T];if(N.T=dt[0],dt=dt[1],N.G==2)if(dt[0]=="c"){N.K=dt[1],N.ia=dt[2];const Gn=dt[3];Gn!=null&&(N.la=Gn,N.j.info("VER="+N.la));const Ln=dt[4];Ln!=null&&(N.Aa=Ln,N.j.info("SVER="+N.Aa));const ds=dt[5];ds!=null&&typeof ds=="number"&&0<ds&&(z=1.5*ds,N.L=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const or=y.g;if(or){const ya=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var se=z.h;se.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(yu(se,se.h),se.h=null))}if(z.D){const rh=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;rh&&(z.ya=rh,kt(z.I,z.D,rh))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-y.F,N.j.info("Handshake RTT: "+N.R+"ms")),z=N;var be=y;if(z.qa=kg(z,z.J?z.ia:null,z.W),be.K){Pr(z.h,be);var ut=be,Mn=z.L;Mn&&(ut.I=Mn),ut.B&&(co(ut),jl(ut)),z.g=be}else Ng(z);0<N.i.length&&Tu(N)}else dt[0]!="stop"&&dt[0]!="close"||us(N,7);else N.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?us(N,7):Jf(N):dt[0]!="noop"&&N.l&&N.l.ta(dt),N.v=0)}}so(4)}catch{}}var _g=class{constructor(y,T){this.g=y,this.map=T}};function is(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pu(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function gu(y){return y.h?1:y.g?y.g.size:0}function Kf(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function yu(y,T){y.g?y.g.add(T):y.h=T}function Pr(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}is.prototype.cancel=function(){if(this.i=Hf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Hf(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const N of y.g.values())T=T.concat(N.D);return T}return E(y.i)}function Ax(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(d(y)){for(var T=[],N=y.length,z=0;z<N;z++)T.push(y[z]);return T}T=[],N=0;for(z in y)T[N++]=y[z];return T}function vu(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(d(y)||typeof y=="string"){var T=[];y=y.length;for(var N=0;N<y;N++)T.push(N);return T}T=[],N=0;for(const z in y)T[N++]=z;return T}}}function Gf(y,T){if(y.forEach&&typeof y.forEach=="function")y.forEach(T,void 0);else if(d(y)||typeof y=="string")Array.prototype.forEach.call(y,T,void 0);else for(var N=vu(y),z=Ax(y),Y=z.length,se=0;se<Y;se++)T.call(void 0,z[se],N&&N[se],y)}var Ml=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tx(y,T){if(y){y=y.split("&");for(var N=0;N<y.length;N++){var z=y[N].indexOf("="),Y=null;if(0<=z){var se=y[N].substring(0,z);Y=y[N].substring(z+1)}else se=y[N];T(se,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Sn){this.h=y.h,Ll(this,y.j),this.o=y.o,this.g=y.g,uo(this,y.s),this.l=y.l;var T=y.i,N=new ss;N.i=T.i,T.g&&(N.g=new Map(T.g),N.h=T.h),as(this,N),this.m=y.m}else y&&(T=String(y).match(Ml))?(this.h=!1,Ll(this,T[1]||"",!0),this.o=_i(T[2]||""),this.g=_i(T[3]||"",!0),uo(this,T[4]),this.l=_i(T[5]||"",!0),as(this,T[6]||"",!0),this.m=_i(T[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}Sn.prototype.toString=function(){var y=[],T=this.j;T&&y.push(Bl(T,Wf,!0),":");var N=this.g;return(N||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Bl(T,Wf,!0),"@"),y.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&y.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&y.push("/"),y.push(Bl(N,N.charAt(0)=="/"?Sx:Yf,!0))),(N=this.i.toString())&&y.push("?",N),(N=this.m)&&y.push("#",Bl(N,bu)),y.join("")};function Jr(y){return new Sn(y)}function Ll(y,T,N){y.j=N?_i(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function uo(y,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);y.s=T}else y.s=null}function as(y,T,N){T instanceof ss?(y.i=T,Eg(y.i,y.h)):(N||(T=Bl(T,Ix)),y.i=new ss(T,y.h))}function kt(y,T,N){y.i.set(T,N)}function Vl(y){return kt(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function _i(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Bl(y,T,N){return typeof y=="string"?(y=encodeURI(y).replace(T,wg),N&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function wg(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Wf=/[#\/\?@]/g,Yf=/[#\?:]/g,Sx=/[#\?]/g,Ix=/[#\?@]/g,bu=/#/g;function ss(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function wi(y){y.g||(y.g=new Map,y.h=0,y.i&&Tx(y.i,function(T,N){y.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=ss.prototype,t.add=function(y,T){wi(this),this.i=null,y=da(this,y);var N=this.g.get(y);return N||this.g.set(y,N=[]),N.push(T),this.h+=1,this};function os(y,T){wi(y),T=da(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function ls(y,T){return wi(y),T=da(y,T),y.g.has(T)}t.forEach=function(y,T){wi(this),this.g.forEach(function(N,z){N.forEach(function(Y){y.call(T,Y,z,this)},this)},this)},t.na=function(){wi(this);const y=Array.from(this.g.values()),T=Array.from(this.g.keys()),N=[];for(let z=0;z<T.length;z++){const Y=y[z];for(let se=0;se<Y.length;se++)N.push(T[z])}return N},t.V=function(y){wi(this);let T=[];if(typeof y=="string")ls(this,y)&&(T=T.concat(this.g.get(da(this,y))));else{y=Array.from(this.g.values());for(let N=0;N<y.length;N++)T=T.concat(y[N])}return T},t.set=function(y,T){return wi(this),this.i=null,y=da(this,y),ls(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=this.V(y),0<y.length?String(y[0]):T):T};function Qf(y,T,N){os(y,T),0<N.length&&(y.i=null,y.g.set(da(y,T),E(N)),y.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(var N=0;N<T.length;N++){var z=T[N];const se=encodeURIComponent(String(z)),be=this.V(z);for(z=0;z<be.length;z++){var Y=se;be[z]!==""&&(Y+="="+encodeURIComponent(String(be[z]))),y.push(Y)}}return this.i=y.join("&")};function da(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Eg(y,T){T&&!y.j&&(wi(y),y.i=null,y.g.forEach(function(N,z){var Y=z.toLowerCase();z!=Y&&(os(this,z),Qf(this,Y,N))},y)),y.j=T}function Ul(y,T){const N=new xi;if(c.Image){const z=new Image;z.onload=x(Ei,N,"TestLoadImage: loaded",!0,T,z),z.onerror=x(Ei,N,"TestLoadImage: error",!1,T,z),z.onabort=x(Ei,N,"TestLoadImage: abort",!1,T,z),z.ontimeout=x(Ei,N,"TestLoadImage: timeout",!1,T,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=y}else T(!1)}function Hi(y,T){const N=new xi,z=new AbortController,Y=setTimeout(()=>{z.abort(),Ei(N,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:z.signal}).then(se=>{clearTimeout(Y),se.ok?Ei(N,"TestPingServer: ok",!0,T):Ei(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Y),Ei(N,"TestPingServer: error",!1,T)})}function Ei(y,T,N,z,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),z(N)}catch{}}function zl(){this.g=new kl}function fa(y,T,N){const z=N||"";try{Gf(y,function(Y,se){let be=Y;f(Y)&&(be=qi(Y)),T.push(z+se+"="+encodeURIComponent(be))})}catch(Y){throw T.push(z+"type="+encodeURIComponent("_badmap")),Y}}function fo(y){this.l=y.Ub||null,this.j=y.eb||!1}A(fo,Vf),fo.prototype.g=function(){return new cs(this.l,this.j)},fo.prototype.i=(function(y){return function(){return y}})({});function cs(y,T){We.call(this),this.D=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(cs,We),t=cs.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=T,this.readyState=1,ma(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(T.body=y),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xf(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xf(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?ha(this):ma(this),this.readyState==3&&Xf(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,ha(this))},t.Qa=function(y){this.g&&(this.response=y,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(y){y.readyState=4,y.l=null,y.j=null,y.v=null,ma(y)}t.setRequestHeader=function(y,T){this.u.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,y.push(N[0]+": "+N[1]),N=T.next();return y.join(`\r
`)};function ma(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Zf(y){let T="";return V(y,function(N,z){T+=z,T+=":",T+=N,T+=`\r
`}),T}function Hn(y,T,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=Zf(N),typeof y=="string"?N!=null&&encodeURIComponent(String(N)):kt(y,T,N))}function At(y){We.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(At,We);var xu=/^https?$/i,Fl=["POST","PUT"];t=At.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,T,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():la.g(),this.v=this.o?Bf(this.o):Bf(la),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(se){Ag(this,se);return}if(y=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Y in z)N.set(Y,z[Y]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const se of z.keys())N.set(se,z.get(se));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(se=>se.toLowerCase()=="content-type"),Y=c.FormData&&y instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Fl,T,void 0))||z||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of N)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$l(this),this.u=!0,this.g.send(y),this.u=!1}catch(se){Ag(this,se)}};function Ag(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.m=5,_u(y),pa(y)}function _u(y){y.A||(y.A=!0,Ce(y,"complete"),Ce(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ce(this,"complete"),Ce(this,"abort"),pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},t.bb=function(){wu(this)};function wu(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Ai(y)!=4||y.Z()!=2)){if(y.u&&Ai(y)==4)ct(y.Ea,0,y);else if(Ce(y,"readystatechange"),Ai(y)==4){y.h=!1;try{const be=y.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var z;if(z=be===0){var Y=String(y.D).match(Ml)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),z=!xu.test(Y?Y.toLowerCase():"")}N=z}if(N)Ce(y,"complete"),Ce(y,"success");else{y.m=6;try{var se=2<Ai(y)?y.g.statusText:""}catch{se=""}y.l=se+" ["+y.Z()+"]",_u(y)}}finally{pa(y)}}}}function pa(y,T){if(y.g){$l(y);const N=y.g,z=y.v[0]?()=>{}:null;y.g=null,y.v=null,T||Ce(y,"ready");try{N.onreadystatechange=z}catch{}}}function $l(y){y.I&&(c.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Ai(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),fu(T)}};function Tg(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Nx(y){const T={};y=(y.g&&2<=Ai(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<y.length;z++){if(O(y[z]))continue;var N=F(y[z]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const se=T[Y]||[];T[Y]=se,se.push(N)}I(T,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(y,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[y]||T}function Eu(y){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ql("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ql("baseRetryDelayMs",5e3,y),this.cb=ql("retryDelaySeedMs",1e4,y),this.Wa=ql("forwardChannelMaxRetries",2,y),this.wa=ql("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new is(y&&y.concurrentRequestLimit),this.Da=new zl,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Eu.prototype,t.la=8,t.G=1,t.connect=function(y,T,N,z){Zt(0),this.W=y,this.H=T||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.I=kg(this,null,this.W),Tu(this)};function Jf(y){if(Sg(y),y.G==3){var T=y.U++,N=Jr(y.I);if(kt(N,"SID",y.K),kt(N,"RID",T),kt(N,"TYPE","terminate"),Kl(y,N),T=new Nr(y,y.j,T),T.L=2,T.v=Vl(Jr(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=T.v,N=!0),N||(T.g=Cg(T.j,null),T.g.ea(T.v)),T.F=Date.now(),jl(T)}Rg(y)}function Au(y){y.g&&(Hl(y),y.g.cancel(),y.g=null)}function Sg(y){Au(y),y.u&&(c.clearTimeout(y.u),y.u=null),Su(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&c.clearTimeout(y.s),y.s=null)}function Tu(y){if(!pu(y.h)&&!y.s){y.s=!0;var T=y.Ga;ne||K(),ge||(ne(),ge=!0),Ie.add(T,y),y.B=0}}function Px(y,T){return gu(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=T.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Tn(v(y.Ga,y,T),nh(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Y=new Nr(this,this.j,y);let se=this.o;if(this.S&&(se?(se=k(se),B(se,this.S)):se=this.S),this.m!==null||this.O||(Y.H=se,se=null),this.P)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,4096<T){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=Ig(this,Y,T),N=Jr(this.I),kt(N,"RID",y),kt(N,"CVER",22),this.D&&kt(N,"X-HTTP-Session-Id",this.D),Kl(this,N),se&&(this.O?T="headers="+encodeURIComponent(String(Zf(se)))+"&"+T:this.m&&Hn(N,this.m,se)),yu(this.h,Y),this.Ua&&kt(N,"TYPE","init"),this.P?(kt(N,"$req",T),kt(N,"SID","null"),Y.T=!0,Ki(Y,N,null)):Ki(Y,N,T),this.G=2}}else this.G==3&&(y?eh(this,y):this.i.length==0||pu(this.h)||eh(this))};function eh(y,T){var N;T?N=T.l:N=y.U++;const z=Jr(y.I);kt(z,"SID",y.K),kt(z,"RID",N),kt(z,"AID",y.T),Kl(y,z),y.m&&y.o&&Hn(z,y.m,y.o),N=new Nr(y,y.j,N,y.B+1),y.m===null&&(N.H=y.o),T&&(y.i=T.D.concat(y.i)),T=Ig(y,N,1e3),N.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),yu(y.h,N),Ki(N,z,T)}function Kl(y,T){y.H&&V(y.H,function(N,z){kt(T,z,N)}),y.l&&Gf({},function(N,z){kt(T,z,N)})}function Ig(y,T,N){N=Math.min(y.i.length,N);var z=y.l?v(y.l.Na,y.l,y):null;e:{var Y=y.i;let se=-1;for(;;){const be=["count="+N];se==-1?0<N?(se=Y[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let ut=!0;for(let Mn=0;Mn<N;Mn++){let dt=Y[Mn].g;const Gn=Y[Mn].map;if(dt-=se,0>dt)se=Math.max(0,Y[Mn].g-100),ut=!1;else try{fa(Gn,be,"req"+dt+"_")}catch{z&&z(Gn)}}if(ut){z=be.join("&");break e}}}return y=y.i.splice(0,N),T.D=y,z}function Ng(y){if(!y.g&&!y.u){y.Y=1;var T=y.Fa;ne||K(),ge||(ne(),ge=!0),Ie.add(T,y),y.v=0}}function th(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Tn(v(y.Fa,y),nh(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,Pg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Tn(v(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Au(this),Pg(this))};function Hl(y){y.A!=null&&(c.clearTimeout(y.A),y.A=null)}function Pg(y){y.g=new Nr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var T=Jr(y.qa);kt(T,"RID","rpc"),kt(T,"SID",y.K),kt(T,"AID",y.T),kt(T,"CI",y.F?"0":"1"),!y.F&&y.ja&&kt(T,"TO",y.ja),kt(T,"TYPE","xmlhttp"),Kl(y,T),y.m&&y.o&&Hn(T,y.m,y.o),y.L&&(y.g.I=y.L);var N=y.g;y=y.ia,N.L=1,N.v=Vl(Jr(T)),N.m=null,N.P=!0,rs(N,y)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),th(this),Zt(19))};function Su(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function Og(y,T){var N=null;if(y.g==T){Su(y),Hl(y),y.g=null;var z=2}else if(Kf(y.h,T))N=T.D,Pr(y.h,T),z=1;else return;if(y.G!=0){if(T.o)if(z==1){N=T.m?T.m.length:0,T=Date.now()-T.F;var Y=y.B;z=ao(),Ce(z,new Dn(z,N)),Tu(y)}else Ng(y);else if(Y=T.s,Y==3||Y==0&&0<T.X||!(z==1&&Px(y,T)||z==2&&th(y)))switch(N&&0<N.length&&(T=y.h,T.i=T.i.concat(N)),Y){case 1:us(y,5);break;case 4:us(y,10);break;case 3:us(y,6);break;default:us(y,2)}}}function nh(y,T){let N=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(N*=2),N*T}function us(y,T){if(y.j.info("Error code "+T),T==2){var N=v(y.fb,y),z=y.Xa;const Y=!z;z=new Sn(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ll(z,"https"),Vl(z),Y?Ul(z.toString(),N):Hi(z.toString(),N)}else Zt(2);y.G=0,y.l&&y.l.sa(T),Rg(y),Sg(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Rg(y){if(y.G=0,y.ka=[],y.l){const T=Hf(y.h);(T.length!=0||y.i.length!=0)&&(S(y.ka,T),S(y.ka,y.i),y.h.i.length=0,E(y.i),y.i.length=0),y.l.ra()}}function kg(y,T,N){var z=N instanceof Sn?Jr(N):new Sn(N);if(z.g!="")T&&(z.g=T+"."+z.g),uo(z,z.s);else{var Y=c.location;z=Y.protocol,T=T?T+"."+Y.hostname:Y.hostname,Y=+Y.port;var se=new Sn(null);z&&Ll(se,z),T&&(se.g=T),Y&&uo(se,Y),N&&(se.l=N),z=se}return N=y.D,T=y.ya,N&&T&&kt(z,N,T),kt(z,"VER",y.la),Kl(y,z),z}function Cg(y,T,N){if(T&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Ca&&!y.pa?new At(new fo({eb:N})):new At(y.pa),T.Ha(y.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jg(){}t=jg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Iu(){}Iu.prototype.g=function(y,T){return new Or(y,T)};function Or(y,T){We.call(this),this.g=new Eu(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(y?y["X-WebChannel-Client-Profile"]=T.va:y={"X-WebChannel-Client-Profile":T.va}),this.g.S=y,(y=T&&T.Sb)&&!O(y)&&(this.g.m=y),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.D=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new ga(this)}A(Or,We),Or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){Jf(this.g)},Or.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var N={};N.__data__=y,y=N}else this.u&&(N={},N.__data__=qi(y),y=N);T.i.push(new _g(T.Ya++,y)),T.G==3&&Tu(T)},Or.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,Or.aa.N.call(this)};function Dg(y){ts.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const N in T){y=N;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}A(Dg,ts);function Mg(){zf.call(this),this.status=1}A(Mg,zf);function ga(y){this.g=y}A(ga,jg),ga.prototype.ua=function(){Ce(this.g,"a")},ga.prototype.ta=function(y){Ce(this.g,new Dg(y))},ga.prototype.sa=function(y){Ce(this.g,new Mg)},ga.prototype.ra=function(){Ce(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,k5=function(){return new Iu},R5=function(){return ao()},O5=oa,HE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,pv=lo,ns.COMPLETE="complete",P5=ns,Uf.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",We.prototype.listen=We.prototype.K,fm=Uf,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,N5=At}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});const ZR="@firebase/firestore",JR="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new G0("@firebase/firestore");function dd(){return nl.logLevel}function eW(t){nl.setLogLevel(t)}function pe(t,...e){if(nl.logLevel<=at.DEBUG){const n=e.map(FT);nl.debug(`Firestore (${pf}): ${t}`,...n)}}function _n(t,...e){if(nl.logLevel<=at.ERROR){const n=e.map(FT);nl.error(`Firestore (${pf}): ${t}`,...n)}}function Ka(t,...e){if(nl.logLevel<=at.WARN){const n=e.map(FT);nl.warn(`Firestore (${pf}): ${t}`,...n)}}function FT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,C5(t,r,n)}function C5(t,e,n){let r=`FIRESTORE (${pf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _n(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||C5(e,i,r)}function tW(t,e){t||Se(57014,e)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class rW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iW{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gr,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new j5(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class aW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ek{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ek(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ek(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function GE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Vw(i)===Vw(a)?Ge(i,a):Vw(i)?1:-1}return Ge(t.length,e.length)}const cW=55296,uW=57343;function Vw(t){const e=t.charCodeAt(0);return e>=cW&&e<=uW}function Cd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function D5(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="__name__";class Ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ea.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Ea.isNumericId(e),i=Ea.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ea.extractNumericId(e).compare(Ea.extractNumericId(n)):GE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wo.fromString(e.substring(4,e.length-2))}}class st extends Ea{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const dW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ea{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return dW.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tk}static keyField(){return new rn([tk])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(st.fromString(e))}static fromName(e){return new xe(st.fromString(e).popFirst(5))}static empty(){return new xe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M5(t,e,n,r){if(e===!0&&r===!0)throw new de(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nk(t){if(!xe.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rk(t){if(xe.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function L5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function bt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sb(t);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function V5(t,e){if(e<=0)throw new de(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ip(t,e){if(!L5(t))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=-62135596800,ak=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ak);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ik)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ak}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ip(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ik;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Rn("string",gt._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new gt(0,0))}static max(){return new De(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=-1;class Lv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function WE(t){return t.fields.find((e=>e.kind===2))}function dc(t){return t.fields.filter((e=>e.kind!==2))}Lv.UNKNOWN_ID=-1;class gv{constructor(e,n){this.fieldPath=e,this.kind=n}}class $m{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new $m(0,yi.min())}}function B5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new yi(i,xe.empty(),e)}function U5(t){return new yi(t.readTime,t.key,jd)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(De.min(),xe.empty(),jd)}static max(){return new yi(De.max(),xe.empty(),jd)}}function KT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==z5)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((m=>{o[f]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="SimpleDb";class ob{static open(e,n,r,i){try{return new ob(n,e.transaction(i,r))}catch(a){throw new Tm(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new gr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Tm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=HT(r.target.error);this.S.reject(new Tm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(ui,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new hW(n)}}class La{static delete(e){return pe(ui,"Removing database:",e),gc(hT().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Lm())return!1;if(La.F())return!0;const e=ln(),n=La.M(e),r=0<n&&n<10,i=$5(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,La.M(ln())===12.2&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(ui,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const o=a.target.result;n(o)},i.onblocked=()=>{r(new Tm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const o=a.target.error;o.name==="VersionError"?r(new de(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new de(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Tm(e,o))},i.onupgradeneeded=a=>{pe(ui,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;this.N.k(o,i.transaction,a.oldVersion,this.version).next((()=>{pe(ui,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const c=ob.open(this.db,e,a?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&o<3;if(pe(ui,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function $5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class fW{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return gc(this.U.delete())}}class Tm extends de{constructor(e,n){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xl(t){return t.name==="IndexedDbTransactionError"}class hW{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(pe(ui,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(pe(ui,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gc(r)}add(e){return pe(ui,"ADD",this.store.name,e,e),gc(this.store.add(e))}get(e){return gc(this.store.get(e)).next((n=>(n===void 0&&(n=null),pe(ui,"GET",this.store.name,e,n),n)))}delete(e){return pe(ui,"DELETE",this.store.name,e),gc(this.store.delete(e))}count(){return pe(ui,"COUNT",this.store.name),gc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Q(((o,c)=>{a.onerror=d=>{c(d.target.error)},a.onsuccess=d=>{o(d.target.result)}}))}{const a=this.cursor(r),o=[];return this.H(a,((c,d)=>{o.push(d)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,a)=>{r.onerror=o=>{a(o.target.error)},r.onsuccess=o=>{i(o.target.result)}}))}Z(e,n){pe(ui,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,o,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=a=>{const o=HT(a.target.error);i(o)},n.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next((c=>{c?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const c=o.target.result;if(!c)return void i();const d=new fW(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const m=f.catch((g=>(d.done(),Q.reject(g))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function gc(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=HT(r.target.error);n(i)}}))}let sk=!1;function HT(t){const e=La.M(ln());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sk||(sk=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Sm="IndexBackfiller";class mW{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(Sm,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();pe(Sm,`Documents written: ${n}`)}catch(n){xl(n)?pe(Sm,"Ignoring IndexedDB error during index backfill: ",n):await bl(n)}await this.re(6e4)}))}}class pW{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Q.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return pe(Sm,`Processing collection: ${o}`),this.oe(e,o,i).next((c=>{i-=c,r.add(o)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(i,a))).next((c=>(pe(Sm,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const o=U5(a);KT(o,r)>0&&(r=o)})),new yi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=-1;function Np(t){return t==null}function qm(t){return t===0&&1/t==-1/0}function q5(t){return typeof t=="number"&&Number.isInteger(t)&&!qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="";function Tr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ok(e)),e=gW(t.get(n),e);return ok(e)}function gW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Vv:n+="";break;default:n+=a}}return n}function ok(t){return t+Vv+""}function ka(t){const e=t.length;if(Re(e>=2,64408,{path:t}),e===2)return Re(t.charAt(0)===Vv&&t.charAt(1)==="",56145,{path:t}),st.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const o=t.indexOf(Vv,a);switch((o<0||o>n)&&Se(50515,{path:t}),t.charAt(o+1)){case"":const c=t.substring(a,o);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(a,o),i+="\0";break;case"":i+=t.substring(a,o+1);break;default:Se(61167,{path:t})}a=o+2}return new st(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="remoteDocuments",Pp="owner",rd="owner",Km="mutationQueues",yW="userId",Qi="mutations",lk="batchId",wc="userMutationsIndex",ck=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){return[t,Tr(e)]}function K5(t,e,n){return[t,Tr(e),n]}const vW={},Dd="documentMutations",Bv="remoteDocumentsV14",bW=["prefixPath","collectionGroup","readTime","documentId"],vv="documentKeyIndex",xW=["prefixPath","collectionGroup","documentId"],H5="collectionGroupIndex",_W=["collectionGroup","readTime","prefixPath","documentId"],Hm="remoteDocumentGlobal",YE="remoteDocumentGlobalKey",Md="targets",G5="queryTargetsIndex",wW=["canonicalId","targetId"],Ld="targetDocuments",EW=["targetId","path"],GT="documentTargetsIndex",AW=["path","targetId"],Uv="targetGlobalKey",Rc="targetGlobal",Gm="collectionParents",TW=["collectionId","parent"],Vd="clientMetadata",SW="clientId",lb="bundles",IW="bundleId",cb="namedQueries",NW="name",WT="indexConfiguration",PW="indexId",QE="collectionGroupIndex",OW="collectionGroup",Im="indexState",RW=["indexId","uid"],W5="sequenceNumberIndex",kW=["uid","sequenceNumber"],Nm="indexEntries",CW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Y5="documentKeyIndex",jW=["indexId","uid","orderedDocumentKey"],ub="documentOverlays",DW=["userId","collectionPath","documentId"],XE="collectionPathOverlayIndex",MW=["userId","collectionPath","largestBatchId"],Q5="collectionGroupOverlayIndex",LW=["userId","collectionGroup","largestBatchId"],YT="globals",VW="name",X5=[Km,Qi,Dd,fc,Md,Pp,Rc,Ld,Vd,Hm,Gm,lb,cb],BW=[...X5,ub],Z5=[Km,Qi,Dd,Bv,Md,Pp,Rc,Ld,Vd,Hm,Gm,lb,cb,ub],J5=Z5,QT=[...J5,WT,Im,Nm],UW=QT,eV=[...QT,YT],zW=eV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends F5{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Fn(t,e){const n=Ee(t);return La.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new By(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new By(this.root,e,this.comparator,!1)}getReverseIterator(){return new By(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new By(this.root,e,this.comparator,!0)}}class By{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??fr.RED,this.left=i??fr.EMPTY,this.right=a??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new fr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dk(this.data.getIterator())}getIteratorFrom(e){return new dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function id(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new Ot(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nV("Invalid base64 string: "+a):a}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const $W=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=$W.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="server_timestamp",iV="__type__",aV="__previous_value__",sV="__local_write_time__";function db(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iV])==null?void 0:r.stringValue)===rV}function fb(t){const e=t.mapValue.fields[aV];return db(e)?fb(e):e}function Wm(t){const e=Bs(t.mapValue.fields[sV].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,n,r,i,a,o,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const zv="(default)";class rl{constructor(e,n){this.projectId=e,this.database=n||zv}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database===zv}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="__type__",oV="__max__",qo={mapValue:{fields:{__type__:{stringValue:oV}}}},ZT="__vector__",Bd="value",bv={nullValue:"NULL_VALUE"};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?db(t)?4:lV(t)?9007199254740991:hb(t)?10:11:Se(28295,{value:t})}function Ha(t,e){if(t===e)return!0;const n=il(t);if(n!==il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wm(t).isEqual(Wm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Bs(i.timestampValue),c=Bs(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Us(i.bytesValue).isEqual(Us(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return en(i.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return en(i.integerValue)===en(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=en(i.doubleValue),c=en(a.doubleValue);return o===c?qm(o)===qm(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Cd(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(uk(o)!==uk(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!Ha(o[d],c[d])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Ym(t,e){return(t.values||[]).find((n=>Ha(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=il(t),r=il(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=en(a.integerValue||a.doubleValue),d=en(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return fk(t.timestampValue,e.timestampValue);case 4:return fk(Wm(t),Wm(e));case 5:return GE(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=Us(a),d=Us(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ge(c[f],d[f]);if(m!==0)return m}return Ge(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Ge(en(a.latitude),en(o.latitude));return c!==0?c:Ge(en(a.longitude),en(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hk(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var v,x,A,E;const c=a.fields||{},d=o.fields||{},f=(v=c[Bd])==null?void 0:v.arrayValue,m=(x=d[Bd])==null?void 0:x.arrayValue,g=Ge(((A=f==null?void 0:f.values)==null?void 0:A.length)||0,((E=m==null?void 0:m.values)==null?void 0:E.length)||0);return g!==0?g:hk(f,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===qo.mapValue&&o===qo.mapValue)return 0;if(a===qo.mapValue)return 1;if(o===qo.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=o.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=GE(d[g],m[g]);if(v!==0)return v;const x=al(c[d[g]],f[m[g]]);if(x!==0)return x}return Ge(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function fk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Bs(t),r=Bs(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function hk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=al(n[i],r[i]);if(a)return a}return Ge(n.length,r.length)}function Ud(t){return JE(t)}function JE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Us(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=JE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${JE(n.fields[o])}`;return i+"}"})(t.mapValue):Se(61005,{value:t})}function xv(t){switch(il(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fb(t);return e?16+xv(e):16;case 5:return 2*t.stringValue.length;case 6:return Us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+xv(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return _l(r.fields,((a,o)=>{i+=a.length+xv(o)})),i})(t.mapValue);default:throw Se(13486,{value:t})}}function Vc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eA(t){return!!t&&"integerValue"in t}function Qm(t){return!!t&&"arrayValue"in t}function mk(t){return!!t&&"nullValue"in t}function pk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _v(t){return!!t&&"mapValue"in t}function hb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XT])==null?void 0:r.stringValue)===ZT}function Pm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _l(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pm(t.arrayValue.values[n]);return e}return{...t}}function lV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oV}const cV={mapValue:{fields:{[XT]:{stringValue:ZT},[Bd]:{arrayValue:{}}}}};function KW(t){return"nullValue"in t?bv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Vc(rl.empty(),xe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?hb(t)?cV:{mapValue:{}}:Se(35942,{value:t})}function HW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Vc(rl.empty(),xe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?cV:"mapValue"in t?hb(t)?{mapValue:{}}:qo:Se(61959,{value:t})}function gk(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function yk(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_v(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pm(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Pm(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());_v(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_v(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_l(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new mr(Pm(this.value))}}function uV(t){const e=[];return _l(t.fields,((n,r)=>{const i=new rn([n]);if(_v(r)){const a=uV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Qt(e,0,De.min(),De.min(),De.min(),mr.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,De.min(),De.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,De.min(),De.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.position=e,this.inclusive=n}}function vk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(o.referenceValue),n.key):r=al(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function bk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n="asc"){this.field=e,this.dir=n}}function GW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{}class ot extends dV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WW(e,n,r):n==="array-contains"?new XW(e,r):n==="in"?new yV(e,r):n==="not-in"?new ZW(e,r):n==="array-contains-any"?new JW(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YW(e,r):new QW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pt extends dV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pt(e,n)}matches(e){return zd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zd(t){return t.op==="and"}function tA(t){return t.op==="or"}function JT(t){return fV(t)&&zd(t)}function fV(t){for(const e of t.filters)if(e instanceof Pt)return!1;return!0}function nA(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Ud(t.value);if(JT(t))return t.filters.map((e=>nA(e))).join(",");{const e=t.filters.map((n=>nA(n))).join(",");return`${t.op}(${e})`}}function hV(t,e){return t instanceof ot?(function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)})(t,e):t instanceof Pt?(function(r,i){return i instanceof Pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&hV(o,i.filters[c])),!0):!1})(t,e):void Se(19439)}function mV(t,e){const n=t.filters.concat(e);return Pt.create(n,t.op)}function pV(t){return t instanceof ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ud(n.value)}`})(t):t instanceof Pt?(function(n){return n.op.toString()+" {"+n.getFilters().map(pV).join(" ,")+"}"})(t):"Filter"}class WW extends ot{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class YW extends ot{constructor(e,n){super(e,"in",n),this.keys=gV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QW extends ot{constructor(e,n){super(e,"not-in",n),this.keys=gV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>xe.fromName(r.referenceValue)))}class XW extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qm(n)&&Ym(n.arrayValue,this.value)}}class yV extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ym(this.value.arrayValue,n)}}class ZW extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ym(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ym(this.value.arrayValue,n)}}class JW extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ym(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function rA(t,e=null,n=[],r=[],i=null,a=null,o=null){return new eY(t,e,n,r,i,a,o)}function Bc(t){const e=Ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>nA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ud(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ud(r))).join(",")),e.Te=n}return e.Te}function Op(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bk(t.startAt,e.startAt)&&bk(t.endAt,e.endAt)}function Fv(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function $v(t,e){return t.filters.filter((n=>n instanceof ot&&n.field.isEqual(e)))}function xk(t,e,n){let r=bv,i=!0;for(const a of $v(t,e)){let o=bv,c=!0;switch(a.op){case"<":case"<=":o=KW(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,c=!1;break;case"!=":case"not-in":o=bv}gk({value:r,inclusive:i},{value:o,inclusive:c})<0&&(r=o,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];gk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function _k(t,e,n){let r=qo,i=!0;for(const a of $v(t,e)){let o=qo,c=!0;switch(a.op){case">=":case">":o=HW(a.value),c=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,c=!1;break;case"!=":case"not-in":o=qo}yk({value:r,inclusive:i},{value:o,inclusive:c})>0&&(r=o,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];yk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vV(t,e,n,r,i,a,o,c){return new Ys(t,e,n,r,i,a,o,c)}function gf(t){return new Ys(t)}function wk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eS(t){return t.collectionGroup!==null}function Ed(t){const e=Ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ot(rn.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Xm(a,r))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Xm(rn.keyField(),r))}return e.Ie}function Vr(t){const e=Ee(t);return e.Ee||(e.Ee=tY(e,Ed(t))),e.Ee}function tY(t,e){if(t.limitType==="F")return rA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Xm(i.field,a)}));const n=t.endAt?new sl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sl(t.startAt.position,t.startAt.inclusive):null;return rA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iA(t,e){const n=t.filters.concat([e]);return new Ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qv(t,e,n){return new Ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rp(t,e){return Op(Vr(t),Vr(e))&&t.limitType===e.limitType}function bV(t){return`${Bc(Vr(t))}|lt:${t.limitType}`}function fd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>pV(i))).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ud(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ud(i))).join(",")),`Target(${r})`})(Vr(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ed(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const f=vk(o,c,d);return o.inclusive?f<=0:f<0})(r.startAt,Ed(r),i)||r.endAt&&!(function(o,c,d){const f=vk(o,c,d);return o.inclusive?f>=0:f>0})(r.endAt,Ed(r),i))})(t,e)}function xV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _V(t){return(e,n)=>{let r=!1;for(const i of Ed(t)){const a=nY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function nY(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),f=c.data.field(a);return d!==null&&f!==null?al(d,f):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return tV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=new Ht(xe.comparator);function Yr(){return rY}const wV=new Ht(xe.comparator);function hm(...t){let e=wV;for(const n of t)e=e.insert(n.key,n);return e}function EV(t){let e=wV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ca(){return Om()}function AV(){return Om()}function Om(){return new Qs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const iY=new Ht(xe.comparator),aY=new Ot(xe.comparator);function Ye(...t){let e=aY;for(const n of t)e=e.add(n);return e}const sY=new Ot(Ge);function tS(){return sY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qm(e)?"-0":e}}function TV(t){return{integerValue:""+t}}function SV(t,e){return q5(e)?TV(e):nS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this._=void 0}}function oY(t,e,n){return t instanceof Fd?(function(i,a){const o={fields:{[iV]:{stringValue:rV},[sV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&db(a)&&(a=fb(a)),a&&(o.fields[aV]=a),{mapValue:o}})(n,e):t instanceof Uc?NV(t,e):t instanceof zc?PV(t,e):(function(i,a){const o=IV(i,a),c=Ek(o)+Ek(i.Ae);return eA(o)&&eA(i.Ae)?TV(c):nS(i.serializer,c)})(t,e)}function lY(t,e,n){return t instanceof Uc?NV(t,e):t instanceof zc?PV(t,e):n}function IV(t,e){return t instanceof $d?(function(r){return eA(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Fd extends mb{}class Uc extends mb{constructor(e){super(),this.elements=e}}function NV(t,e){const n=OV(e);for(const r of t.elements)n.some((i=>Ha(i,r)))||n.push(r);return{arrayValue:{values:n}}}class zc extends mb{constructor(e){super(),this.elements=e}}function PV(t,e){let n=OV(e);for(const r of t.elements)n=n.filter((i=>!Ha(i,r)));return{arrayValue:{values:n}}}class $d extends mb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ek(t){return en(t.integerValue||t.doubleValue)}function OV(t){return Qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.field=e,this.transform=n}}function cY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Uc&&i instanceof Uc||r instanceof zc&&i instanceof zc?Cd(r.elements,i.elements,Ha):r instanceof $d&&i instanceof $d?Ha(r.Ae,i.Ae):r instanceof Fd&&i instanceof Fd})(t.transform,e.transform)}class uY{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pb{}function RV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vf(t.key,an.none()):new yf(t.key,t.data,an.none());{const n=t.data,r=mr.empty();let i=new Ot(rn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Xs(t.key,r,new Wr(i.toArray()),an.none())}}function dY(t,e,n){t instanceof yf?(function(i,a,o){const c=i.value.clone(),d=Tk(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Xs?(function(i,a,o){if(!wv(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=Tk(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(kV(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Rm(t,e,n,r){return t instanceof yf?(function(a,o,c,d){if(!wv(a.precondition,o))return c;const f=a.value.clone(),m=Sk(a.fieldTransforms,d,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Xs?(function(a,o,c,d){if(!wv(a.precondition,o))return c;const f=Sk(a.fieldTransforms,d,o),m=o.data;return m.setAll(kV(a)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,o,c){return wv(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function fY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=IV(r.transform,i||null);a!=null&&(n===null&&(n=mr.empty()),n.set(r.field,a))}return n||null}function Ak(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cd(r,i,((a,o)=>cY(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends pb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends pb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tk(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,lY(o,c,n[i]))}return r}function Sk(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,oY(a,o,e))}return r}class vf extends pb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rS extends pb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AV();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=RV(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Cd(this.mutations,e.mutations,((n,r)=>Ak(n,r)))&&Cd(this.baseMutations,e.baseMutations,((n,r)=>Ak(n,r)))}}class aS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return iY})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new aS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,ht;function CV(t){switch(t){case re.OK:return Se(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function jV(t){if(t===void 0)return _n("GRPC error has no .code"),re.UNKNOWN;switch(t){case Pn.OK:return re.OK;case Pn.CANCELLED:return re.CANCELLED;case Pn.UNKNOWN:return re.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return re.INTERNAL;case Pn.UNAVAILABLE:return re.UNAVAILABLE;case Pn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pn.NOT_FOUND:return re.NOT_FOUND;case Pn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pn.ABORTED:return re.ABORTED;case Pn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pn.DATA_LOSS:return re.DATA_LOSS;default:return Se(39323,{code:t})}}(ht=Pn||(Pn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=new Wo([4294967295,4294967295],0);function Ik(t){const e=DV().encode(t),n=new I5;return n.update(e),new Uint8Array(n.digest())}function Nk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wo([n,r],0),new Wo([i,a],0)]}class oS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mm(`Invalid padding: ${n}`);if(r<0)throw new mm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Wo.fromNumber(r)));return i.compare(mY)===1&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ik(e),[r,i]=Nk(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new oS(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=Ik(e),[r,i]=Nk(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jp(De.min(),i,new Ht(Ge),Yr(),Ye())}}class Dp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dp(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class MV{constructor(e,n){this.targetId=e,this.Ce=n}}class LV{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Pk{constructor(){this.ve=0,this.Fe=Ok(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se(38017,{changeType:a})}})),new Dp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ok()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=Uy(),this.He=Uy(),this.Ye=new Ht(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Fv(a))if(r===0){const o=new xe(a.path);this.et(n,o,Qt.newNoDocument(o,De.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Us(r).toUint8Array()}catch(d){if(d instanceof nV)return Ka("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new oS(o,i,a)}catch(d){return Ka(d instanceof mm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&Fv(c.target)){const d=new xe(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Qt.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Ye();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new jp(e,n,this.Ye,this.je,r);return this.je=Yr(),this.Je=Uy(),this.He=Uy(),this.Ye=new Ht(Ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Pk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pk),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uy(){return new Ht(xe.comparator)}function Ok(){return new Ht(xe.comparator)}const gY={asc:"ASCENDING",desc:"DESCENDING"},yY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vY={and:"AND",or:"OR"};class bY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aA(t,e){return t.useProto3Json||Np(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xY(t,e){return qd(t,e.toTimestamp())}function wn(t){return Re(!!t,49232),De.fromTimestamp((function(n){const r=Bs(n);return new gt(r.seconds,r.nanos)})(t))}function lS(t,e){return sA(t,e).canonicalString()}function sA(t,e){const n=(function(i){return new st(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function BV(t){const e=st.fromString(t);return Re(YV(e),10190,{key:e.toString()}),e}function Zm(t,e){return lS(t.databaseId,e.path)}function Va(t,e){const n=BV(e);if(n.get(1)!==t.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(FV(n))}function UV(t,e){return lS(t.databaseId,e)}function zV(t){const e=BV(t);return e.length===4?st.emptyPath():FV(e)}function oA(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FV(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rk(t,e,n){return{name:Zm(t,e),fields:n.value.mapValue.fields}}function $V(t,e,n){const r=Va(t,e.name),i=wn(e.updateTime),a=e.createTime?wn(e.createTime):De.min(),o=new mr({mapValue:{fields:e.fields}}),c=Qt.newFoundDocument(r,i,a,o);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function _Y(t,e){return"found"in e?(function(r,i){Re(!!i.found,43571),i.found.name,i.found.updateTime;const a=Va(r,i.found.name),o=wn(i.found.updateTime),c=i.found.createTime?wn(i.found.createTime):De.min(),d=new mr({mapValue:{fields:i.found.fields}});return Qt.newFoundDocument(a,o,c,d)})(t,e):"missing"in e?(function(r,i){Re(!!i.missing,3894),Re(!!i.readTime,22933);const a=Va(r,i.missing),o=wn(i.readTime);return Qt.newNoDocument(a,o)})(t,e):Se(7234,{result:e})}function wY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Se(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(Re(m===void 0||typeof m=="string",58123),mn.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(f){const m=f.code===void 0?re.UNKNOWN:jV(f.code);return new de(m,f.message||"")})(o);n=new LV(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Va(t,r.document.name),a=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):De.min(),c=new mr({mapValue:{fields:r.document.fields}}),d=Qt.newFoundDocument(i,a,o,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Ev(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Va(t,r.document),a=r.readTime?wn(r.readTime):De.min(),o=Qt.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Ev([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Va(t,r.document),a=r.removedTargetIds||[];n=new Ev([],a,i,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new hY(i,a),c=r.targetId;n=new MV(c,o)}}return n}function Jm(t,e){let n;if(e instanceof yf)n={update:Rk(t,e.key,e.value)};else if(e instanceof vf)n={delete:Zm(t,e.key)};else if(e instanceof Xs)n={update:Rk(t,e.key,e.data),updateMask:NY(e.fieldMask)};else{if(!(e instanceof rS))return Se(16599,{Vt:e.type});n={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof Fd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof zc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $d)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Se(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:xY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(t,e.precondition)),n}function lA(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?an.updateTime(wn(a.updateTime)):a.exists!==void 0?an.exists(a.exists):an.none()})(e.currentDocument):an.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(o,c){let d=null;if("setToServerValue"in c)Re(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new Fd;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new Uc(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new zc(m)}else"increment"in c?d=new $d(o,c.increment):Se(16584,{proto:c});const f=rn.fromServerFormat(c.fieldPath);return new Cp(f,d)})(t,i))):[];if(e.update){e.update.name;const i=Va(t,e.update.name),a=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(d){const f=d.fieldPaths||[];return new Wr(f.map((m=>rn.fromServerFormat(m))))})(e.updateMask);return new Xs(i,a,o,n,r)}return new yf(i,a,n,r)}if(e.delete){const i=Va(t,e.delete);return new vf(i,n)}if(e.verify){const i=Va(t,e.verify);return new rS(i,n)}return Se(1463,{proto:e})}function EY(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?wn(i.updateTime):wn(a);return o.isEqual(De.min())&&(o=wn(a)),new uY(o,i.transformResults||[])})(n,e)))):[]}function qV(t,e){return{documents:[UV(t,e.path)]}}function KV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UV(t,i);const a=(function(f){if(f.length!==0)return WV(Pt.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:hd(v.field),direction:TY(v.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=aA(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function HV(t){let e=zV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(g){const v=GV(g);return v instanceof Pt&&JT(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((v=>(function(A){return new Xm(md(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Np(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(g){const v=!!g.before,x=g.values||[];return new sl(x,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const v=!g.before,x=g.values||[];return new sl(x,v)})(n.endAt)),vV(e,i,o,a,c,"F",d,f)}function AY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GV(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=md(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=md(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=md(n.unaryFilter.field);return ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=md(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ot.create(md(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pt.create(n.compositeFilter.filters.map((r=>GV(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function TY(t){return gY[t]}function SY(t){return yY[t]}function IY(t){return vY[t]}function hd(t){return{fieldPath:t.canonicalString()}}function md(t){return rn.fromServerFormat(t.fieldPath)}function WV(t){return t instanceof ot?(function(n){if(n.op==="=="){if(pk(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NAN"}};if(mk(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pk(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NAN"}};if(mk(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(n.field),op:SY(n.op),value:n.value}}})(t):t instanceof Pt?(function(n){const r=n.getFilters().map((i=>WV(i)));return r.length===1?r[0]:{compositeFilter:{op:IY(n.op),filters:r}}})(t):Se(54877,{filter:t})}function NY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,a=De.min(),o=De.min(),c=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.yt=e}}function PY(t,e){let n;if(e.document)n=$V(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=xe.fromSegments(e.noDocument.path),i=$c(e.noDocument.readTime);n=Qt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=xe.fromSegments(e.unknownDocument.path),i=$c(e.unknownDocument.version);n=Qt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new gt(i[0],i[1]);return De.fromTimestamp(a)})(e.readTime)),n}function kk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,o){return{name:Zm(a,o.key),fields:o.data.value.mapValue.fields,updateTime:qd(a,o.version.toTimestamp()),createTime:qd(a,o.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fc(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Fc(e.version)}}return r}function Kv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $c(t){const e=new gt(t.seconds,t.nanoseconds);return De.fromTimestamp(e)}function yc(t,e){const n=(e.baseMutations||[]).map((a=>lA(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];o.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>lA(t.yt,a))),i=gt.fromMillis(e.localWriteTimeMs);return new iS(e.batchId,i,n,r)}function pm(t){const e=$c(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?$c(t.lastLimboFreeSnapshotVersion):De.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const o=a.documents.length;return Re(o===1,1966,{count:o}),Vr(gf(zV(a.documents[0])))})(t.query):(function(a){return Vr(HV(a))})(t.query),new Is(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mn.fromBase64String(t.resumeToken))}function XV(t,e){const n=Fc(e.snapshotVersion),r=Fc(e.lastLimboFreeSnapshotVersion);let i;i=Fv(e.target)?qV(t.yt,e.target):KV(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bc(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function cS(t){const e=HV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qv(e,e.limit,"L"):e}function Bw(t,e){return new sS(e.largestBatchId,lA(t.yt,e.overlayMutation))}function Ck(t,e){const n=e.path.lastSegment();return[t,Tr(e.path.popLast()),n]}function jk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Fc(r.readTime),documentKey:Tr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{getBundleMetadata(e,n){return Dk(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:$c(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return Dk(e).put((function(i){return{bundleId:i.id,createTime:Fc(wn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return Mk(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:cS(a.bundledQuery),readTime:$c(a.readTime)}})(r)}))}saveNamedQuery(e,n){return Mk(e).put((function(i){return{name:i.name,readTime:Fc(wn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function Dk(t){return Fn(t,lb)}function Mk(t){return Fn(t,cb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new gb(e,r)}getOverlay(e,n){return Yh(e).get(Ck(this.userId,n)).next((r=>r?Bw(this.serializer,r):null))}getOverlays(e,n){const r=Ca();return Q.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,o)=>{const c=new sS(n,o);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((o=>i.add(Tr(o.getCollectionPath()))));const a=[];return i.forEach((o=>{const c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);a.push(Yh(e).Z(XE,c))})),Q.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ca(),a=Tr(n),o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yh(e).J(XE,o).next((c=>{for(const d of c){const f=Bw(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Ca();let o;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Yh(e).ee({index:Q5,range:c},((d,f,m)=>{const g=Bw(this.serializer,f);a.size()<i||g.largestBatchId===o?(a.set(g.getKey(),g),o=g.largestBatchId):m.done()})).next((()=>a))}St(e,n){return Yh(e).put((function(i,a,o){const[c,d,f]=Ck(a,o.mutation.key);return{userId:a,collectionPath:d,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Jm(i.yt,o.mutation)}})(this.serializer,this.userId,n))}}function Yh(t){return Fn(t,ub)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{bt(e){return Fn(e,YT)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?mn.fromUint8Array(r):mn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(en(e.integerValue));else if("doubleValue"in e){const r=en(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),qm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Bs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Us(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?lV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):hb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Se(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var o,c;const r=e.fields||{};this.Ft(n,53);const i=Bd,a=((c=(o=r[i].arrayValue)==null?void 0:o.values)==null?void 0:c.length)||0;this.Ft(n,15),n.Mt(en(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),xe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}vc.Kt=new vc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=255;function kY(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function Lk(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const o=kY(255&r[a]);if(i+=o,o!==8)break}return i})(t);return Math.ceil(e/8)}class CY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=Lk(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=Lk(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(ad),this.sn(255)}_n(){this.an(ad),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===ad?(this.sn(ad),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===ad?(this.an(ad),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class jY{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class DY{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Qh{constructor(){this.cn=new CY,this.ln=new jY(this.cn),this.hn=new DY(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new bc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Av(this.En),directionalValue:Av(this.dn),orderedDocumentKey:Av(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Do(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=Vk(t.En,e.En),n!==0?n:(n=Vk(t.dn,e.dn),n!==0?n:xe.comparator(t.In,e.In)))}function Vk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Av(t){return uL()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function Bk(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class Uk{constructor(e){this.mn=new Ot(((n,r)=>rn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=WE(e);if(n!==void 0&&!this.wn(n))return!1;const r=dc(e);let i=new Set,a=0,o=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[a];if(!this.Sn(c,d)||!this.bn(this.fn[o++],d))return!1}++a}for(;a<r.length;++a){const c=r[a];if(o>=this.fn.length||!this.bn(this.fn[o++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ot(rn.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new gv(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new gv(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new gv(r.field,r.dir==="asc"?0:1)));return new Lv(Lv.UNKNOWN_ID,this.collectionId,n,$m.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){var n,r;if(Re(t instanceof ot||t instanceof Pt,20012),t instanceof ot){if(t instanceof yV){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>ot.create(t.field,"==",a))))||[];return Pt.create(i,"or")}return t}const e=t.filters.map((i=>ZV(i)));return Pt.create(e,t.op)}function MY(t){if(t.getFilters().length===0)return[];const e=dA(ZV(t));return Re(JV(e),7391),cA(e)||uA(e)?[e]:e.getFilters()}function cA(t){return t instanceof ot}function uA(t){return t instanceof Pt&&JT(t)}function JV(t){return cA(t)||uA(t)||(function(n){if(n instanceof Pt&&tA(n)){for(const r of n.getFilters())if(!cA(r)&&!uA(r))return!1;return!0}return!1})(t)}function dA(t){if(Re(t instanceof ot||t instanceof Pt,34018),t instanceof ot)return t;if(t.filters.length===1)return dA(t.filters[0]);const e=t.filters.map((r=>dA(r)));let n=Pt.create(e,t.op);return n=Hv(n),JV(n)?n:(Re(n instanceof Pt,64498),Re(zd(n),40251),Re(n.filters.length>1,57927),n.filters.reduce(((r,i)=>uS(r,i))))}function uS(t,e){let n;return Re(t instanceof ot||t instanceof Pt,38388),Re(e instanceof ot||e instanceof Pt,25473),n=t instanceof ot?e instanceof ot?(function(i,a){return Pt.create([i,a],"and")})(t,e):zk(t,e):e instanceof ot?zk(e,t):(function(i,a){if(Re(i.filters.length>0&&a.filters.length>0,48005),zd(i)&&zd(a))return mV(i,a.getFilters());const o=tA(i)?i:a,c=tA(i)?a:i,d=o.filters.map((f=>uS(f,c)));return Pt.create(d,"or")})(t,e),Hv(n)}function zk(t,e){if(zd(e))return mV(e,t.getFilters());{const n=e.filters.map((r=>uS(t,r)));return Pt.create(n,"or")}}function Hv(t){if(Re(t instanceof ot||t instanceof Pt,11850),t instanceof ot)return t;const e=t.getFilters();if(e.length===1)return Hv(e[0]);if(fV(t))return t;const n=e.map((i=>Hv(i))),r=[];return n.forEach((i=>{i instanceof ot?r.push(i):i instanceof Pt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Pt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(){this.Cn=new dS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(yi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class dS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(st.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="IndexedDbIndexManager",zy=new Uint8Array(0);class VY{constructor(e,n){this.databaseId=n,this.vn=new dS,this.Fn=new Qs((r=>Bc(r)),((r,i)=>Op(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:Tr(i)};return $k(e).put(a)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[D5(n),""],!1,!0);return $k(e).J(i).next((a=>{for(const o of a){if(o.collectionId!==n)break;r.push(ka(o.parent))}return r}))}addFieldIndex(e,n){const r=Xh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const o=od(e);return a.next((c=>{o.put(jk(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=Xh(e),i=od(e),a=sd(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Xh(e),r=sd(e),i=od(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new Uk(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=sd(e);let i=!0;const a=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((c=>{i&&(i=!!c),a.set(o,c)})))).next((()=>{if(i){let o=Ye();const c=[];return Q.forEach(a,((d,f)=>{pe(Fk,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(d)} to execute ${Bc(n)}`);const m=(function(j,M){const C=WE(M);if(C===void 0)return null;for(const V of $v(j,C.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null})(f,d),g=(function(j,M){const C=new Map;for(const V of dc(M))for(const I of $v(j,V.fieldPath))switch(I.op){case"==":case"in":C.set(V.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return C.set(V.fieldPath.canonicalString(),I.value),Array.from(C.values())}return null})(f,d),v=(function(j,M){const C=[];let V=!0;for(const I of dc(M)){const k=I.kind===0?xk(j,I.fieldPath,j.startAt):_k(j,I.fieldPath,j.startAt);C.push(k.value),V&&(V=k.inclusive)}return new sl(C,V)})(f,d),x=(function(j,M){const C=[];let V=!0;for(const I of dc(M)){const k=I.kind===0?_k(j,I.fieldPath,j.endAt):xk(j,I.fieldPath,j.endAt);C.push(k.value),V&&(V=k.inclusive)}return new sl(C,V)})(f,d),A=this.On(d,f,v),E=this.On(d,f,x),S=this.Nn(d,f,g),P=this.Bn(d.indexId,m,A,v.inclusive,E,x.inclusive,S);return Q.forEach(P,(O=>r.Y(O,n.limit).next((j=>{j.forEach((M=>{const C=xe.fromSegments(M.documentKey);o.has(C)||(o=o.add(C),c.push(C))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=MY(Pt.create(e.filters,"and")).map((r=>rA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,o,c){const d=(n!=null?n.length:1)*Math.max(r.length,a.length),f=d/(n!=null?n.length:1),m=[];for(let g=0;g<d;++g){const v=n?this.Ln(n[g/f]):zy,x=this.kn(e,v,r[g%f],i),A=this.qn(e,v,a[g%f],o),E=c.map((S=>this.kn(e,v,S,!0)));m.push(...this.createRange(x,A,E))}return m}kn(e,n,r,i){const a=new bc(e,xe.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new bc(e,xe.empty(),n,r);return i?a.An():a}xn(e,n){const r=new Uk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let o=null;for(const c of a)r.yn(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(a=>this.xn(e,a).next((o=>{o?r!==0&&o.fields.length<(function(d){let f=new Ot(rn.comparator),m=!1;for(const g of d.filters)for(const v of g.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:f=f.add(v.field));for(const g of d.orderBy)g.field.isKeyField()||(f=f.add(g.field));return f.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Qh;for(const i of dc(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const o=r.Pn(i.kind);vc.Kt.Dt(a,o)}return r.un()}Ln(e){const n=new Qh;return vc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Qh;return vc.Kt.Dt(Vc(this.databaseId,n),r.Pn((function(a){const o=dc(a);return o.length===0?0:o[o.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Qh);let a=0;for(const o of dc(e)){const c=r[a++];for(const d of i)if(this.Un(n,o.fieldPath)&&Qm(c))i=this.Kn(i,o,c);else{const f=d.Pn(o.kind);vc.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const o of r.arrayValue.values||[])for(const c of i){const d=new Qh;d.seed(c.un()),vc.Kt.Dt(o,d.Pn(n.kind)),a.push(d)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof ot&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Xh(e),i=od(e);return(n?r.J(QE,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const o=[];return Q.forEach(a,(c=>i.get([c.indexId,this.uid]).next((d=>{o.push((function(m,g){const v=g?new $m(g.sequenceNumber,new yi($c(g.readTime),new xe(ka(g.documentKey)),g.largestBatchId)):$m.empty(),x=m.fields.map((([A,E])=>new gv(rn.fromServerFormat(A),E)));return new Lv(m.indexId,m.collectionGroup,x,v)})(c,d))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Ge(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Xh(e),a=od(e);return this.Gn(e).next((o=>i.J(QE,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>a.put(jk(d.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,a)=>{const o=r.get(i.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(a,d);return f.isEqual(m)?Q.resolve():this.Jn(e,a,d,f,m)})))))))}))}Hn(e,n,r,i){return sd(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return sd(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=sd(e);let a=new Ot(Do);return i.ee({index:Y5,range:IDBKeyRange.only([r.indexId,this.uid,Av(this.$n(r,n))])},((o,c)=>{a=a.add(new bc(r.indexId,n,Bk(c.arrayValue),Bk(c.directionalValue)))})).next((()=>a))}jn(e,n){let r=new Ot(Do);const i=this.Qn(n,e);if(i==null)return r;const a=WE(n);if(a!=null){const o=e.data.field(a.fieldPath);if(Qm(o))for(const c of o.arrayValue.values||[])r=r.add(new bc(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new bc(n.indexId,e.key,zy,i));return r}Jn(e,n,r,i,a){pe(Fk,"Updating index entries for document '%s'",n.key);const o=[];return(function(d,f,m,g,v){const x=d.getIterator(),A=f.getIterator();let E=id(x),S=id(A);for(;E||S;){let P=!1,O=!1;if(E&&S){const j=m(E,S);j<0?O=!0:j>0&&(P=!0)}else E!=null?O=!0:P=!0;P?(g(S),S=id(A)):O?(v(E),E=id(x)):(E=id(x),S=id(A))}})(i,a,Do,(c=>{o.push(this.Hn(e,n,r,c))}),(c=>{o.push(this.Yn(e,n,r,c))})),Q.waitFor(o)}Gn(e){let n=1;return od(e).ee({index:W5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,c)=>Do(o,c))).filter(((o,c,d)=>!c||Do(o,d[c-1])!==0));const i=[];i.push(e);for(const o of r){const c=Do(o,e),d=Do(o,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(o),i.push(o.An());else if(d>0)break}i.push(n);const a=[];for(let o=0;o<i.length;o+=2){if(this.Zn(i[o],i[o+1]))return[];const c=i[o].Vn(this.uid,zy,xe.empty()),d=i[o+1].Vn(this.uid,zy,xe.empty());a.push(IDBKeyRange.bound(c,d))}return a}Zn(e,n){return Do(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qk)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Se(44426))))).next(qk)}}function $k(t){return Fn(t,Gm)}function sd(t){return Fn(t,Nm)}function Xh(t){return Fn(t,WT)}function od(t){return Fn(t,Im)}function qk(t){Re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;KT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new yi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e3=41943040;class wr{static withCacheSize(e){return new wr(e,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e,n){const r=t.store(Qi),i=t.store(Dd),a=[],o=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:o},((m,g,v)=>(c++,v.delete())));a.push(d.next((()=>{Re(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const g=K5(e,m.key.path,n.batchId);a.push(i.delete(g)),f.push(m.key)}return Q.waitFor(a).next((()=>f))}function Gv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(e3,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);class yb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Re(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new yb(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).ee({index:wc,range:r},((i,a,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=pd(e),o=Mo(e);return o.add({}).next((c=>{Re(typeof c=="number",49019);const d=new iS(c,n,r,i),f=(function(x,A,E){const S=E.baseMutations.map((O=>Jm(x.yt,O))),P=E.mutations.map((O=>Jm(x.yt,O)));return{userId:A,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:P}})(this.serializer,this.userId,d),m=[];let g=new Ot(((v,x)=>Ge(v.canonicalString(),x.canonicalString())));for(const v of i){const x=K5(this.userId,v.key.path,c);g=g.add(v.key.path.popLast()),m.push(o.put(f)),m.push(a.put(x,vW))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return Mo(e).get(n).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),yc(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Mo(e).ee({index:wc,range:i},((o,c,d)=>{c.userId===this.userId&&(Re(c.batchId>=r,47524,{tr:r}),a=yc(this.serializer,c)),d.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Yo;return Mo(e).ee({index:wc,range:n,reverse:!0},((i,a,o)=>{r=a.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Yo],[this.userId,Number.POSITIVE_INFINITY]);return Mo(e).J(wc,n).next((r=>r.map((i=>yc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=yv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return pd(e).ee({range:i},((o,c,d)=>{const[f,m,g]=o,v=ka(m);if(f===this.userId&&n.path.isEqual(v))return Mo(e).get(g).next((x=>{if(!x)throw Se(61480,{nr:o,batchId:g});Re(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:g}),a.push(yc(this.serializer,x))}));d.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ge);const i=[];return n.forEach((a=>{const o=yv(this.userId,a.path),c=IDBKeyRange.lowerBound(o),d=pd(e).ee({range:c},((f,m,g)=>{const[v,x,A]=f,E=ka(x);v===this.userId&&a.path.isEqual(E)?r=r.add(A):g.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=yv(this.userId,r),o=IDBKeyRange.lowerBound(a);let c=new Ot(Ge);return pd(e).ee({range:o},((d,f,m)=>{const[g,v,x]=d,A=ka(v);g===this.userId&&r.isPrefixOf(A)?A.length===i&&(c=c.add(x)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(Mo(e).get(a).next((o=>{if(o===null)throw Se(35274,{batchId:a});Re(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:a}),r.push(yc(this.serializer,o))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return t3(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),i=[];return pd(e).ee({range:r},((a,o,c)=>{if(a[0]===this.userId){const d=ka(a[1]);i.push(d)}else c.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return n3(e,this.userId,n)}_r(e){return r3(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Yo,lastStreamToken:""}))}}function n3(t,e,n){const r=yv(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return pd(t).ee({range:a,X:!0},((c,d,f)=>{const[m,g,v]=c;m===e&&g===i&&(o=!0),f.done()})).next((()=>o))}function Mo(t){return Fn(t,Qi)}function pd(t){return Fn(t,Dd)}function r3(t){return Fn(t,Km)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qc(0)}static cr(){return new qc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new qc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>De.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>ld(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return ld(e).ee(((o,c)=>{const d=pm(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(a))).next((()=>i))}forEachTarget(e,n){return ld(e).ee(((r,i)=>{const a=pm(i);n(a)}))}lr(e){return Hk(e).get(Uv).next((n=>(Re(n!==null,2888),n)))}hr(e,n){return Hk(e).put(Uv,n)}Pr(e,n){return ld(e).put(XV(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Bc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return ld(e).ee({range:i,index:G5},((o,c,d)=>{const f=pm(c);Op(n,f.target)&&(a=f,d.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=zo(e);return n.forEach((o=>{const c=Tr(o.path);i.push(a.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=zo(e);return Q.forEach(n,(a=>{const o=Tr(a.path);return Q.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=zo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=zo(e);let a=Ye();return i.ee({range:r,X:!0},((o,c,d)=>{const f=ka(o[1]),m=new xe(f);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=Tr(n.path),i=IDBKeyRange.bound([r],[D5(r)],!1,!0);let a=0;return zo(e).ee({index:GT,X:!0,range:i},(([o,c],d,f)=>{o!==0&&(a++,f.done())})).next((()=>a>0))}At(e,n){return ld(e).get(n).next((r=>r?pm(r):null))}}function ld(t){return Fn(t,Md)}function Hk(t){return Fn(t,Rc)}function zo(t){return Fn(t,Ld)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="LruGarbageCollector",UY=1048576;function Wk([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class zY{constructor(e){this.Ir=e,this.buffer=new Ot(Wk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(Gk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?pe(Gk,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class FY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Gr.ce);const r=new zY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Kk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kk):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),dd()<=at.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function a3(t,e){return new FY(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n){this.db=e,this.garbageCollector=a3(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Fy(e,r)}removeReference(e,n,r){return Fy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Fy(e,n)}br(e,n){return(function(i,a){let o=!1;return r3(i).te((c=>n3(i,c,a).next((d=>(d&&(o=!0),Q.resolve(!d)))))).next((()=>o))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((o,c)=>{if(c<=n){const d=this.br(e,o).next((f=>{if(!f)return a++,r.getEntry(e,o).next((()=>(r.removeEntry(o,De.min()),zo(e).delete((function(g){return[0,Tr(g.path)]})(o)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Fy(e,n)}Sr(e,n){const r=zo(e);let i,a=Gr.ce;return r.ee({index:GT},(([o,c],{path:d,sequenceNumber:f})=>{o===0?(a!==Gr.ce&&n(new xe(ka(i)),a),a=f,i=d):a=Gr.ce})).next((()=>{a!==Gr.ce&&n(new xe(ka(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fy(t,e){return zo(t).put((function(r,i){return{targetId:0,path:Tr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.changes=new Qs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return lc(e).put(r)}removeEntry(e,n,r){return lc(e).delete((function(a,o){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Kv(o),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Qt.newInvalidDocument(n);return lc(e).ee({index:vv,range:IDBKeyRange.only(Zh(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:Qt.newInvalidDocument(n)};return lc(e).ee({index:vv,range:IDBKeyRange.only(Zh(n))},((i,a)=>{r={document:this.Cr(n,a),size:Gv(a)}})).next((()=>r))}getEntries(e,n){let r=Yr();return this.Fr(e,n,((i,a)=>{const o=this.Cr(i,a);r=r.insert(i,o)})).next((()=>r))}Mr(e,n){let r=Yr(),i=new Ht(xe.comparator);return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c),i=i.insert(a,Gv(o))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new Ot(Xk);n.forEach((d=>i=i.add(d)));const a=IDBKeyRange.bound(Zh(i.first()),Zh(i.last())),o=i.getIterator();let c=o.getNext();return lc(e).ee({index:vv,range:a},((d,f,m)=>{const g=xe.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&Xk(c,g)<0;)r(c,null),c=o.getNext();c&&c.isEqual(g)&&(r(c,f),c=o.hasNext()?o.getNext():null),c?m.j(Zh(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const o=n.path,c=[o.popLast().toArray(),o.lastSegment(),Kv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lc(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{a==null||a.incrementDocumentReadCount(f.length);let m=Yr();for(const g of f){const v=this.Cr(xe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(kp(n,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=Yr();const o=Qk(n,r),c=Qk(n,yi.max());return lc(e).ee({index:H5,range:IDBKeyRange.bound(o,c,!0)},((d,f,m)=>{const g=this.Cr(xe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(g.key,g),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new KY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return Yk(e).get(YE).next((n=>(Re(!!n,20021),n)))}Dr(e,n){return Yk(e).put(YE,n)}Cr(e,n){if(n){const r=PY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return Qt.newInvalidDocument(e)}}function o3(t){return new qY(t)}class KY extends s3{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Qs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Ot(((a,o)=>Ge(a.canonicalString(),o.canonicalString())));return this.changes.forEach(((a,o)=>{const c=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,c.readTime)),o.isValidDocument()){const d=kk(this.Nr.serializer,o);i=i.add(a.path.popLast());const f=Gv(d);r+=f-c.size,n.push(this.Nr.addEntry(e,a,d))}else if(r-=c.size,this.trackRemovals){const d=kk(this.Nr.serializer,o.convertToNoDocument(De.min()));n.push(this.Nr.addEntry(e,a,d))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,o)=>{this.Br.set(a,{size:o,readTime:r.get(a).readTime})})),r)))}}function Yk(t){return Fn(t,Hm)}function lc(t){return Fn(t,Bv)}function Zh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qk(t,e){const n=e.documentKey.path.toArray();return[t,Kv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Xk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ge(n[a],r[a]),i)return i;return i=Ge(n.length,r.length),i||(i=Ge(n[n.length-2],r[r.length-2]),i||Ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rm(r.mutation,i,Wr.empty(),gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const i=Ca();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=hm();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ca();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=Yr();const o=Om(),c=(function(){return Om()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Xs)?a=a.insert(f.key,f):m!==void 0?(o.set(f.key,m.mutation.getFieldMask()),Rm(m.mutation,f,m.mutation.getFieldMask(),gt.now())):o.set(f.key,Wr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,m)=>o.set(f,m))),n.forEach(((f,m)=>c.set(f,new HY(m,o.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Om();let i=new Ht(((o,c)=>o-c)),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Wr.empty();m=c.applyToLocalView(f,m),r.set(d,m);const g=(i.get(c.batchId)||Ye()).add(d);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,g=AV();m.forEach((v=>{if(!a.has(v)){const x=RV(n.get(v),r.get(v));x!==null&&g.set(v,x),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Q.resolve(Ca());let c=jd,d=a;return o.next((f=>Q.forEach(f,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,Ye()))).next((m=>({batchId:c,changes:EV(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let i=hm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=hm();return this.indexManager.getCollectionParents(e,a).next((c=>Q.forEach(c,(d=>{const f=(function(g,v){return new Ys(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,f)=>{const m=f.getKey();o.get(m)===null&&(o=o.insert(m,Qt.newInvalidDocument(m)))}));let c=hm();return o.forEach(((d,f)=>{const m=a.get(d);m!==void 0&&Rm(m.mutation,f,Wr.empty(),gt.now()),kp(n,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:cS(i.bundledQuery),readTime:wn(i.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(){this.overlays=new Ht(xe.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ca();return Q.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ca(),a=n.length+1,o=new xe(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ht(((f,m)=>f-m));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=Ca(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Ca(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sS(n,r));let a=this.qr.get(n);a===void 0&&(a=Ye(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.Qr=new Ot(Xn.$r),this.Ur=new Ot(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new st([])),r=new Xn(n,e),i=new Xn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new st([])),r=new Xn(n,e),i=new Xn(n,e+1);let a=Ye();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new Xn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Xn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iS(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new Xn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Yo:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),i=new Xn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ge);return n.forEach((i=>{const a=new Xn(i,0),o=new Xn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const o=new Xn(new xe(a),0);let c=new Ot(Ge);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),o),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const a=new Xn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.ri=e,this.docs=(function(){return new Ht(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Qt.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Yr();const o=n.path,c=new xe(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||KT(U5(m),r)<=0||(i.has(m.key)||kp(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Se(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ZY(this)}getSize(e){return Q.resolve(this.size)}}class ZY extends s3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.persistence=e,this.si=new Qs((n=>Bc(n)),Op),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new fS,this.targetCount=0,this.ai=qc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(a).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gr(0),this.li=!1,this.li=!0,this.hi=new YY,this.referenceDelegate=e(this),this.Pi=new JY(this),this.indexManager=new LY,this.remoteDocumentCache=(function(i){return new XY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QV(n),this.Ii=new GY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new QY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new eQ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class eQ extends F5{constructor(e){super(),this.currentSequenceNumber=e}}class vb{constructor(e){this.persistence=e,this.Ri=new fS,this.Vi=null}static mi(e){return new vb(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=xe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wv{constructor(e,n){this.persistence=e,this.pi=new Qs((r=>Tr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=a3(this,n)}static mi(e,n){return new Wv(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,De.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xv(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e){this.serializer=e}k(e,n,r,i){const a=new ob("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Pp)})(e),(function(d){d.createObjectStore(Km,{keyPath:yW}),d.createObjectStore(Qi,{keyPath:lk,autoIncrement:!0}).createIndex(wc,ck,{unique:!0}),d.createObjectStore(Dd)})(e),Zk(e),(function(d){d.createObjectStore(fc)})(e));let o=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(Ld),d.deleteObjectStore(Md),d.deleteObjectStore(Rc)})(e),Zk(e)),o=o.next((()=>(function(d){const f=d.store(Rc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return f.put(Uv,m)})(a)))),r<4&&i>=4&&(r!==0&&(o=o.next((()=>(function(d,f){return f.store(Qi).J().next((g=>{d.deleteObjectStore(Qi),d.createObjectStore(Qi,{keyPath:lk,autoIncrement:!0}).createIndex(wc,ck,{unique:!0});const v=f.store(Qi),x=g.map((A=>v.put(A)));return Q.waitFor(x)}))})(e,a)))),o=o.next((()=>{(function(d){d.createObjectStore(Vd,{keyPath:SW})})(e)}))),r<5&&i>=5&&(o=o.next((()=>this.yi(a)))),r<6&&i>=6&&(o=o.next((()=>((function(d){d.createObjectStore(Hm)})(e),this.wi(a))))),r<7&&i>=7&&(o=o.next((()=>this.Si(a)))),r<8&&i>=8&&(o=o.next((()=>this.bi(e,a)))),r<9&&i>=9&&(o=o.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(o=o.next((()=>this.Di(a)))),r<11&&i>=11&&(o=o.next((()=>{(function(d){d.createObjectStore(lb,{keyPath:IW})})(e),(function(d){d.createObjectStore(cb,{keyPath:NW})})(e)}))),r<12&&i>=12&&(o=o.next((()=>{(function(d){const f=d.createObjectStore(ub,{keyPath:DW});f.createIndex(XE,MW,{unique:!1}),f.createIndex(Q5,LW,{unique:!1})})(e)}))),r<13&&i>=13&&(o=o.next((()=>(function(d){const f=d.createObjectStore(Bv,{keyPath:bW});f.createIndex(vv,xW),f.createIndex(H5,_W)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(fc)))),r<14&&i>=14&&(o=o.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(o=o.next((()=>(function(d){d.createObjectStore(WT,{keyPath:PW,autoIncrement:!0}).createIndex(QE,OW,{unique:!1}),d.createObjectStore(Im,{keyPath:RW}).createIndex(W5,kW,{unique:!1}),d.createObjectStore(Nm,{keyPath:CW}).createIndex(Y5,jW,{unique:!1})})(e)))),r<16&&i>=16&&(o=o.next((()=>{n.objectStore(Im).clear()})).next((()=>{n.objectStore(Nm).clear()}))),r<17&&i>=17&&(o=o.next((()=>{(function(d){d.createObjectStore(YT,{keyPath:VW})})(e)}))),r<18&&i>=18&&uL()&&(o=o.next((()=>{n.objectStore(Im).clear()})).next((()=>{n.objectStore(Nm).clear()}))),o}wi(e){let n=0;return e.store(fc).ee(((r,i)=>{n+=Gv(i)})).next((()=>{const r={byteSize:n};return e.store(Hm).put(YE,r)}))}yi(e){const n=e.store(Km),r=e.store(Qi);return n.J().next((i=>Q.forEach(i,(a=>{const o=IDBKeyRange.bound([a.userId,Yo],[a.userId,a.lastAcknowledgedBatchId]);return r.J(wc,o).next((c=>Q.forEach(c,(d=>{Re(d.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=yc(this.serializer,d);return t3(e,a.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Ld),r=e.store(fc);return e.store(Rc).get(Uv).next((i=>{const a=[];return r.ee(((o,c)=>{const d=new st(o),f=(function(g){return[0,Tr(g)]})(d);a.push(n.get(f).next((m=>m?Q.resolve():(g=>n.put({targetId:0,path:Tr(g),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(a)))}))}bi(e,n){e.createObjectStore(Gm,{keyPath:TW});const r=n.store(Gm),i=new dS,a=o=>{if(i.add(o)){const c=o.lastSegment(),d=o.popLast();return r.put({collectionId:c,parent:Tr(d)})}};return n.store(fc).ee({X:!0},((o,c)=>{const d=new st(o);return a(d.popLast())})).next((()=>n.store(Dd).ee({X:!0},(([o,c,d],f)=>{const m=ka(c);return a(m.popLast())}))))}Di(e){const n=e.store(Md);return n.ee(((r,i)=>{const a=pm(i),o=XV(this.serializer,a);return n.put(o)}))}Ci(e,n){const r=n.store(fc),i=[];return r.ee(((a,o)=>{const c=n.store(Bv),d=(function(g){return g.document?new xe(st.fromString(g.document.name).popFirst(5)):g.noDocument?xe.fromSegments(g.noDocument.path):g.unknownDocument?xe.fromSegments(g.unknownDocument.path):Se(36783)})(o).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(Qi),i=o3(this.serializer),a=new hS(vb.mi,this.serializer.yt);return r.J().next((o=>{const c=new Map;return o.forEach((d=>{let f=c.get(d.userId)??Ye();yc(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const m=new Jn(f),g=gb.wt(this.serializer,m),v=a.getIndexManager(m),x=yb.wt(m,this.serializer,v,a.referenceDelegate);return new l3(i,x,g,v).recalculateAndSaveOverlaysForDocumentKeys(new ZE(n,Gr.ce),d).next()}))}))}}function Zk(t){t.createObjectStore(Ld,{keyPath:EW}).createIndex(GT,AW,{unique:!0}),t.createObjectStore(Md,{keyPath:"targetId"}).createIndex(G5,wW,{unique:!0}),t.createObjectStore(Rc)}const Lo="IndexedDbPersistence",Uw=18e5,zw=5e3,Fw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",c3="main";class mS{constructor(e,n,r,i,a,o,c,d,f,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=o,this.document=c,this.xi=f,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!mS.v())throw new de(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $Y(this,i),this.$i=n+c3,this.serializer=new QV(d),this.Ui=new La(this.$i,this.Ni,new tQ(this.serializer)),this.hi=new RY,this.Pi=new BY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=o3(this.serializer),this.Ii=new OY,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&_n(Lo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(re.FAILED_PRECONDITION,Fw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$y(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(xl(e))return pe(Lo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Lo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Jh(e).get(rd).next((n=>Q.resolve(this.es(n))))}ts(e){return $y(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Uw)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Fn(n,Vd);return r.J().next((i=>{const a=this.ss(i,Uw),o=i.filter((c=>a.indexOf(c)===-1));return Q.forEach(o,(c=>r.delete(c.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Jh(e).get(rd).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,zw)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new de(re.FAILED_PRECONDITION,Fw);return!1}}return!(!this.networkEnabled||!this.inForeground)||$y(e).J().next((r=>this.ss(r,zw).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||o&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&pe(Lo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Pp,Vd],(e=>{const n=new ZE(e,Gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>$y(e).J().next((n=>this.ss(n,Uw).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return yb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new VY(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe(Lo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(d){return d===18?zW:d===17?eV:d===16?UW:d===15?QT:d===14?J5:d===13?Z5:d===12?BW:d===11?X5:void Se(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,i,a,(c=>(o=new ZE(c,this.ci?this.ci.next():Gr.ce),n==="readwrite-primary"?this.Hi(o).next((d=>!!d||this.Yi(o))).next((d=>{if(!d)throw _n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(re.FAILED_PRECONDITION,z5);return r(o)})).next((d=>this.Xi(o).next((()=>d)))):this.Is(o).next((()=>r(o)))))).then((c=>(o.raiseOnCommittedEvent(),c)))}Is(e){return Jh(e).get(rd).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,zw)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new de(re.FAILED_PRECONDITION,Fw)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jh(e).put(rd,n)}static v(){return La.v()}Zi(e){const n=Jh(e);return n.get(rd).next((r=>this.es(r)?(pe(Lo,"Releasing primary lease."),n.delete(rd)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(_n(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;cL()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return pe(Lo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _n(Lo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){_n("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jh(t){return Fn(t,Pp)}function $y(t){return Fn(t,Vd)}function pS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ye(),i=Ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cL()?8:$5(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new nQ;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(dd()<=at.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",fd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(dd()<=at.DEBUG&&pe("QueryEngine","Query:",fd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(dd()<=at.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",fd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):Q.resolve())}ys(e,n){if(wk(n))return Q.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=qv(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Ye(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,o,d.readTime)?this.ys(e,qv(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return wk(n)||i.isEqual(De.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?Q.resolve(null):(dd()<=at.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fd(n)),this.vs(e,o,n,B5(i,jd)).next((c=>c)))}))}Ds(e,n){let r=new Ot(_V(e));return n.forEach(((i,a)=>{kp(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return dd()<=at.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",fd(n)),this.ps.getDocumentsMatchingQuery(e,n,yi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LocalStore",rQ=3e8;class iQ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ht(Ge),this.xs=new Qs((a=>Bc(a)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function d3(t,e,n,r){return new iQ(t,e,n,r)}async function f3(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Ye();for(const f of i){o.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:c})))}))}))}function aQ(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const g=f.batch,v=g.keys();let x=Q.resolve();return v.forEach((A=>{x=x.next((()=>m.getEntry(d,A))).next((E=>{const S=f.docVersions.get(A);Re(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Ye();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function h3(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sQ(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,g)=>{const v=i.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,g))));let x=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(mn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(g,x),(function(E,S,P){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=rQ?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let d=Yr(),f=Ye();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(m3(a,o,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(De.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return Q.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function m3(t,e,n){let r=Ye(),i=Ye();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Yr();return n.forEach(((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):pe(yS,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function oQ(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Yo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Kd(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Q.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Hd(t,e,n){const r=Ee(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xl(o))throw o;pe(yS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Yv(t,e,n){const r=Ee(t);let i=De.min(),a=Ye();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,f,m){const g=Ee(d),v=g.xs.get(m);return v!==void 0?Q.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,m)})(r,o,Vr(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:De.min(),n?a:Ye()))).next((c=>(y3(r,xV(e),c),{documents:c,Qs:a})))))}function p3(t,e){const n=Ee(t),r=Ee(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((o=>o?o.target:null))))}function g3(t,e){const n=Ee(t),r=n.Os.get(e)||De.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,B5(r,jd),Number.MAX_SAFE_INTEGER))).then((i=>(y3(n,e,i),i)))}function y3(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}async function lQ(t,e,n,r){const i=Ee(t);let a=Ye(),o=Yr();for(const f of n){const m=e.$s(f.metadata.name);f.document&&(a=a.add(m));const g=e.Us(f);g.setReadTime(e.Ks(f.metadata.readTime)),o=o.insert(m,g)}const c=i.Ns.newChangeBuffer({trackRemovals:!0}),d=await Kd(i,(function(m){return Vr(gf(st.fromString(`__bundle__/docs/${m}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>m3(f,c,o).next((m=>(c.apply(f),m))).next((m=>i.Pi.removeMatchingKeysForTargetId(f,d.targetId).next((()=>i.Pi.addMatchingKeys(f,a,d.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,m.ks,m.qs))).next((()=>m.ks))))))}async function cQ(t,e,n=Ye()){const r=await Kd(t,Vr(cS(e.bundledQuery))),i=Ee(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const o=wn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ii.saveNamedQuery(a,e);const c=r.withResumeToken(mn.EMPTY_BYTE_STRING,o);return i.Ms=i.Ms.insert(c.targetId,c),i.Pi.updateTargetData(a,c).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firestore_clients";function Jk(t,e){return`${v3}_${t}_${e}`}const b3="firestore_mutations";function eC(t,e,n){let r=`${b3}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const x3="firestore_targets";function $w(t,e){return`${x3}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="SharedClientState";class Qv{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(a=new de(i.error.code,i.error.message))),o?new Qv(e,n,i.state,a):(_n(Aa,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class km{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new de(r.error.code,r.error.message))),a?new km(e,r.state,i):(_n(Aa,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=tS();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=q5(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new Xv(e,a):(_n(Aa,`Failed to parse client data for instance '${e}': ${n}`),null)}}class vS{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new vS(n.clientId,n.onlineState):(_n(Aa,`Failed to parse online state: ${e}`),null)}}class fA{constructor(){this.activeTargetIds=tS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qw{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Ht(Ge),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=Jk(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new fA),this.ro=new RegExp(`^${v3}_${o}_([^_]*)$`),this.io=new RegExp(`^${b3}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${x3}_${o}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(Jk(this.persistenceKey,r));if(i){const a=Xv.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem($w(this.persistenceKey,e));if(i){const a=km.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($w(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pe(Aa,"READ",e,n),n}setItem(e,n){pe(Aa,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){pe(Aa,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(pe(Aa,"EVENT",n.key,n.newValue),n.key===this.eo)return void _n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let o=Gr.ce;if(a!=null)try{const c=JSON.parse(a);Re(typeof c=="number",30636,{So:a}),o=c}catch(c){_n(Aa,"Failed to read sequence number from WebStorage",c)}return o})(n.newValue);r!==Gr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Qv(this.currentUser,e,n,r),a=eC(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=eC(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=$w(this.persistenceKey,e),a=new km(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Xv.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Qv.Ws(new Jn(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return km.Ws(i,n)}uo(e){return vS.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(Aa,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),o=[],c=[];return a.forEach((d=>{i.has(d)||o.push(d)})),i.forEach((d=>{a.has(d)||c.push(d)})),this.syncEngine.Fo(o,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=tS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class _3{constructor(){this.Mo=new fA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="ConnectivityMonitor";class nC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(tC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(tC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy=null;function hA(){return qy===null?qy=(function(){return 268435456+Math.round(2147483648*Math.random())})():qy++,"0x"+qy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="RestConnection",dQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fQ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===zv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=hA(),c=this.zo(e,n.toUriEncodedString());pe(Kw,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(c),m=cf(f);return this.Jo(e,c,d,r,m).then((g=>(pe(Kw,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw Ka(Kw,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=dQ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class mQ extends fQ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=hA();return new Promise(((c,d)=>{const f=new N5;f.setWithCredentials(!0),f.listenOnce(P5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case pv.NO_ERROR:const g=f.getResponseJson();pe(xr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case pv.TIMEOUT:pe(xr,`RPC '${e}' ${o} timed out`),d(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const v=f.getStatus();if(pe(xr,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const E=(function(P){const O=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(O)>=0?O:re.UNKNOWN})(A.status);d(new de(E,A.message))}else d(new de(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new de(re.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(xr,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);pe(xr,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=hA(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=k5(),c=R5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");pe(xr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=o.createWebChannel(m,d);this.I_(g);let v=!1,x=!1;const A=new hQ({Yo:S=>{x?pe(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(pe(xr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),pe(xr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),E=(S,P,O)=>{S.listen(P,(j=>{try{O(j)}catch(M){setTimeout((()=>{throw M}),0)}}))};return E(g,fm.EventType.OPEN,(()=>{x||(pe(xr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(g,fm.EventType.CLOSE,(()=>{x||(x=!0,pe(xr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),E(g,fm.EventType.ERROR,(S=>{x||(x=!0,Ka(xr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new de(re.UNAVAILABLE,"The operation could not be completed")))})),E(g,fm.EventType.MESSAGE,(S=>{var P;if(!x){const O=S.data[0];Re(!!O,16349);const j=O,M=(j==null?void 0:j.error)||((P=j[0])==null?void 0:P.error);if(M){pe(xr,`RPC '${e}' stream ${i} received error:`,M);const C=M.status;let V=(function(D){const B=Pn[D];if(B!==void 0)return jV(B)})(C),I=M.message;V===void 0&&(V=re.INTERNAL,I="Unknown error status: "+C+" with message "+M.message),x=!0,A.a_(new de(V,I)),g.close()}else pe(xr,`RPC '${e}' stream ${i} received:`,O),A.u_(O)}})),E(c,O5.STAT_EVENT,(S=>{S.stat===HE.PROXY?pe(xr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===HE.NOPROXY&&pe(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){return typeof window<"u"?window:null}function Tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return new bY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="PersistentStream";class E3{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(_n(n.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new de(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(rC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(rC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pQ extends E3{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wY(this.serializer,e),r=(function(a){if(!("targetChange"in a))return De.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?wn(o.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oA(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=Fv(d)?{documents:qV(a,d)}:{query:KV(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=VV(a,o.resumeToken);const f=aA(a,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(De.min())>0){c.readTime=qd(a,o.snapshotVersion.toTimestamp());const f=aA(a,o.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=AY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oA(this.serializer),n.removeTarget=e,this.q_(n)}}class gQ extends E3{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EY(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Jm(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{}class vQ extends yQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,sA(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(re.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,sA(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(re.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_n(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="RemoteStore";class xQ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{wl(this)&&(pe(Kc,"Restarting streams for network reachability change."),await(async function(d){const f=Ee(d);f.Ea.add(4),await bf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Lp(f)})(this))}))})),this.Ra=new bQ(r,i)}}async function Lp(t){if(wl(t))for(const e of t.da)await e(!0)}async function bf(t){for(const e of t.da)await e(!1)}function bb(t,e){const n=Ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wS(n)?_S(n):_f(n).O_()&&xS(n,e))}function Gd(t,e){const n=Ee(t),r=_f(n);n.Ia.delete(e),r.O_()&&A3(n,e),n.Ia.size===0&&(r.O_()?r.L_():wl(n)&&n.Ra.set("Unknown"))}function xS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_f(t).Y_(e)}function A3(t,e){t.Va.Ue(e),_f(t).Z_(e)}function _S(t){t.Va=new pY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_f(t).start(),t.Ra.ua()}function wS(t){return wl(t)&&!_f(t).x_()&&t.Ia.size>0}function wl(t){return Ee(t).Ea.size===0}function T3(t){t.Va=void 0}async function _Q(t){t.Ra.set("Online")}async function wQ(t){t.Ia.forEach(((e,n)=>{xS(t,e)}))}async function EQ(t,e){T3(t),wS(t)?(t.Ra.ha(e),_S(t)):t.Ra.set("Unknown")}async function AQ(t,e,n){if(t.Ra.set("Online"),e instanceof LV&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){pe(Kc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zv(t,r)}else if(e instanceof Ev?t.Va.Ze(e):e instanceof MV?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await h3(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(f);m&&a.Ia.set(f,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,f)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(mn.EMPTY_BYTE_STRING,m.snapshotVersion)),A3(a,d);const g=new Is(m.target,d,f,m.sequenceNumber);xS(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){pe(Kc,"Failed to raise snapshot:",r),await Zv(t,r)}}async function Zv(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await bf(t),t.Ra.set("Offline"),n||(n=()=>h3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Kc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lp(t)}))}function S3(t,e){return e().catch((n=>Zv(t,n,e)))}async function xf(t){const e=Ee(t),n=ol(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yo;for(;TQ(e);)try{const i=await oQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,SQ(e,i)}catch(i){await Zv(e,i)}I3(e)&&N3(e)}function TQ(t){return wl(t)&&t.Ta.length<10}function SQ(t,e){t.Ta.push(e);const n=ol(t);n.O_()&&n.X_&&n.ea(e.mutations)}function I3(t){return wl(t)&&!ol(t).x_()&&t.Ta.length>0}function N3(t){ol(t).start()}async function IQ(t){ol(t).ra()}async function NQ(t){const e=ol(t);for(const n of t.Ta)e.ea(n.mutations)}async function PQ(t,e,n){const r=t.Ta.shift(),i=aS.from(r,e,n);await S3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await xf(t)}async function OQ(t,e){e&&ol(t).X_&&await(async function(r,i){if((function(o){return CV(o)&&o!==re.ABORTED})(i.code)){const a=r.Ta.shift();ol(r).B_(),await S3(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await xf(r)}})(t,e),I3(t)&&N3(t)}async function iC(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),pe(Kc,"RemoteStore received new credentials");const r=wl(n);n.Ea.add(3),await bf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lp(n)}async function mA(t,e){const n=Ee(t);e?(n.Ea.delete(2),await Lp(n)):e||(n.Ea.add(2),await bf(n),n.Ra.set("Unknown"))}function _f(t){return t.ma||(t.ma=(function(n,r,i){const a=Ee(n);return a.sa(),new pQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_Q.bind(null,t),t_:wQ.bind(null,t),r_:EQ.bind(null,t),H_:AQ.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wS(t)?_S(t):t.Ra.set("Unknown")):(await t.ma.stop(),T3(t))}))),t.ma}function ol(t){return t.fa||(t.fa=(function(n,r,i){const a=Ee(n);return a.sa(),new gQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:IQ.bind(null,t),r_:OQ.bind(null,t),ta:NQ.bind(null,t),na:PQ.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Kc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new ES(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wf(t,e){if(_n("AsyncQueue",`${e}: ${t}`),xl(t))return new de(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{static emptySet(e){return new Ad(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=hm(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ad)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ad;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.ga=new Ht(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wd{constructor(e,n,r,i,a,o,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Wd(e,n,Ad.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kQ{constructor(){this.queries=sC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ee(n),a=i.queries;i.queries=sC(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function sC(){return new Qs((t=>bV(t)),Rp)}async function AS(t,e){const n=Ee(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new RQ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=wf(o,`Initialization of query '${fd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&SS(n)}async function TS(t,e){const n=Ee(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CQ(t,e){const n=Ee(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&SS(n)}function jQ(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function SS(t){t.Ca.forEach((e=>{e.next()}))}var pA,oC;(oC=pA||(pA={})).Ma="default",oC.Cache="cache";class IS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.serializer=e}$s(e){return Va(this.serializer,e)}Us(e){return e.metadata.exists?$V(this.serializer,e.document,!1):Qt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return wn(e)}}class MQ{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=P3(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=st.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new lC(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const o of i.metadata.queries){const c=(n.get(o)||Ye()).add(a);n.set(o,c)}}return n}async ja(e){const n=await lQ(e,new lC(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await cQ(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function P3(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.key=e}}class R3{constructor(e){this.key=e}}class k3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=_V(e),this.tu=new Ad(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new aC,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const v=i.get(m),x=kp(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;v&&x?v.data.isEqual(x.data)?A!==E&&(r.track({type:3,doc:x}),S=!0):this.su(v,x)||(r.track({type:2,doc:x}),S=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(c=!0)):!v&&x?(r.track({type:0,doc:x}),S=!0):v&&!x&&(r.track({type:1,doc:v}),S=!0,(d||f)&&(c=!0)),S&&(x?(o=o.add(x),a=E?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,g)=>(function(x,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:S})}};return E(x)-E(A)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,o.length!==0||f?{snapshot:new Wd(this.query,e.tu,a,o,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new R3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new O3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const El="SyncEngine";class LQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VQ{constructor(e){this.key=e,this.hu=!1}}class BQ{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qs((c=>bV(c)),Rp),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(xe.comparator),this.Au=new Map,this.Ru=new fS,this.Vu={},this.mu=new Map,this.fu=qc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UQ(t,e,n=!0){const r=xb(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await C3(r,e,n,!0),i}async function zQ(t,e){const n=xb(t);await C3(n,e,!0,!1)}async function C3(t,e,n,r){const i=await Kd(t.localStore,Vr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await NS(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bb(t.remoteStore,i),c}async function NS(t,e,n,r,i){t.pu=(g,v,x)=>(async function(E,S,P,O){let j=S.view.ru(P);j.Cs&&(j=await Yv(E.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,j))));const M=O&&O.targetChanges.get(S.targetId),C=O&&O.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(j,E.isPrimaryClient,M,C);return gA(E,S.targetId,V.au),V.snapshot})(t,g,v,x);const a=await Yv(t.localStore,e,!0),o=new k3(e,a.Qs),c=o.ru(a.documents),d=Dp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(c,t.isPrimaryClient,d);gA(t,n,f.au);const m=new LQ(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function FQ(t,e,n){const r=Ee(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Rp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gd(r.remoteStore,i.targetId),Yd(r,i.targetId)})).catch(bl)):(Yd(r,i.targetId),await Hd(r.localStore,i.targetId,!0))}async function $Q(t,e){const n=Ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gd(n.remoteStore,r.targetId))}async function qQ(t,e,n){const r=kS(t);try{const i=await(function(o,c){const d=Ee(o),f=gt.now(),m=c.reduce(((x,A)=>x.add(A.key)),Ye());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let A=Yr(),E=Ye();return d.Ns.getEntries(x,m).next((S=>{A=S,A.forEach(((P,O)=>{O.isValidDocument()||(E=E.add(P))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,A))).next((S=>{g=S;const P=[];for(const O of c){const j=fY(O,g.get(O.key).overlayedDocument);j!=null&&P.push(new Xs(O.key,j,uV(j.value.mapValue),an.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,P,c)})).next((S=>{v=S;const P=S.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(x,S.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:EV(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let f=o.Vu[o.currentUser.toKey()];f||(f=new Ht(Ge)),f=f.insert(c,d),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await Zs(r,i.changes),await xf(r.remoteStore)}catch(i){const a=wf(i,"Failed to persist write");n.reject(a)}}async function j3(t,e){const n=Ee(t);try{const r=await sQ(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Re(o.hu,14607):i.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))})),await Zs(n,r,e)}catch(r){await bl(r)}}function cC(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=Ee(o);d.onlineState=c;let f=!1;d.queries.forEach(((m,g)=>{for(const v of g.Sa)v.va(c)&&(f=!0)})),f&&SS(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KQ(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Ht(xe.comparator);o=o.insert(a,Qt.newNoDocument(a,De.min()));const c=Ye().add(a),d=new jp(De.min(),new Map,new Ht(Ge),o,c);await j3(r,d),r.du=r.du.remove(a),r.Au.delete(e),RS(r)}else await Hd(r.localStore,e,!1).then((()=>Yd(r,e,n))).catch(bl)}async function HQ(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await aQ(n.localStore,e);OS(n,r,null),PS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zs(n,i)}catch(i){await bl(i)}}async function GQ(t,e,n){const r=Ee(t);try{const i=await(function(o,c){const d=Ee(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((g=>(Re(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);OS(r,e,n),PS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zs(r,i)}catch(i){await bl(i)}}async function WQ(t,e){const n=Ee(t);wl(n.remoteStore)||pe(El,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(o){const c=Ee(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(n.localStore);if(r===Yo)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=wf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function PS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function OS(t,e,n){const r=Ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||D3(t,r)}))}function D3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),RS(t))}function gA(t,e,n){for(const r of n)r instanceof O3?(t.Ru.addReference(r.key,e),YQ(t,r)):r instanceof R3?(pe(El,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||D3(t,r.key)):Se(19791,{wu:r})}function YQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(El,"New document in limbo: "+n),t.Eu.add(r),RS(t))}function RS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(st.fromString(e)),r=t.fu.next();t.Au.set(r,new VQ(n)),t.du=t.du.insert(n,r),bb(t.remoteStore,new Is(Vr(gf(n.path)),r,"TargetPurposeLimboResolution",Gr.ce))}}async function Zs(t,e,n){const r=Ee(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((f=>{var m;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=gS.As(d.targetId,f);a.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,f){const m=Ee(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Q.forEach(f,(v=>Q.forEach(v.Es,(x=>m.persistence.referenceDelegate.addReference(g,v.targetId,x))).next((()=>Q.forEach(v.ds,(x=>m.persistence.referenceDelegate.removeReference(g,v.targetId,x)))))))))}catch(g){if(!xl(g))throw g;pe(yS,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const x=m.Ms.get(v),A=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(v,E)}}})(r.localStore,a))}async function QQ(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){pe(El,"User change. New user:",e.toKey());const r=await f3(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new de(re.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zs(n,r.Ls)}}function XQ(t,e){const n=Ee(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let i=Ye();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}async function ZQ(t,e){const n=Ee(t),r=await Yv(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&gA(n,e.targetId,i.au),i}async function JQ(t,e){const n=Ee(t);return g3(n.localStore,e).then((r=>Zs(n,r)))}async function eX(t,e,n,r){const i=Ee(t),a=await(function(c,d){const f=Ee(c),m=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(g=>m.er(g,d).next((v=>v?f.localDocuments.getDocuments(g,v):Q.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await xf(i.remoteStore):n==="acknowledged"||n==="rejected"?(OS(i,e,r||null),PS(i,e),(function(c,d){Ee(Ee(c).mutationQueue).ir(d)})(i.localStore,e)):Se(6720,"Unknown batchState",{Su:n}),await Zs(i,a)):pe(El,"Cannot apply mutation batch with id: "+e)}async function tX(t,e){const n=Ee(t);if(xb(n),kS(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await uC(n,r.toArray());n.gu=!0,await mA(n.remoteStore,!0);for(const a of i)bb(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then((()=>(Yd(n,o),Hd(n.localStore,o,!0)))),Gd(n.remoteStore,o)})),await i,await uC(n,r),(function(o){const c=Ee(o);c.Au.forEach(((d,f)=>{Gd(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Ht(xe.comparator)})(n),n.gu=!1,await mA(n.remoteStore,!1)}}async function uC(t,e,n){const r=Ee(t),i=[],a=[];for(const o of e){let c;const d=r.Iu.get(o);if(d&&d.length!==0){c=await Kd(r.localStore,Vr(d[0]));for(const f of d){const m=r.Tu.get(f),g=await ZQ(r,m);g.snapshot&&a.push(g.snapshot)}}else{const f=await p3(r.localStore,o);c=await Kd(r.localStore,f),await NS(r,M3(f),o,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(a),i}function M3(t){return vV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nX(t){return(function(n){return Ee(Ee(n).persistence).Ts()})(Ee(t).localStore)}async function rX(t,e,n,r){const i=Ee(t);if(i.gu)return void pe(El,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const o=await g3(i.localStore,xV(a[0])),c=jp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",mn.EMPTY_BYTE_STRING);await Zs(i,o,c);break}case"rejected":await Hd(i.localStore,e,!0),Yd(i,e,r);break;default:Se(64155,n)}}async function iX(t,e,n){const r=xb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(El,"Adding an already active target "+i);continue}const a=await p3(r.localStore,i),o=await Kd(r.localStore,a);await NS(r,M3(a),o.targetId,!1,o.resumeToken),bb(r.remoteStore,o)}for(const i of n)r.Iu.has(i)&&await Hd(r.localStore,i,!1).then((()=>{Gd(r.remoteStore,i),Yd(r,i)})).catch(bl)}}function xb(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KQ.bind(null,e),e.Pu.H_=CQ.bind(null,e.eventManager),e.Pu.yu=jQ.bind(null,e.eventManager),e}function kS(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GQ.bind(null,e),e}function aX(t,e,n){const r=Ee(t);(async function(a,o,c){try{const d=await o.getMetadata();if(await(function(x,A){const E=Ee(x),S=wn(A.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",(P=>E.Ii.getBundleMetadata(P,A.id))).then((P=>!!P&&P.createTime.compareTo(S)>=0))})(a.localStore,d))return await o.close(),c._completeWith((function(x){return{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}})(d)),Promise.resolve(new Set);c._updateProgress(P3(d));const f=new MQ(d,o.serializer);let m=await o.bu();for(;m;){const v=await f.Ga(m);v&&c._updateProgress(v),m=await o.bu()}const g=await f.ja(a.localStore);return await Zs(a,g.Ha,void 0),await(function(x,A){const E=Ee(x);return E.persistence.runTransaction("Save bundle","readwrite",(S=>E.Ii.saveBundleMetadata(S,A)))})(a.localStore,d),c._completeWith(g.progress),Promise.resolve(g.Ja)}catch(d){return Ka(El,`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return d3(this.persistence,new u3,e.initialUser,this.serializer)}Cu(e){return new hS(vb.mi,this.serializer)}Du(e){return new _3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ep.provider={build:()=>new ep};class sX extends ep{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Wv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new hS((r=>Wv.mi(r,n)),this.serializer)}}class L3 extends ep{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await kS(this.xu.syncEngine),await xf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return d3(this.persistence,new u3,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new i3(r,e.asyncQueue,n)}Mu(e,n){const r=new pW(n,this.persistence);return new mW(e.asyncQueue,r)}Cu(e){const n=pS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new mS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,w3(),Tv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new _3}}class oX extends L3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof qw&&(this.sharedClientState.syncEngine={Co:eX.bind(null,n),vo:rX.bind(null,n),Fo:iX.bind(null,n),Ts:nX.bind(null,n),Do:JQ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await tX(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=w3();if(!qw.v(n))throw new de(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QQ.bind(null,this.syncEngine),await mA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kQ})()}createDatastore(e){const n=Mp(e.databaseInfo.databaseId),r=(function(a){return new mQ(a)})(e.databaseInfo);return(function(a,o,c,d){return new vQ(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new xQ(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>cC(this.syncEngine,n,0)),(function(){return nC.v()?new nC:new uQ})())}createSyncEngine(e,n){return(function(i,a,o,c,d,f,m){const g=new BQ(i,a,o,c,d,f);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ee(i);pe(Kc,"RemoteStore shutting down."),a.Ea.add(5),await bf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}tp.provider={build:()=>new tp};function dC(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new gr,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new DQ(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const o=Ee(i),c={documents:a.map((g=>Zm(o.serializer,g)))},d=await o.Ho("BatchGetDocuments",o.serializer.databaseId,st.emptyPath(),c,a.length),f=new Map;d.forEach((g=>{const v=_Y(o.serializer,g);f.set(v.key.toString(),v)}));const m=[];return a.forEach((g=>{const v=f.get(g.toString());Re(!!v,55234,{key:g}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=xe.fromPath(r);this.mutations.push(new rS(i,this.precondition(i)))})),await(async function(r,i){const a=Ee(r),o={writes:i.map((c=>Jm(a.serializer,c)))};await a.Go("Commit",a.serializer.databaseId,st.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Se(50498,{Gu:e.constructor.name});n=De.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new de(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(De.min())?an.exists(!1):an.updateTime(n):an.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(De.min()))throw new de(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new bS(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new cX(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Np(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!CV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class dX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=$T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{pe(ll,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(pe(ll,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await f3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CS(t);pe(ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>iC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>iC(e.remoteStore,i))),t._onlineComponents=e}async function CS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ll,"Using user provided OfflineComponentProvider");try{await Hw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Hw(t,new ep)}}else pe(ll,"Using default OfflineComponentProvider"),await Hw(t,new sX(void 0));return t._offlineComponents}async function wb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ll,"Using user provided OnlineComponentProvider"),await fC(t,t._uninitializedComponentsProvider._online)):(pe(ll,"Using default OnlineComponentProvider"),await fC(t,new tp))),t._onlineComponents}function V3(t){return CS(t).then((e=>e.persistence))}function jS(t){return CS(t).then((e=>e.localStore))}function B3(t){return wb(t).then((e=>e.remoteStore))}function DS(t){return wb(t).then((e=>e.syncEngine))}function fX(t){return wb(t).then((e=>e.datastore))}async function Qd(t){const e=await wb(t),n=e.eventManager;return n.onListen=UQ.bind(null,e.syncEngine),n.onUnlisten=FQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$Q.bind(null,e.syncEngine),n}function hX(t){return t.asyncQueue.enqueue((async()=>{const e=await V3(t),n=await B3(t);return e.setNetworkEnabled(!0),(function(i){const a=Ee(i);return a.Ea.delete(0),Lp(a)})(n)}))}function mX(t){return t.asyncQueue.enqueue((async()=>{const e=await V3(t),n=await B3(t);return e.setNetworkEnabled(!1),(async function(i){const a=Ee(i);a.Ea.add(0),await bf(a),a.Ra.set("Offline")})(n)}))}function pX(t,e){const n=new gr;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,o){try{const c=await(function(f,m){const g=Ee(f);return g.persistence.runTransaction("read document","readonly",(v=>g.localDocuments.getDocument(v,m)))})(i,a);c.isFoundDocument()?o.resolve(c):c.isNoDocument()?o.resolve(null):o.reject(new de(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=wf(c,`Failed to get document '${a} from cache`);o.reject(d)}})(await jS(t),e,n))),n.promise}function U3(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,f){const m=new _b({next:v=>{m.Nu(),o.enqueueAndForget((()=>TS(a,g)));const x=v.docs.has(c);!x&&v.fromCache?f.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&v.fromCache&&d&&d.source==="server"?f.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new IS(gf(c.path),m,{includeMetadataChanges:!0,qa:!0});return AS(a,g)})(await Qd(t),t.asyncQueue,e,n,r))),r.promise}function gX(t,e){const n=new gr;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,o){try{const c=await Yv(i,a,!0),d=new k3(a,c.Qs),f=d.ru(c.documents),m=d.applyChanges(f,!1);o.resolve(m.snapshot)}catch(c){const d=wf(c,`Failed to execute query '${a} against cache`);o.reject(d)}})(await jS(t),e,n))),n.promise}function z3(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,f){const m=new _b({next:v=>{m.Nu(),o.enqueueAndForget((()=>TS(a,g))),v.fromCache&&d.source==="server"?f.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new IS(c,m,{includeMetadataChanges:!0,qa:!0});return AS(a,g)})(await Qd(t),t.asyncQueue,e,n,r))),r.promise}function yX(t,e){const n=new _b(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){Ee(i).Ca.add(a),a.next()})(await Qd(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){Ee(i).Ca.delete(a)})(await Qd(t),n)))}}function vX(t,e,n,r){const i=(function(o,c){let d;return d=typeof o=="string"?DV().encode(o):o,(function(m,g){return new lX(m,g)})((function(m,g){if(m instanceof Uint8Array)return dC(m,g);if(m instanceof ArrayBuffer)return dC(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),c)})(n,Mp(e));t.asyncQueue.enqueueAndForget((async()=>{aX(await DS(t),i,r)}))}function bX(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const a=Ee(r);return a.persistence.runTransaction("Get named query","readonly",(o=>a.Ii.getNamedQuery(o,i)))})(await jS(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="firestore.googleapis.com",mC=!0;class pC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$3,this.ssl=mC}else this.host=e.host,this.ssl=e.ssl??mC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UY)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nW;switch(r.type){case"firstParty":return new sW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hC.get(n);r&&(pe("ComponentProvider","Removing Datastore"),hC.delete(n),r.terminate())})(this),Promise.resolve()}}function q3(t,e,n,r={}){var f;t=bt(t,Vp);const i=cf(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(iL(`https://${c}`),aL("Firestore",!0)),a.host!==$3&&a.host!==c&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!Ds(d,o)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Jn.MOCK_USER;else{m=b$(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jn(v)}t._authCredentials=new rW(new j5(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur=class K3{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new K3(this.firestore,e,this._query)}},Kt=class gm{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gm(this.firestore,e,this._key)}toJSON(){return{type:gm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ip(n,gm._jsonSchema))return new gm(e,r||null,new xe(st.fromString(n.referencePath)))}};Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Rn("string",Kt._jsonSchemaVersion),referencePath:Rn("string")};let Qo=class H3 extends Ur{constructor(e,n,r){super(e,n,gf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new xe(e))}withConverter(e){return new H3(this.firestore,e,this._path)}};function ja(t,e,...n){if(t=Le(t),qT("collection","path",e),t instanceof Vp){const r=st.fromString(e,...n);return rk(r),new Qo(t,null,r)}{if(!(t instanceof Kt||t instanceof Qo))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return rk(r),new Qo(t.firestore,null,r)}}function xX(t,e){if(t=bt(t,Vp),qT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ur(t,null,(function(r){return new Ys(st.emptyPath(),r)})(e))}function Ga(t,e,...n){if(t=Le(t),arguments.length===1&&(e=$T.newId()),qT("doc","path",e),t instanceof Vp){const r=st.fromString(e,...n);return nk(r),new Kt(t,null,new xe(r))}{if(!(t instanceof Kt||t instanceof Qo))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return nk(r),new Kt(t.firestore,t instanceof Qo?t.converter:null,new xe(r))}}function G3(t,e){return t=Le(t),e=Le(e),(t instanceof Kt||t instanceof Qo)&&(e instanceof Kt||e instanceof Qo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function W3(t,e){return t=Le(t),e=Le(e),t instanceof Ur&&e instanceof Ur&&t.firestore===e.firestore&&Rp(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="AsyncQueue";class yC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const r=Tv();r&&pe(gC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;pe(gC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_n("INTERNAL UNHANDLED ERROR: ",vC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ES.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Se(47125,{Pc:vC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class _X{constructor(){this._progressObserver={},this._taskCompletionResolver=new gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=-1;let En=class extends Vp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yC(e),this._firestoreClient=void 0,await e}}};function EX(t,e){const n=typeof t=="object"?t:xT(),r=typeof t=="string"?t:zv,i=bp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=y$("firestore");a&&q3(i,...a)}return i}function Ir(t){if(t._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y3(t),t._firestoreClient}function Y3(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,f,m){return new qW(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,F3(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}function Q3(t,e){Ka("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return X3(t,tp.provider,{build:r=>new L3(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function AX(t){Ka("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();X3(t,tp.provider,{build:n=>new oX(n,e.cacheSizeBytes)})}function X3(t,e,n){if((t=bt(t,En))._firestoreClient||t._terminated)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new de(re.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Y3(t)}function TX(t){if(t._initialized&&!t._terminated)throw new de(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gr;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!La.v())return Promise.resolve();const i=r+c3;await La.delete(i)})(pS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function SX(t){return(function(n){const r=new gr;return n.asyncQueue.enqueueAndForget((async()=>WQ(await DS(n),r))),r.promise})(Ir(t=bt(t,En)))}function IX(t){return hX(Ir(t=bt(t,En)))}function NX(t){return mX(Ir(t=bt(t,En)))}function PX(t,e){const n=Ir(t=bt(t,En)),r=new _X;return vX(n,t._databaseId,e,r),r}function OX(t,e){return bX(Ir(t=bt(t,En)),e).then((n=>n?new Ur(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(mn.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ip(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:Rn("string",Ar._jsonSchemaVersion),bytes:Rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:na._jsonSchemaVersion}}static fromJSON(e){if(Ip(e,na._jsonSchema))return new na(e.latitude,e.longitude)}}na._jsonSchemaVersion="firestore/geoPoint/1.0",na._jsonSchema={type:Rn("string",na._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ba._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ip(e,Ba._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ba(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ba._jsonSchemaVersion="firestore/vectorValue/1.0",Ba._jsonSchema={type:Rn("string",Ba._jsonSchemaVersion),vectorValues:Rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=/^__.*__$/;class kX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class Z3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class Eb{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Eb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(J3(this.Ac)&&RX.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}Cc(e,n,r,i=!1){return new Eb({Ac:e,methodName:n,Dc:r,path:rn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(t){const e=t._freezeSettings(),n=Mp(t._databaseId);return new CX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ab(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);FS("Data must be an object, but it was:",o,r);const c=n6(r,o);let d,f;if(a.merge)d=new Wr(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const v=vA(e,g,n);if(!o.contains(v))throw new de(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);i6(m,v)||m.push(v)}d=new Wr(m),f=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=o.fieldTransforms;return new kX(new mr(c),d,f)}class Bp extends nu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}function e6(t,e,n){return new Eb({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class MS extends nu{_toFieldTransform(e){return new Cp(e.path,new Fd)}isEqual(e){return e instanceof MS}}class LS extends nu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=e6(this,e,!0),r=this.vc.map((a=>iu(a,n))),i=new Uc(r);return new Cp(e.path,i)}isEqual(e){return e instanceof LS&&Ds(this.vc,e.vc)}}class VS extends nu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=e6(this,e,!0),r=this.vc.map((a=>iu(a,n))),i=new zc(r);return new Cp(e.path,i)}isEqual(e){return e instanceof VS&&Ds(this.vc,e.vc)}}class BS extends nu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new $d(e.serializer,SV(e.serializer,this.Fc));return new Cp(e.path,n)}isEqual(e){return e instanceof BS&&this.Fc===e.Fc}}function US(t,e,n,r){const i=t.Cc(1,e,n);FS("Data must be an object, but it was:",i,r);const a=[],o=mr.empty();_l(r,((d,f)=>{const m=$S(e,d,n);f=Le(f);const g=i.yc(m);if(f instanceof Bp)a.push(m);else{const v=iu(f,g);v!=null&&(a.push(m),o.set(m,v))}}));const c=new Wr(a);return new Z3(o,c,i.fieldTransforms)}function zS(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[vA(e,r,n)],d=[i];if(a.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(vA(e,a[v])),d.push(a[v+1]);const f=[],m=mr.empty();for(let v=c.length-1;v>=0;--v)if(!i6(f,c[v])){const x=c[v];let A=d[v];A=Le(A);const E=o.yc(x);if(A instanceof Bp)f.push(x);else{const S=iu(A,E);S!=null&&(f.push(x),m.set(x,S))}}const g=new Wr(f);return new Z3(m,g,o.fieldTransforms)}function t6(t,e,n,r=!1){return iu(n,t.Cc(r?4:3,e))}function iu(t,e){if(r6(t=Le(t)))return FS("Unsupported field value:",e,t),n6(t,e);if(t instanceof nu)return(function(r,i){if(!J3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=iu(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gt.fromDate(r);return{timestampValue:qd(i.serializer,a)}}if(r instanceof gt){const a=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(i.serializer,a)}}if(r instanceof na)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:VV(i.serializer,r._byteString)};if(r instanceof Kt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ba)return(function(o,c){return{mapValue:{fields:{[XT]:{stringValue:ZT},[Bd]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return nS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${sb(r)}`)})(t,e)}function n6(t,e){const n={};return tV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(t,((r,i)=>{const a=iu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function r6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof na||t instanceof Ar||t instanceof Kt||t instanceof nu||t instanceof Ba)}function FS(t,e,n){if(!r6(n)||!L5(n)){const r=sb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vA(t,e,n){if((e=Le(e))instanceof cl)return e._internalPath;if(typeof e=="string")return $S(t,e);throw Jv("Field path arguments must be of type string or ",t,!1,void 0,n)}const jX=new RegExp("[~\\*/\\[\\]]");function $S(t,e,n){if(e.search(jX)>=0)throw Jv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cl(...e.split("."))._internalPath}catch{throw Jv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jv(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new de(re.INVALID_ARGUMENT,c+t+d)}function i6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DX extends np{data(){return super.data()}}function Tb(t,e){return typeof e=="string"?$S(t,e):e instanceof cl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qS{}class Up extends qS{}function ci(t,e,...n){let r=[];e instanceof qS&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof KS)).length,c=a.filter((d=>d instanceof Sb)).length;if(o>1||o>0&&c>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Sb extends Up{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sb(e,n,r)}_apply(e){const n=this._parse(e);return o6(e._query,n),new Ur(e.firestore,e.converter,iA(e._query,n))}_parse(e){const n=ru(e.firestore);return(function(a,o,c,d,f,m,g){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){xC(g,m);const A=[];for(const E of g)A.push(bC(d,a,E));v={arrayValue:{values:A}}}else v=bC(d,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||xC(g,m),v=t6(c,o,g,m==="in"||m==="not-in");return ot.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zp(t,e,n){const r=e,i=Tb("where",t);return Sb._create(i,r,n)}class KS extends qS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new KS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Pt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)o6(o,d),o=iA(o,d)})(e._query,n),new Ur(e.firestore,e.converter,iA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HS extends Up{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HS(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xm(a,o)})(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Ys(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ib(t,e="asc"){const n=e,r=Tb("orderBy",t);return HS._create(r,n)}class Nb extends Up{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nb(e,n,r)}_apply(e){return new Ur(e.firestore,e.converter,qv(e._query,this._limit,this._limitType))}}function MX(t){return V5("limit",t),Nb._create("limit",t,"F")}function LX(t){return V5("limitToLast",t),Nb._create("limitToLast",t,"L")}class Pb extends Up{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Pb(e,n,r)}_apply(e){const n=s6(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,(function(i,a){return new Ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function VX(...t){return Pb._create("startAt",t,!0)}function BX(...t){return Pb._create("startAfter",t,!1)}class Ob extends Up{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ob(e,n,r)}_apply(e){const n=s6(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,(function(i,a){return new Ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function UX(...t){return Ob._create("endBefore",t,!1)}function zX(...t){return Ob._create("endAt",t,!0)}function s6(t,e,n,r){if(n[0]=Le(n[0]),n[0]instanceof np)return(function(a,o,c,d,f){if(!d)throw new de(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const g of Ed(a))if(g.field.isKeyField())m.push(Vc(o,d.key));else{const v=d.data.field(g.field);if(db(v))throw new de(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const x=g.field.canonicalString();throw new de(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}m.push(v)}return new sl(m,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ru(t.firestore);return(function(o,c,d,f,m,g){const v=o.explicitOrderBy;if(m.length>v.length)throw new de(re.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let A=0;A<m.length;A++){const E=m[A];if(v[A].field.isKeyField()){if(typeof E!="string")throw new de(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof E}`);if(!eS(o)&&E.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${E}' contains a slash.`);const S=o.path.child(st.fromString(E));if(!xe.isDocumentKey(S))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const P=new xe(S);x.push(Vc(c,P))}else{const S=t6(d,f,E);x.push(S)}}return new sl(x,g)})(t._query,t.firestore._databaseId,i,e,n,r)}}function bC(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&n.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!xe.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vc(t,new xe(r))}if(n instanceof Kt)return Vc(t,n._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sb(n)}.`)}function xC(t,e){if(!Array.isArray(t)||t.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o6(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GS{convertValue(e,n="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _l(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Bd].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>en(o.doubleValue)));return new Ba(n)}convertGeoPoint(e){return new na(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wm(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Re(YV(r),9688,{name:e});const i=new rl(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||_n(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class FX extends GS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Vi=class l6 extends np{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=l6._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:Rn("string",Vi._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};let Cm=class extends Vi{data(e={}){return super.data(e)}},ra=class c6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ec(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Cm(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new Cm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ec(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Cm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ec(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:$X(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=c6._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$T.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function $X(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function u6(t,e){return t instanceof Vi&&e instanceof Vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ra&&e instanceof ra&&t._firestore===e._firestore&&W3(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t){t=bt(t,Kt);const e=bt(t.firestore,En);return U3(Ir(e),t._key).then((n=>WS(e,t,n)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Rn("string",ra._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class au extends GS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function KX(t){t=bt(t,Kt);const e=bt(t.firestore,En),n=Ir(e),r=new au(e);return pX(n,t._key).then((i=>new Vi(e,r,t._key,i,new Ec(i!==null&&i.hasLocalMutations,!0),t.converter)))}function HX(t){t=bt(t,Kt);const e=bt(t.firestore,En);return U3(Ir(e),t._key,{source:"server"}).then((n=>WS(e,t,n)))}function GX(t){t=bt(t,Ur);const e=bt(t.firestore,En),n=Ir(e),r=new au(e);return a6(t._query),z3(n,t._query).then((i=>new ra(e,r,t,i)))}function WX(t){t=bt(t,Ur);const e=bt(t.firestore,En),n=Ir(e),r=new au(e);return gX(n,t._query).then((i=>new ra(e,r,t,i)))}function YX(t){t=bt(t,Ur);const e=bt(t.firestore,En),n=Ir(e),r=new au(e);return z3(n,t._query,{source:"server"}).then((i=>new ra(e,r,t,i)))}function _C(t,e,n){t=bt(t,Kt);const r=bt(t.firestore,En),i=Rb(t.converter,e,n);return Fp(r,[Ab(ru(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,an.none())])}function rp(t,e,n,...r){t=bt(t,Kt);const i=bt(t.firestore,En),a=ru(i);let o;return o=typeof(e=Le(e))=="string"||e instanceof cl?zS(a,"updateDoc",t._key,e,n,r):US(a,"updateDoc",t._key,e),Fp(i,[o.toMutation(t._key,an.exists(!0))])}function kb(t){return Fp(bt(t.firestore,En),[new vf(t._key,an.none())])}function e0(t,e){const n=bt(t.firestore,En),r=Ga(t),i=Rb(t.converter,e);return Fp(n,[Ab(ru(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function Hc(t,...e){var d,f,m;t=Le(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yA(e[r])){const g=e[r];e[r]=(d=g.next)==null?void 0:d.bind(g),e[r+1]=(f=g.error)==null?void 0:f.bind(g),e[r+2]=(m=g.complete)==null?void 0:m.bind(g)}let a,o,c;if(t instanceof Kt)o=bt(t.firestore,En),c=gf(t._key.path),a={next:g=>{e[r]&&e[r](WS(o,t,g))},error:e[r+1],complete:e[r+2]};else{const g=bt(t,Ur);o=bt(g.firestore,En),c=g._query;const v=new au(o);a={next:x=>{e[r]&&e[r](new ra(o,v,g,x))},error:e[r+1],complete:e[r+2]},a6(t._query)}return(function(v,x,A,E){const S=new _b(E),P=new IS(x,S,A);return v.asyncQueue.enqueueAndForget((async()=>AS(await Qd(v),P))),()=>{S.Nu(),v.asyncQueue.enqueueAndForget((async()=>TS(await Qd(v),P)))}})(Ir(o),c,i,a)}function QX(t,e){return yX(Ir(t=bt(t,En)),yA(e)?e:{next:e})}function Fp(t,e){return(function(r,i){const a=new gr;return r.asyncQueue.enqueueAndForget((async()=>qQ(await DS(r),i,a))),a.promise})(Ir(t),e)}function WS(t,e,n){const r=n.docs.get(e._key),i=new au(t);return new Vi(t,i,e._key,r,new Ec(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZX=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ru(e)}set(e,n,r){this._verifyNotCommitted();const i=Ko(e,this._firestore),a=Rb(i.converter,n,r),o=Ab(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,an.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Ko(e,this._firestore);let o;return o=typeof(n=Le(n))=="string"||n instanceof cl?zS(this._dataReader,"WriteBatch.update",a._key,n,r,i):US(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,an.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ko(e,this._firestore);return this._mutations=this._mutations.concat(new vf(n._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ko(t,e){if((t=Le(t)).firestore!==e)throw new de(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ru(e)}get(e){const n=Ko(e,this._firestore),r=new FX(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Se(24041);const a=i[0];if(a.isFoundDocument())return new np(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new np(this._firestore,r,n._key,null,n.converter);throw Se(18433,{doc:a})}))}set(e,n,r){const i=Ko(e,this._firestore),a=Rb(i.converter,n,r),o=Ab(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const a=Ko(e,this._firestore);let o;return o=typeof(n=Le(n))=="string"||n instanceof cl?zS(this._dataReader,"Transaction.update",a._key,n,r,i):US(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(e){const n=Ko(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eZ=class extends JX{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ko(e,this._firestore),r=new au(this._firestore);return super.get(e).then((i=>new Vi(this._firestore,r,n._key,i._document,new Ec(!1,!1),n.converter)))}};function tZ(t,e,n){t=bt(t,En);const r={...XX,...n};return(function(a){if(a.maxAttempts<1)throw new de(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,o,c){const d=new gr;return a.asyncQueue.enqueueAndForget((async()=>{const f=await fX(a);new uX(a.asyncQueue,f,c,o,d).ju()})),d.promise})(Ir(t),(i=>e(new eZ(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(){return new Bp("deleteField")}function rZ(){return new MS("serverTimestamp")}function iZ(...t){return new LS("arrayUnion",t)}function aZ(...t){return new VS("arrayRemove",t)}function sZ(t){return new BS("increment",t)}(function(e,n=!0){(function(i){pf=i})(yl),el(new $a("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new En(new iW(r.getProvider("auth-internal")),new oW(o,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(f.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ta(ZR,JR,e),ta(ZR,JR,"esm2020")})();const oZ="@firebase/firestore-compat",lZ="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function EC(){if(!FW())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let d6=class bA{constructor(e){this._delegate=e}static fromBase64String(e){return EC(),new bA(Ar.fromBase64String(e))}static fromUint8Array(e){return wC(),new bA(Ar.fromUint8Array(e))}toBase64(){return EC(),this._delegate.toBase64()}toUint8Array(){return wC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){return cZ(t,["next","error","complete"])}function cZ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{enableIndexedDbPersistence(e,n){return Q3(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return AX(e._delegate)}clearIndexedDbPersistence(e){return TX(e._delegate)}}class f6{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof rl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){q3(this._delegate,e,n,r)}enableNetwork(){return IX(this._delegate)}disableNetwork(){return NX(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,M5("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return SX(this._delegate)}onSnapshotsInSync(e){return QX(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xd(this,ja(this._delegate,e))}catch(n){throw Cr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Mi(this,Ga(this._delegate,e))}catch(n){throw Cr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new kr(this,xX(this._delegate,e))}catch(n){throw Cr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return tZ(this._delegate,n=>e(new h6(this,n)))}batch(){return Ir(this._delegate),new m6(new ZX(this._delegate,e=>Fp(this._delegate,e)))}loadBundle(e){return PX(this._delegate,e)}namedQuery(e){return OX(this._delegate,e).then(n=>n?new kr(this,n):null)}}class Cb extends GS{constructor(e){super(),this.firestore=e}convertBytes(e){return new d6(new Ar(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Mi.forKey(n,this.firestore,null)}}function dZ(t){eW(t)}class h6{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Cb(e)}get(e){const n=Ac(e);return this._delegate.get(n).then(r=>new ip(this._firestore,new Vi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ac(e);return r?(YS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Ac(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Ac(e);return this._delegate.delete(n),this}}class m6{constructor(e){this._delegate=e}set(e,n,r){const i=Ac(e);return r?(YS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Ac(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Ac(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Gc{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Cm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ap(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Gc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new Gc(e,new Cb(e),n),i.set(n,a)),a}}Gc.INSTANCES=new WeakMap;class Mi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Cb(e)}static forPath(e,n,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Mi(n,new Kt(n._delegate,r,new xe(e)))}static forKey(e,n,r){return new Mi(n,new Kt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Xd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xd(this.firestore,ja(this._delegate,e))}catch(n){throw Cr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Le(e),e instanceof Kt?G3(this._delegate,e):!1}set(e,n){n=YS("DocumentReference.set",n);try{return n?_C(this._delegate,e,n):_C(this._delegate,e)}catch(r){throw Cr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?rp(this._delegate,e):rp(this._delegate,e,n,...r)}catch(i){throw Cr(i,"updateDoc()","DocumentReference.update()")}}delete(){return kb(this._delegate)}onSnapshot(...e){const n=p6(e),r=g6(e,i=>new ip(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Hc(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=KX(this._delegate):(e==null?void 0:e.source)==="server"?n=HX(this._delegate):n=qX(this._delegate),n.then(r=>new ip(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Mi(this.firestore,e?this._delegate.withConverter(Gc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Cr(t,e,n){return t.message=t.message.replace(e,n),t}function p6(t){for(const e of t)if(typeof e=="object"&&!xA(e))return e;return{}}function g6(t,e){var r,i;let n;return xA(t[0])?n=t[0]:xA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class ip{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Mi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return u6(this._delegate,e._delegate)}}class ap extends ip{data(e){const n=this._delegate.data(e);return this._delegate._converter||tW(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class kr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Cb(e)}where(e,n,r){try{return new kr(this.firestore,ci(this._delegate,zp(e,n,r)))}catch(i){throw Cr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new kr(this.firestore,ci(this._delegate,Ib(e,n)))}catch(r){throw Cr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new kr(this.firestore,ci(this._delegate,MX(e)))}catch(n){throw Cr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new kr(this.firestore,ci(this._delegate,LX(e)))}catch(n){throw Cr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new kr(this.firestore,ci(this._delegate,VX(...e)))}catch(n){throw Cr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new kr(this.firestore,ci(this._delegate,BX(...e)))}catch(n){throw Cr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new kr(this.firestore,ci(this._delegate,UX(...e)))}catch(n){throw Cr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new kr(this.firestore,ci(this._delegate,zX(...e)))}catch(n){throw Cr(n,"endAt()","Query.endAt()")}}isEqual(e){return W3(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=WX(this._delegate):(e==null?void 0:e.source)==="server"?n=YX(this._delegate):n=GX(this._delegate),n.then(r=>new _A(this.firestore,new ra(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=p6(e),r=g6(e,i=>new _A(this.firestore,new ra(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Hc(this._delegate,n,r)}withConverter(e){return new kr(this.firestore,e?this._delegate.withConverter(Gc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class fZ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ap(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _A{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new kr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ap(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new fZ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ap(this._firestore,r))})}isEqual(e){return u6(this._delegate,e._delegate)}}class Xd extends kr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mi(this.firestore,e):null}doc(e){try{return e===void 0?new Mi(this.firestore,Ga(this._delegate)):new Mi(this.firestore,Ga(this._delegate,e))}catch(n){throw Cr(n,"doc()","CollectionReference.doc()")}}add(e){return e0(this._delegate,e).then(n=>new Mi(this.firestore,n))}isEqual(e){return G3(this._delegate,e._delegate)}withConverter(e){return new Xd(this.firestore,e?this._delegate.withConverter(Gc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ac(t){return bt(t,Kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(...e){this._delegate=new cl(...e)}static documentId(){return new QS(rn.keyField().canonicalString())}isEqual(e){return e=Le(e),e instanceof cl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static serverTimestamp(){const e=rZ();return e._methodName="FieldValue.serverTimestamp",new xc(e)}static delete(){const e=nZ();return e._methodName="FieldValue.delete",new xc(e)}static arrayUnion(...e){const n=iZ(...e);return n._methodName="FieldValue.arrayUnion",new xc(n)}static arrayRemove(...e){const n=aZ(...e);return n._methodName="FieldValue.arrayRemove",new xc(n)}static increment(e){const n=sZ(e);return n._methodName="FieldValue.increment",new xc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ={Firestore:f6,GeoPoint:na,Timestamp:gt,Blob:d6,Transaction:h6,WriteBatch:m6,DocumentReference:Mi,DocumentSnapshot:ip,Query:kr,QueryDocumentSnapshot:ap,QuerySnapshot:_A,CollectionReference:Xd,FieldPath:QS,FieldValue:xc,setLogLevel:dZ,CACHE_SIZE_UNLIMITED:wX};function mZ(t,e){t.INTERNAL.registerComponent(new $a("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...hZ}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t){mZ(t,(e,n)=>new f6(e,n,new uZ)),t.registerVersion(oZ,lZ)}pZ(mf);const gZ={apiKey:"AIzaSyCCk4Fh0jD3rudewpH-uPi1JR8-Nv9EzsQ",authDomain:"ideogrenci-b4ab8.firebaseapp.com",projectId:"ideogrenci-b4ab8",storageBucket:"ideogrenci-b4ab8.firebasestorage.app",messagingSenderId:"199114652020",appId:"1:199114652020:web:5c454c00cfdb9094d2d421"},y6=mf.initializeApp(gZ),Br=tG(y6),jr=EX(y6);Q3(jr).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser.")});const $p=()=>p.jsxs("svg",{className:"animate-spin h-5 w-5 text-currentColor",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),yZ="/assets/idelogo-BBsGCnRP.png",XS=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),vZ=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),AC=({type:t,message:e})=>{const n=t==="error",r={bgColor:n?"bg-red-100":"bg-green-100",borderColor:n?"border-red-400":"border-green-400",textColor:n?"text-red-700":"text-green-700",icon:n?p.jsx(XS,{className:"h-5 w-5"}):p.jsx(vZ,{className:"h-5 w-5"})};return e?p.jsx("div",{className:`${r.bgColor} border-l-4 ${r.borderColor} p-4 mb-4 rounded-md`,role:"alert",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"py-1",children:r.icon}),p.jsx("div",{className:"ml-3",children:p.jsx("p",{className:`text-sm ${r.textColor}`,children:e})})]})}):null},bZ=()=>{const[t,e]=w.useState("login"),[n,r]=w.useState(""),[i,a]=w.useState(""),[o,c]=w.useState(null),[d,f]=w.useState(null),[m,g]=w.useState(!1),[v,x]=w.useState(!1),[A,E]=w.useState(!1),S=M=>{let C=M.target.value;if(C.endsWith("@"))C=C+"ide.k12.tr";else{const V=C.indexOf("@");if(V>=0){const I=C.slice(0,V);C.slice(V+1).length===0&&(C=`${I}@ide.k12.tr`)}}r(C)},P=async M=>{M.preventDefault(),c(null),f(null),g(!0);const C=n.trim().toLowerCase();if(t!=="reset"&&(C.split("@")[1]||"")!=="ide.k12.tr"){c('Giriş için e-posta adresiniz "ide.k12.tr" uzantılı olmalıdır.'),g(!1);return}if(t!=="reset"&&i.length<6){c("Şifreniz en az 6 karakter olmalıdır."),g(!1);return}try{if(t==="register"){const V=await e5(Br,C,i);if(V.user)try{await RT(V.user),f("Doğrulama e-postası gönderildi. Lütfen gelen kutunuzu kontrol edin.")}catch{}}else t==="login"?await t5(Br,C,i):t==="reset"&&(await ZL(Br,C),f("Parola sıfırlama e-postası gönderildi. Lütfen gelen kutunuzu kontrol edin."),e("login"))}catch(V){const I=V;switch(console.error("Firebase Auth Error:",I.code),I.code){case"auth/invalid-email":c("Geçersiz bir e-posta adresi girdiniz.");break;case"auth/user-not-found":c("Bu e-posta adresi ile kayıtlı bir kullanıcı bulunamadı.");break;case"auth/wrong-password":case"auth/invalid-credential":c("E-posta adresiniz veya şifreniz hatalı. Lütfen tekrar deneyin.");break;case"auth/email-already-in-use":c("Bu e-posta adresi zaten başka bir hesap tarafından kullanılıyor.");break;case"auth/too-many-requests":c("Çok fazla deneme yapıldı. Lütfen daha sonra tekrar deneyin.");break;default:c("Bir hata oluştu. Lütfen bilgilerinizi kontrol edip tekrar deneyin.")}}finally{g(!1)}},O=(M,C)=>{M.preventDefault(),c(null),f(null),a(""),e(C)},j=()=>t==="login"?"Hesabınıza giriş yapın":t==="register"?"Hesap oluşturun":"Parolanızı Sıfırlayın";return p.jsx("div",{className:"relative flex flex-col items-center justify-center min-h-screen bg-gray-100 font-sans p-4",children:p.jsx("div",{className:"w-full max-w-sm",children:p.jsx("div",{className:"bg-white shadow-xl rounded-lg",children:p.jsxs("div",{className:"p-10",children:[p.jsx("div",{className:"mb-6 flex flex-col items-center justify-center gap-3",children:p.jsx("img",{src:yZ,alt:"ide okulları",className:"h-16 w-auto"})}),p.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:j()}),t==="login"&&p.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Veya"," ",p.jsx("a",{href:"#",onClick:M=>O(M,"register"),className:"text-green-700 hover:underline font-semibold",children:"yeni bir hesap oluşturun"})]}),p.jsxs("form",{onSubmit:P,className:"mt-6",children:[p.jsx(AC,{type:"error",message:o||""}),p.jsx(AC,{type:"success",message:d||""}),p.jsxs("div",{className:"mb-4 relative",children:[p.jsx("input",{id:"email",type:"email",value:n,onChange:S,placeholder:t==="login"?"E-posta adresi":"E-posta",className:"w-full pr-9 px-3 py-2 text-base text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 transition-colors",required:!0}),n&&p.jsx("button",{type:"button",onClick:()=>r(""),"aria-label":"E-postayı temizle",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Temizle",children:"×"})]}),t!=="reset"&&p.jsxs("div",{className:"mb-6 relative",children:[p.jsx("input",{id:"password",type:A?"text":"password",value:i,onChange:M=>a(M.target.value),placeholder:t==="login"?"Şifre":"Parola",className:"w-full pr-16 px-3 py-2 text-base text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 transition-colors",required:!0}),p.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[!!i&&p.jsx("button",{type:"button",onClick:()=>a(""),"aria-label":"Parolayı temizle",title:"Temizle",className:"text-gray-500 hover:text-gray-700",children:"×"}),p.jsx("button",{type:"button",onClick:()=>E(M=>!M),"aria-label":A?"Parolayı gizle":"Parolayı göster",title:A?"Gizle":"Göster",className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:A?"Gizle":"Göster"})]})]}),t==="login"&&p.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm",children:[p.jsxs("label",{className:"inline-flex items-center gap-2 text-gray-700",children:[p.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-green-700 focus:ring-green-600",checked:v,onChange:M=>x(M.target.checked)}),"Beni hatırla"]}),p.jsx("a",{href:"#",onClick:M=>O(M,"reset"),className:"text-green-700 hover:underline font-semibold",children:"Şifrenizi mi unuttunuz?"})]}),p.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[t==="login"&&p.jsx(p.Fragment,{children:p.jsx("span",{className:"hidden",children:"Hesabınız yok mu?"})}),t==="register"&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Zaten bir hesabınız var mı? "}),p.jsx("a",{href:"#",onClick:M=>O(M,"login"),className:"text-green-700 hover:underline font-semibold",children:"Oturum açın."})]}),t==="reset"&&p.jsx("a",{href:"#",onClick:M=>O(M,"login"),className:"text-gray-500 hover:underline font-semibold",children:"Giriş ekranına geri dön"})]}),p.jsx("div",{className:"flex justify-center mt-6",children:p.jsx("button",{type:"submit",disabled:m,className:"bg-green-700 hover:bg-green-800 text-white font-semibold py-2.5 px-10 rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-200 disabled:bg-green-400 flex items-center justify-center min-w-[120px] h-11",children:m?p.jsx($p,{}):t==="login"?"Giriş Yap":t==="register"?"Kayıt Ol":"Sıfırlama Linki Gönder"})})]})]})})})})};function v6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=v6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=v6(t))&&(r&&(r+=" "),r+=e);return r}var Gw={},Ww={},TC;function xZ(){return TC||(TC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ww)),Ww}var Yw={},SC;function b6(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Yw)),Yw}var Qw={},IC;function x6(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Qw)),Qw}var Xw={},NC;function ZS(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",c="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];c?f==="\\"&&a+1<i?(a++,o+=n[a]):f===c?c="":o+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,r.push(o),o=""):o+=f:f==="["?(d=!0,o&&(r.push(o),o="")):f==="."?o&&(r.push(o),o=""):o+=f,a++}return o&&r.push(o),r}t.toPath=e})(Xw)),Xw}var PC;function JS(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xZ(),n=b6(),r=x6(),i=ZS();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return o(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function o(c,d,f){if(d.length===0)return f;let m=c;for(let g=0;g<d.length;g++){if(m==null||e.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}t.get=a})(Gw)),Gw}var Zw,OC;function _Z(){return OC||(OC=1,Zw=JS().get),Zw}var wZ=_Z();const Wc=Fi(wZ);var Jw={exports:{}},Mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function EZ(){if(RC)return Mt;RC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case v:return E;default:switch(E=E&&E.$$typeof,E){case o:case c:case g:case m:return E;case a:return E;default:return S}}case e:return S}}}return Mt.ContextConsumer=a,Mt.ContextProvider=o,Mt.Element=t,Mt.ForwardRef=c,Mt.Fragment=n,Mt.Lazy=g,Mt.Memo=m,Mt.Portal=e,Mt.Profiler=i,Mt.StrictMode=r,Mt.Suspense=d,Mt.SuspenseList=f,Mt.isContextConsumer=function(E){return A(E)===a},Mt.isContextProvider=function(E){return A(E)===o},Mt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Mt.isForwardRef=function(E){return A(E)===c},Mt.isFragment=function(E){return A(E)===n},Mt.isLazy=function(E){return A(E)===g},Mt.isMemo=function(E){return A(E)===m},Mt.isPortal=function(E){return A(E)===e},Mt.isProfiler=function(E){return A(E)===i},Mt.isStrictMode=function(E){return A(E)===r},Mt.isSuspense=function(E){return A(E)===d},Mt.isSuspenseList=function(E){return A(E)===f},Mt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===o||E.$$typeof===a||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},Mt.typeOf=A,Mt}var kC;function AZ(){return kC||(kC=1,Jw.exports=EZ()),Jw.exports}var TZ=AZ(),er=t=>t===0?0:t>0?1:-1,Xr=t=>typeof t=="number"&&t!=+t,Tc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ke=t=>(typeof t=="number"||t instanceof Number)&&!Xr(t),Wa=t=>ke(t)||typeof t=="string",SZ=0,sp=t=>{var e=++SZ;return"".concat(t||"").concat(e)},Sr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&typeof e!="string")return r;var a;if(Tc(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Xr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},_6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function vt(t,e,n){return ke(t)&&ke(e)?t+n*(e-t):e}function w6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Wc(r,e))===n)}var Ut=t=>t===null||typeof t>"u",qp=t=>Ut(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),IZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function eI(t){if(typeof t!="string")return!1;var e=IZ;return e.includes(t)}var NZ=["viewBox","children"],CC=["points","pathLength"],e1={svg:NZ,polygon:CC,polyline:CC},tI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{eI(i)&&(r[i]=(a=>n[i](n,a)))}),r},PZ=(t,e,n)=>r=>(t(e,n,r),null),Ef=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];eI(i)&&typeof a=="function"&&(r||(r={}),r[i]=PZ(a,e,n))}),r},OZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function E6(t){if(typeof t!="string")return!1;var e=OZ;return e.includes(t)}function Cn(t){var e=Object.entries(t).filter(n=>{var[r]=n;return E6(r)});return Object.fromEntries(e)}var jC=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",DC=null,t1=null,A6=t=>{if(t===DC&&Array.isArray(t1))return t1;var e=[];return w.Children.forEach(t,n=>{Ut(n)||(TZ.isFragment(n)?e=e.concat(A6(n.props.children)):e.push(n))}),t1=e,DC=t,e};function nI(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>jC(i)):r=[jC(e)],A6(t).forEach(i=>{var a=Wc(i,"type.displayName")||Wc(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var jb=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,RZ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&(e1==null?void 0:e1[r]))!==null&&i!==void 0?i:[],o=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&a.includes(e)||E6(e)),d=!!n&&eI(e);return o||c||d},lt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;RZ((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},kZ=["children","width","height","viewBox","className","style","title","desc"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wA.apply(null,arguments)}function CZ(t,e){if(t==null)return{};var n,r,i=jZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T6=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:d,desc:f}=t,m=CZ(t,kZ),g=a||{width:r,height:i,x:0,y:0},v=Qe("recharts-surface",o);return w.createElement("svg",wA({},lt(m,!0,"svg"),{className:v,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,f),n)}),DZ=["children","className"];function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(null,arguments)}function MZ(t,e){if(t==null)return{};var n,r,i=LZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Et=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=MZ(t,DZ),a=Qe("recharts-layer",r);return w.createElement("g",EA({className:a},lt(i,!0),{ref:e}),n)}),VZ=J4(),BZ=w.createContext(null);function qt(t){return function(){return t}}const S6=Math.cos,t0=Math.sin,aa=Math.sqrt,n0=Math.PI,Db=2*n0,AA=Math.PI,TA=2*AA,hc=1e-6,UZ=TA-hc;function I6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return I6;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class FZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?I6:zZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=r-e,f=i-n,m=o-e,g=c-n,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>hc)if(!(Math.abs(g*d-f*m)>hc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,A=i-c,E=d*d+f*f,S=x*x+A*A,P=Math.sqrt(E),O=Math.sqrt(v),j=a*Math.tan((AA-Math.acos((E+v-S)/(2*P*O)))/2),M=j/O,C=j/P;Math.abs(M-1)>hc&&this._append`L${e+M*m},${n+M*g}`,this._append`A${a},${a},0,0,${+(g*x>m*A)},${this._x1=e+C*d},${this._y1=n+C*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,g=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>hc||Math.abs(this._y1-m)>hc)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%TA+TA),v>UZ?this._append`A${r},${r},0,1,${g},${e-c},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:v>hc&&this._append`A${r},${r},0,${+(v>=AA)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new FZ(e)}function iI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N6(t){this._context=t}N6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Mb(t){return new N6(t)}function P6(t){return t[0]}function O6(t){return t[1]}function R6(t,e){var n=qt(!0),r=null,i=Mb,a=null,o=rI(c);t=typeof t=="function"?t:t===void 0?P6:qt(t),e=typeof e=="function"?e:e===void 0?O6:qt(e);function c(d){var f,m=(d=iI(d)).length,g,v=!1,x;for(r==null&&(a=i(x=o())),f=0;f<=m;++f)!(f<m&&n(g=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,f,d),+e(g,f,d));if(x)return a=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:qt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:qt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:qt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Ky(t,e,n){var r=null,i=qt(!0),a=null,o=Mb,c=null,d=rI(f);t=typeof t=="function"?t:t===void 0?P6:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?O6:qt(+n);function f(g){var v,x,A,E=(g=iI(g)).length,S,P=!1,O,j=new Array(E),M=new Array(E);for(a==null&&(c=o(O=d())),v=0;v<=E;++v){if(!(v<E&&i(S=g[v],v,g))===P)if(P=!P)x=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=v-1;A>=x;--A)c.point(j[A],M[A]);c.lineEnd(),c.areaEnd()}P&&(j[v]=+t(S,v,g),M[v]=+e(S,v,g),c.point(r?+r(S,v,g):j[v],n?+n(S,v,g):M[v]))}if(O)return c=null,O+""||null}function m(){return R6().defined(i).curve(o).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:qt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:qt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:qt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:qt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:qt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:qt(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:qt(!!g),f):i},f.curve=function(g){return arguments.length?(o=g,a!=null&&(c=o(a)),f):o},f.context=function(g){return arguments.length?(g==null?a=c=null:c=o(a=g),f):a},f}class k6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function $Z(t){return new k6(t,!0)}function qZ(t){return new k6(t,!1)}const aI={draw(t,e){const n=aa(e/n0);t.moveTo(n,0),t.arc(0,0,n,0,Db)}},KZ={draw(t,e){const n=aa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},C6=aa(1/3),HZ=C6*2,GZ={draw(t,e){const n=aa(e/HZ),r=n*C6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WZ={draw(t,e){const n=aa(e),r=-n/2;t.rect(r,r,n,n)}},YZ=.8908130915292852,j6=t0(n0/10)/t0(7*n0/10),QZ=t0(Db/10)*j6,XZ=-S6(Db/10)*j6,ZZ={draw(t,e){const n=aa(e*YZ),r=QZ*n,i=XZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Db*a/5,c=S6(o),d=t0(o);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},n1=aa(3),JZ={draw(t,e){const n=-aa(e/(n1*3));t.moveTo(0,n*2),t.lineTo(-n1*n,-n),t.lineTo(n1*n,-n),t.closePath()}},ki=-.5,Ci=aa(3)/2,SA=1/aa(12),eJ=(SA/2+1)*3,tJ={draw(t,e){const n=aa(e/eJ),r=n/2,i=n*SA,a=r,o=n*SA+n,c=-a,d=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,d),t.lineTo(ki*r-Ci*i,Ci*r+ki*i),t.lineTo(ki*a-Ci*o,Ci*a+ki*o),t.lineTo(ki*c-Ci*d,Ci*c+ki*d),t.lineTo(ki*r+Ci*i,ki*i-Ci*r),t.lineTo(ki*a+Ci*o,ki*o-Ci*a),t.lineTo(ki*c+Ci*d,ki*d-Ci*c),t.closePath()}};function nJ(t,e){let n=null,r=rI(i);t=typeof t=="function"?t:qt(t||aI),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function r0(){}function i0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function D6(t){this._context=t}D6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rJ(t){return new D6(t)}function M6(t){this._context=t}M6.prototype={areaStart:r0,areaEnd:r0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:i0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iJ(t){return new M6(t)}function L6(t){this._context=t}L6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:i0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aJ(t){return new L6(t)}function V6(t){this._context=t}V6.prototype={areaStart:r0,areaEnd:r0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sJ(t){return new V6(t)}function MC(t){return t<0?-1:1}function LC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(MC(a)+MC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function VC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function r1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function a0(t){this._context=t}a0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r1(this,this._t0,VC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,r1(this,VC(this,n=LC(this,t,e)),n);break;default:r1(this,this._t0,n=LC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function B6(t){this._context=new U6(t)}(B6.prototype=Object.create(a0.prototype)).point=function(t,e){a0.prototype.point.call(this,e,t)};function U6(t){this._context=t}U6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function oJ(t){return new a0(t)}function lJ(t){return new B6(t)}function z6(t){this._context=t}z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=BC(t),i=BC(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function BC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function cJ(t){return new z6(t)}function Lb(t,e){this._context=t,this._t=e}Lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function uJ(t){return new Lb(t,.5)}function dJ(t){return new Lb(t,0)}function fJ(t){return new Lb(t,1)}function Zd(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function IA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hJ(t,e){return t[e]}function mJ(t){const e=[];return e.key=t,e}function pJ(){var t=qt([]),e=IA,n=Zd,r=hJ;function i(a){var o=Array.from(t.apply(this,arguments),mJ),c,d=o.length,f=-1,m;for(const g of a)for(c=0,++f;c<d;++c)(o[c][f]=[0,+r(g,o[c].key,f,a)]).data=g;for(c=0,m=iI(e(o));c<d;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?IA:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Zd,i):n},i}function gJ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Zd(t,e)}}function yJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Zd(t,e)}}function vJ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,d=0,f=0;c<o;++c){for(var m=t[e[c]],g=m[r][1]||0,v=m[r-1][1]||0,x=(g-v)/2,A=0;A<c;++A){var E=t[e[A]],S=E[r][1]||0,P=E[r-1][1]||0;x+=S-P}d+=g,f+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Zd(t,e)}}var bJ=["type","size","sizeType"];function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NA.apply(null,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return(e=_J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=wJ(t,"string");return typeof e=="symbol"?e:e+""}function wJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EJ(t,e){if(t==null)return{};var n,r,i=AJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F6={symbolCircle:aI,symbolCross:KZ,symbolDiamond:GZ,symbolSquare:WZ,symbolStar:ZZ,symbolTriangle:JZ,symbolWye:tJ},TJ=Math.PI/180,SJ=t=>{var e="symbol".concat(qp(t));return F6[e]||aI},IJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*TJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},NJ=(t,e)=>{F6["symbol".concat(qp(t))]=e},$6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=EJ(t,bJ),a=zC(zC({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var v=SJ(o),x=nJ().type(v).size(IJ(n,r,o));return x()},{className:d,cx:f,cy:m}=a,g=lt(a,!0);return f===+f&&m===+m&&n===+n?w.createElement("path",NA({},g,{className:Qe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};$6.registerSymbol=NJ;var i1={},a1={},FC;function PJ(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}t.uniqBy=e})(a1)),a1}var s1={},$C;function Vb(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(s1)),s1}var o1={},l1={},c1={},qC;function OJ(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(c1)),c1}var KC;function sI(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(l1)),l1}var u1={},HC;function RJ(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(u1)),u1}var GC;function kJ(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sI(),n=RJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(o1)),o1}var d1={},f1={},WC;function CJ(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(f1)),f1}var h1={},m1={},p1={},g1={},YC;function q6(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(g1)),g1}var y1={},QC;function K6(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(y1)),y1}var v1={},XC;function H6(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(v1)),v1}var ZC;function jJ(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oI(),n=q6(),r=K6(),i=H6();function a(g,v,x){return typeof x!="function"?e.isMatch(g,v):o(g,v,function A(E,S,P,O,j,M){const C=x(E,S,P,O,j,M);return C!==void 0?!!C:o(E,S,A,M)},new Map)}function o(g,v,x,A){if(v===g)return!0;switch(typeof v){case"object":return c(g,v,x,A);case"function":return Object.keys(v).length>0?o(g,{...v},x,A):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function c(g,v,x,A){if(v==null)return!0;if(Array.isArray(v))return f(g,v,x,A);if(v instanceof Map)return d(g,v,x,A);if(v instanceof Set)return m(g,v,x,A);const E=Object.keys(v);if(g==null)return E.length===0;if(E.length===0)return!0;if(A&&A.has(v))return A.get(v)===g;A&&A.set(v,g);try{for(let S=0;S<E.length;S++){const P=E[S];if(!r.isPrimitive(g)&&!(P in g)||v[P]===void 0&&g[P]!==void 0||v[P]===null&&g[P]!==null||!x(g[P],v[P],P,g,v,A))return!1}return!0}finally{A&&A.delete(v)}}function d(g,v,x,A){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[E,S]of v.entries()){const P=g.get(E);if(x(P,S,E,g,v,A)===!1)return!1}return!0}function f(g,v,x,A){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const E=new Set;for(let S=0;S<v.length;S++){const P=v[S];let O=!1;for(let j=0;j<g.length;j++){if(E.has(j))continue;const M=g[j];let C=!1;if(x(M,P,S,g,v,A)&&(C=!0),C){E.add(j),O=!0;break}}if(!O)return!1}return!0}function m(g,v,x,A){return v.size===0?!0:g instanceof Set?f([...g],[...v],x,A):!1}t.isMatchWith=a,t.isSetMatch=m})(p1)),p1}var JC;function oI(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(m1)),m1}var b1={},x1={},_1={},ej;function DJ(){return ej||(ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(_1)),_1}var w1={},tj;function G6(){return tj||(tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(w1)),w1}var E1={},nj;function W6(){return nj||(nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",M="[object BigUint64Array]",C="[object Int8Array]",V="[object Int16Array]",I="[object Int32Array]",k="[object BigInt64Array]",D="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=A,t.float32ArrayTag=D,t.float64ArrayTag=B,t.functionTag=g,t.int16ArrayTag=V,t.int32ArrayTag=I,t.int8ArrayTag=C,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=O,t.uint32ArrayTag=j,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=P})(E1)),E1}var A1={},rj;function MJ(){return rj||(rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(A1)),A1}var ij;function Y6(){return ij||(ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DJ(),n=G6(),r=W6(),i=K6(),a=MJ();function o(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,v,x=new Map,A=void 0){const E=A==null?void 0:A(m,g,v,x);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const S=new Array(m.length);x.set(m,S);for(let P=0;P<m.length;P++)S[P]=c(m[P],P,v,x,A);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;x.set(m,S);for(const[P,O]of m)S.set(P,c(O,P,v,x,A));return S}if(m instanceof Set){const S=new Set;x.set(m,S);for(const P of m)S.add(c(P,void 0,v,x,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,S);for(let P=0;P<m.length;P++)S[P]=c(m[P],P,v,x,A);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,S),d(S,m,v,x,A),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return x.set(m,S),d(S,m,v,x,A),S}if(m instanceof Blob){const S=new Blob([m],{type:m.type});return x.set(m,S),d(S,m,v,x,A),S}if(m instanceof Error){const S=new m.constructor;return x.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,v,x,A),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return x.set(m,S),d(S,m,v,x,A),S}return m}function d(m,g,v=m,x,A){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const P=E[S],O=Object.getOwnPropertyDescriptor(m,P);(O==null||O.writable)&&(m[P]=c(g[P],P,v,x,A))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=d})(x1)),x1}var aj;function LJ(){return aj||(aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(b1)),b1}var sj;function VJ(){return sj||(sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oI(),n=LJ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(h1)),h1}var T1={},S1={},I1={},oj;function BJ(){return oj||(oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y6(),n=W6();function r(i,a){return e.cloneDeepWith(i,(o,c,d,f)=>{const m=a==null?void 0:a(o,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(I1)),I1}var lj;function UJ(){return lj||(lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(S1)),S1}var N1={},P1={},cj;function Q6(){return cj||(cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(P1)),P1}var O1={},uj;function zJ(){return uj||(uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(O1)),O1}var dj;function FJ(){return dj||(dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b6(),n=Q6(),r=zJ(),i=ZS();function a(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&(o==null?void 0:o[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=o;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=a})(N1)),N1}var fj;function $J(){return fj||(fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oI(),n=x6(),r=UJ(),i=JS(),a=FJ();function o(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=o})(T1)),T1}var hj;function lI(){return hj||(hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vb(),n=CJ(),r=VJ(),i=$J();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(d1)),d1}var mj;function qJ(){return mj||(mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PJ(),n=Vb(),r=kJ(),i=lI();function a(o,c=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(c)):[]}t.uniqBy=a})(i1)),i1}var R1,pj;function KJ(){return pj||(pj=1,R1=qJ().uniqBy),R1}var HJ=KJ();const gj=Fi(HJ);function GJ(t,e,n){return e===!0?gj(t,n):typeof e=="function"?gj(t,e):t}var k1={exports:{}},C1={},j1={exports:{}},D1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function WJ(){if(yj)return D1;yj=1;var t=lf();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(g,v){var x=v(),A=r({inst:{value:x,getSnapshot:v}}),E=A[0].inst,S=A[1];return a(function(){E.value=x,E.getSnapshot=v,d(E)&&S({inst:E})},[g,x,v]),i(function(){return d(E)&&S({inst:E}),g(function(){d(E)&&S({inst:E})})},[g]),o(x),x}function d(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function f(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return D1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,D1}var vj;function YJ(){return vj||(vj=1,j1.exports=WJ()),j1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj;function QJ(){if(bj)return C1;bj=1;var t=lf(),e=YJ();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;return C1.useSyncExternalStoreWithSelector=function(f,m,g,v,x){var A=a(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=c(function(){function P(V){if(!O){if(O=!0,j=V,V=v(V),x!==void 0&&E.hasValue){var I=E.value;if(x(I,V))return M=I}return M=V}if(I=M,r(j,V))return I;var k=v(V);return x!==void 0&&x(I,k)?(j=V,I):(j=V,M=k)}var O=!1,j,M,C=g===void 0?null:g;return[function(){return P(m())},C===null?void 0:function(){return P(C())}]},[m,g,v,x]);var S=i(f,A[0],A[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},C1}var xj;function XJ(){return xj||(xj=1,k1.exports=QJ()),k1.exports}var ZJ=XJ(),cI=w.createContext(null),JJ=t=>t,un=()=>{var t=w.useContext(cI);return t?t.store.dispatch:JJ},Sv=()=>{},eee=()=>Sv,tee=(t,e)=>t===e;function Te(t){var e=w.useContext(cI);return ZJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eee,e?e.store.getState:Sv,e?e.store.getState:Sv,e?t:Sv,tee)}function nee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ree(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function iee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var _j=t=>Array.isArray(t)?t:[t];function aee(t){const e=Array.isArray(t[0])?t[0]:t;return iee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function see(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var oee=class{constructor(t){this.value=t}deref(){return this.value}},lee=typeof WeakRef<"u"?WeakRef:oee,cee=0,wj=1;function Hy(){return{s:cee,v:void 0,o:null,p:null}}function X6(t,e={}){let n=Hy();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var g;let c=n;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const A=arguments[v];if(typeof A=="function"||typeof A=="object"&&A!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const S=E.get(A);S===void 0?(c=Hy(),E.set(A,c)):c=S}else{let E=c.p;E===null&&(c.p=E=new Map);const S=E.get(A);S===void 0?(c=Hy(),E.set(A,c)):c=S}}const f=c;let m;if(c.s===wj)m=c.v;else if(m=t.apply(null,arguments),a++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,m)&&(m=v,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new lee(m):m}return f.s=wj,f.v=m,m}return o.clearCache=()=>{n=Hy(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function uee(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),nee(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:x=X6,argsMemoizeOptions:A=[]}=m,E=_j(v),S=_j(A),P=aee(i),O=g(function(){return a++,f.apply(null,arguments)},...E),j=x(function(){o++;const C=see(P,arguments);return c=O.apply(null,C),c},...S);return Object.assign(j,{resultFunc:f,memoizedResultFunc:O,dependencies:P,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var X=uee(X6),dee=Object.assign((t,e=X)=>{ree(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,c,d)=>(o[n[d]]=c,o),{}))},{withTypes:()=>dee}),M1={},L1={},V1={},Ej;function fee(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),c=e(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};t.compareValues=n})(V1)),V1}var B1={},U1={},Aj;function Z6(){return Aj||(Aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U1)),U1}var Tj;function hee(){return Tj||(Tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(B1)),B1}var Sj;function mee(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fee(),n=hee(),r=ZS();function i(a,o,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,A)=>{let E=x;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},m=(x,A)=>A==null||x==null?A:typeof x=="object"&&"key"in x?Object.hasOwn(A,x.key)?A[x.key]:f(A,x.path):typeof x=="function"?x(A):Array.isArray(x)?f(A,x):typeof A=="object"?A[x]:A,g=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:g.map(A=>m(A,x))})).slice().sort((x,A)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(x.criteria[E],A.criteria[E],c[E]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=i})(L1)),L1}var z1={},Ij;function pee(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?o(m,d+1):i.push(m)}};return o(n,0),i}t.flatten=e})(z1)),z1}var F1={},Nj;function J6(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q6(),n=sI(),r=q6(),i=H6();function a(o,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],o):!1}t.isIterateeCall=a})(F1)),F1}var Pj;function gee(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mee(),n=pee(),r=J6();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(M1)),M1}var $1,Oj;function yee(){return Oj||(Oj=1,$1=gee().sortBy),$1}var vee=yee();const Bb=Fi(vee);var eB=t=>t.legend.settings,bee=t=>t.legend.size,xee=t=>t.legend.payload;X([xee,eB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Bb(r,n):r});var Gy=1;function _ee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Gy||Math.abs(o.left-e.left)>Gy||Math.abs(o.top-e.top)>Gy||Math.abs(o.width-e.width)>Gy)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function dr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wee=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rj=wee,q1=()=>Math.random().toString(36).substring(7).split("").join("."),Eee={INIT:`@@redux/INIT${q1()}`,REPLACE:`@@redux/REPLACE${q1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${q1()}`},s0=Eee;function uI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tB(t,e,n){if(typeof t!="function")throw new Error(dr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(dr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(dr(1));return n(tB)(t,e)}let r=t,i=e,a=new Map,o=a,c=0,d=!1;function f(){o===a&&(o=new Map,a.forEach((S,P)=>{o.set(P,S)}))}function m(){if(d)throw new Error(dr(3));return i}function g(S){if(typeof S!="function")throw new Error(dr(4));if(d)throw new Error(dr(5));let P=!0;f();const O=c++;return o.set(O,S),function(){if(P){if(d)throw new Error(dr(6));P=!1,f(),o.delete(O),a=null}}}function v(S){if(!uI(S))throw new Error(dr(7));if(typeof S.type>"u")throw new Error(dr(8));if(typeof S.type!="string")throw new Error(dr(17));if(d)throw new Error(dr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=o).forEach(O=>{O()}),S}function x(S){if(typeof S!="function")throw new Error(dr(10));r=S,v({type:s0.REPLACE})}function A(){const S=g;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(dr(11));function O(){const M=P;M.next&&M.next(m())}return O(),{unsubscribe:S(O)}},[Rj](){return this}}}return v({type:s0.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:x,[Rj]:A}}function Aee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:s0.INIT})>"u")throw new Error(dr(12));if(typeof n(void 0,{type:s0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dr(13))})}function nB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Aee(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const g=r[m],v=n[g],x=o[g],A=v(x,c);if(typeof A>"u")throw c&&c.type,new Error(dr(14));f[g]=A,d=d||A!==x}return d=d||r.length!==Object.keys(o).length,d?f:o}}function o0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Tee(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(dr(15))};const o={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=t.map(d=>d(o));return a=o0(...c)(i.dispatch),{...i,dispatch:a}}}function rB(t){return uI(t)&&"type"in t&&typeof t.type=="string"}var iB=Symbol.for("immer-nothing"),kj=Symbol.for("immer-draftable"),vi=Symbol.for("immer-state");function Xi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Jd=Object.getPrototypeOf;function Yc(t){return!!t&&!!t[vi]}function zs(t){var e;return t?aB(t)||Array.isArray(t)||!!t[kj]||!!((e=t.constructor)!=null&&e[kj])||Kp(t)||zb(t):!1}var See=Object.prototype.constructor.toString();function aB(t){if(!t||typeof t!="object")return!1;const e=Jd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===See}function l0(t,e){Ub(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ub(t){const e=t[vi];return e?e.type_:Array.isArray(t)?1:Kp(t)?2:zb(t)?3:0}function PA(t,e){return Ub(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function sB(t,e,n){const r=Ub(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Iee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kp(t){return t instanceof Map}function zb(t){return t instanceof Set}function mc(t){return t.copy_||t.base_}function OA(t,e){if(Kp(t))return new Map(t);if(zb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=aB(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[vi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(Jd(t),r)}else{const r=Jd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function dI(t,e=!1){return Fb(t)||Yc(t)||!zs(t)||(Ub(t)>1&&Object.defineProperties(t,{set:{value:Wy},add:{value:Wy},clear:{value:Wy},delete:{value:Wy}}),Object.freeze(t),e&&Object.values(t).forEach(n=>dI(n,!0))),t}function Wy(){Xi(2)}function Fb(t){return Object.isFrozen(t)}var Nee={};function Qc(t){const e=Nee[t];return e||Xi(0,t),e}var op;function oB(){return op}function Pee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Cj(t,e){e&&(Qc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function RA(t){kA(t),t.drafts_.forEach(Oee),t.drafts_=null}function kA(t){t===op&&(op=t.parent_)}function jj(t){return op=Pee(op,t)}function Oee(t){const e=t[vi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Dj(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[vi].modified_&&(RA(e),Xi(4)),zs(t)&&(t=c0(e,t),e.parent_||u0(e,t)),e.patches_&&Qc("Patches").generateReplacementPatches_(n[vi].base_,t,e.patches_,e.inversePatches_)):t=c0(e,n,[]),RA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==iB?t:void 0}function c0(t,e,n){if(Fb(e))return e;const r=e[vi];if(!r)return l0(e,(i,a)=>Mj(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return u0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),l0(a,(c,d)=>Mj(t,r,i,c,d,n,o)),u0(t,i,!1),n&&t.patches_&&Qc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Mj(t,e,n,r,i,a,o){if(Yc(i)){const c=a&&e&&e.type_!==3&&!PA(e.assigned_,r)?a.concat(r):void 0,d=c0(t,i,c);if(sB(n,r,d),Yc(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(zs(i)&&!Fb(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;c0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Kp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&u0(t,i)}}function u0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dI(e,n)}function Ree(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:oB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=fI;n&&(i=[r],a=lp);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var fI={get(t,e){if(e===vi)return t;const n=mc(t);if(!PA(n,e))return kee(t,n,e);const r=n[e];return t.finalized_||!zs(r)?r:r===K1(t.base_,e)?(H1(t),t.copy_[e]=jA(r,t)):r},has(t,e){return e in mc(t)},ownKeys(t){return Reflect.ownKeys(mc(t))},set(t,e,n){const r=lB(mc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=K1(mc(t),e),a=i==null?void 0:i[vi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Iee(n,i)&&(n!==void 0||PA(t.base_,e)))return!0;H1(t),CA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return K1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,H1(t),CA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=mc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Xi(11)},getPrototypeOf(t){return Jd(t.base_)},setPrototypeOf(){Xi(12)}},lp={};l0(fI,(t,e)=>{lp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lp.deleteProperty=function(t,e){return lp.set.call(this,t,e,void 0)};lp.set=function(t,e,n){return fI.set.call(this,t[0],e,n,t[0])};function K1(t,e){const n=t[vi];return(n?mc(n):t)[e]}function kee(t,e,n){var i;const r=lB(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function lB(t,e){if(!(e in t))return;let n=Jd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Jd(n)}}function CA(t){t.modified_||(t.modified_=!0,t.parent_&&CA(t.parent_))}function H1(t){t.copy_||(t.copy_=OA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Cee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(d=a,...f){return o.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&Xi(6),r!==void 0&&typeof r!="function"&&Xi(7);let i;if(zs(e)){const a=jj(this),o=jA(e,void 0);let c=!0;try{i=n(o),c=!1}finally{c?RA(a):kA(a)}return Cj(a,r),Dj(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===iB&&(i=void 0),this.autoFreeze_&&dI(i,!0),r){const a=[],o=[];Qc("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Xi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,d=>e(d,...c));let r,i;return[this.produce(e,n,(o,c)=>{r=o,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){zs(t)||Xi(8),Yc(t)&&(t=ks(t));const e=jj(this),n=jA(t,void 0);return n[vi].isManual_=!0,kA(e),n}finishDraft(t,e){const n=t&&t[vi];(!n||!n.isManual_)&&Xi(9);const{scope_:r}=n;return Cj(r,e),Dj(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Qc("Patches").applyPatches_;return Yc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function jA(t,e){const n=Kp(t)?Qc("MapSet").proxyMap_(t,e):zb(t)?Qc("MapSet").proxySet_(t,e):Ree(t,e);return(e?e.scope_:oB()).drafts_.push(n),n}function ks(t){return Yc(t)||Xi(10,t),cB(t)}function cB(t){if(!zs(t)||Fb(t))return t;const e=t[vi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=OA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=OA(t,!0);return l0(n,(r,i)=>{sB(n,r,cB(i))}),e&&(e.finalized_=!1),n}var jee=new Cee,uB=jee.produce;function dB(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Dee=dB(),Mee=dB,Lee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?o0:o0.apply(null,arguments)};function Ui(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(gi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>rB(r)&&r.type===t,n}var fB=class ym extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ym.prototype)}static get[Symbol.species](){return ym}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ym(...e[0].concat(this)):new ym(...e.concat(this))}};function Lj(t){return zs(t)?uB(t,()=>{}):t}function Yy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Vee(t){return typeof t=="boolean"}var Bee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new fB;return n&&(Vee(n)?o.push(Dee):o.push(Mee(n.extraArgument))),o},Uee="RTK_autoBatch",Vj=t=>e=>{setTimeout(e,t)},zee=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Vj(10):t.type==="callback"?t.queueNotification:Vj(t.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),v=r.subscribe(g);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[Uee]),a=!i,a&&(o||(o=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},Fee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new fB(t);return r&&i.push(zee(typeof r=="object"?r:void 0)),i};function $ee(t){const e=Bee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(uI(n))c=nB(n);else throw new Error(gi(1));let d;typeof r=="function"?d=r(e):d=e();let f=o0;i&&(f=Lee({trace:!1,...typeof i=="object"&&i}));const m=Tee(...d),g=Fee(m);let v=typeof o=="function"?o(g):g();const x=f(...v);return tB(c,a,x)}function hB(t){const e={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(gi(28));if(c in e)throw new Error(gi(29));return e[c]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function qee(t){return typeof t=="function"}function Kee(t,e){let[n,r,i]=hB(e),a;if(qee(t))a=()=>Lj(t());else{const c=Lj(t);a=()=>c}function o(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,g)=>{if(g)if(Yc(m)){const x=g(m,d);return x===void 0?m:x}else{if(zs(m))return uB(m,v=>g(v,d));{const v=g(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return o.getInitialState=a,o}var Hee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gee=(t=21)=>{let e="",n=t;for(;n--;)e+=Hee[Math.random()*64|0];return e},Wee=Symbol.for("rtk-slice-createasyncthunk");function Yee(t,e){return`${t}/${e}`}function Qee({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Wee];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(gi(11));const c=(typeof i.reducers=="function"?i.reducers(Zee()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(M,C){const V=typeof M=="string"?M:M.type;if(!V)throw new Error(gi(12));if(V in f.sliceCaseReducersByType)throw new Error(gi(13));return f.sliceCaseReducersByType[V]=C,m},addMatcher(M,C){return f.sliceMatchers.push({matcher:M,reducer:C}),m},exposeAction(M,C){return f.actionCreators[M]=C,m},exposeCaseReducer(M,C){return f.sliceCaseReducersByName[M]=C,m}};d.forEach(M=>{const C=c[M],V={reducerName:M,type:Yee(a,M),createNotation:typeof i.reducers=="function"};ete(C)?nte(V,C,m,e):Jee(V,C,m)});function g(){const[M={},C=[],V=void 0]=typeof i.extraReducers=="function"?hB(i.extraReducers):[i.extraReducers],I={...M,...f.sliceCaseReducersByType};return Kee(i.initialState,k=>{for(let D in I)k.addCase(D,I[D]);for(let D of f.sliceMatchers)k.addMatcher(D.matcher,D.reducer);for(let D of C)k.addMatcher(D.matcher,D.reducer);V&&k.addDefaultCase(V)})}const v=M=>M,x=new Map,A=new WeakMap;let E;function S(M,C){return E||(E=g()),E(M,C)}function P(){return E||(E=g()),E.getInitialState()}function O(M,C=!1){function V(k){let D=k[M];return typeof D>"u"&&C&&(D=Yy(A,V,P)),D}function I(k=v){const D=Yy(x,C,()=>new WeakMap);return Yy(D,k,()=>{const B={};for(const[F,$]of Object.entries(i.selectors??{}))B[F]=Xee($,k,()=>Yy(A,k,P),C);return B})}return{reducerPath:M,getSelectors:I,get selectors(){return I(V)},selectSlice:V}}const j={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:P,...O(o),injectInto(M,{reducerPath:C,...V}={}){const I=C??o;return M.inject({reducerPath:I,reducer:S},V),{...j,...O(I,!0)}}};return j}}function Xee(t,e,n,r){function i(a,...o){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...o)}return i.unwrapped=t,i}var bi=Qee();function Zee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Jee({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!tte(r))throw new Error(gi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Ui(t,o):Ui(t))}function ete(t){return t._reducerDefinitionType==="asyncThunk"}function tte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function nte({type:t,reducerName:e},n,r,i){if(!i)throw new Error(gi(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:d,settled:f,options:m}=n,g=i(t,a,m);r.exposeAction(e,g),o&&r.addCase(g.fulfilled,o),c&&r.addCase(g.pending,c),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:o||Qy,pending:c||Qy,rejected:d||Qy,settled:f||Qy})}function Qy(){}var rte="task",mB="listener",pB="completed",hI="cancelled",ite=`task-${hI}`,ate=`task-${pB}`,DA=`${mB}-${hI}`,ste=`${mB}-${pB}`,$b=class{constructor(t){xw(this,"name","TaskAbortError");xw(this,"message");this.code=t,this.message=`${rte} ${hI} (reason: ${t})`}},mI=(t,e)=>{if(typeof t!="function")throw new TypeError(gi(32))},d0=()=>{},gB=(t,e=d0)=>(t.catch(e),t),yB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),kc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Cc=t=>{if(t.aborted){const{reason:e}=t;throw new $b(e)}};function vB(t,e){let n=d0;return new Promise((r,i)=>{const a=()=>i(new $b(t.reason));if(t.aborted){a();return}n=yB(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=d0})}var ote=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $b?"cancelled":"rejected",error:n}}finally{e==null||e()}},f0=t=>e=>gB(vB(t,e).then(n=>(Cc(t),n))),bB=t=>{const e=f0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Td}=Object,Bj={},qb="listenerMiddleware",lte=(t,e)=>{const n=r=>yB(t,()=>kc(r,t.reason));return(r,i)=>{mI(r);const a=new AbortController;n(a);const o=ote(async()=>{Cc(t),Cc(a.signal);const c=await r({pause:f0(a.signal),delay:bB(a.signal),signal:a.signal});return Cc(a.signal),c},()=>kc(a,ate));return i!=null&&i.autoJoin&&e.push(o.catch(d0)),{result:f0(t)(o),cancel(){kc(a,ite)}}}},cte=(t,e)=>{const n=async(r,i)=>{Cc(e);let a=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await vB(e,Promise.race(c));return Cc(e),d}finally{a()}};return(r,i)=>gB(n(r,i))},xB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ui(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gi(21));return mI(a),{predicate:i,type:e,effect:a}},_B=Td(t=>{const{type:e,predicate:n,effect:r}=xB(t);return{id:Gee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gi(22))}}},{withTypes:()=>_B}),Uj=(t,e)=>{const{type:n,effect:r,predicate:i}=xB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},MA=t=>{t.pending.forEach(e=>{kc(e,DA)})},ute=t=>()=>{t.forEach(MA),t.clear()},zj=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},wB=Td(Ui(`${qb}/add`),{withTypes:()=>wB}),dte=Ui(`${qb}/removeAll`),EB=Td(Ui(`${qb}/remove`),{withTypes:()=>EB}),fte=(...t)=>{console.error(`${qb}/error`,...t)},Hp=(t={})=>{const e=new Map,{extra:n,onError:r=fte}=t;mI(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&MA(m)}),a=m=>{const g=Uj(e,m)??_B(m);return i(g)};Td(a,{withTypes:()=>a});const o=m=>{const g=Uj(e,m);return g&&(g.unsubscribe(),m.cancelActive&&MA(g)),!!g};Td(o,{withTypes:()=>o});const c=async(m,g,v,x)=>{const A=new AbortController,E=cte(a,A.signal),S=[];try{m.pending.add(A),await Promise.resolve(m.effect(g,Td({},v,{getOriginalState:x,condition:(P,O)=>E(P,O).then(Boolean),take:E,delay:bB(A.signal),pause:f0(A.signal),extra:n,signal:A.signal,fork:lte(A.signal,S),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((P,O,j)=>{P!==A&&(kc(P,DA),j.delete(P))})},cancel:()=>{kc(A,DA),m.pending.delete(A)},throwIfCancelled:()=>{Cc(A.signal)}})))}catch(P){P instanceof $b||zj(r,P,{raisedBy:"effect"})}finally{await Promise.all(S),kc(A,ste),m.pending.delete(A)}},d=ute(e);return{middleware:m=>g=>v=>{if(!rB(v))return g(v);if(wB.match(v))return a(v.payload);if(dte.match(v)){d();return}if(EB.match(v))return o(v.payload);let x=m.getState();const A=()=>{if(x===Bj)throw new Error(gi(23));return x};let E;try{if(E=g(v),e.size>0){const S=m.getState(),P=Array.from(e.values());for(const O of P){let j=!1;try{j=O.predicate(v,S,x)}catch(M){j=!1,zj(r,M,{raisedBy:"predicate"})}j&&c(O,v,m,A)}}}finally{x=Bj}return E},startListening:a,stopListening:o,clearListeners:d}};function gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},AB=bi({name:"chartLayout",initialState:hte,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:mte,setLayout:pte,setChartSize:gte,setScale:yte}=AB.actions,vte=AB.reducer;function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h0=Math.PI/180,m0=t=>t*Math.PI/180,wte=t=>t*180/Math.PI,wt=(t,e,n,r)=>({x:t+Math.cos(-h0*r)*n,y:e+Math.sin(-h0*r)*n}),TB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ete=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Ate=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=Ete({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:o,angle:wte(d),angleInRadian:d}},Tte=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Ste=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Ite=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=Ate({x:n,y:r},e),{innerRadius:o,outerRadius:c}=e;if(i<o||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Tte(e),m=a,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?$j($j({},e),{},{radius:i,angle:Ste(m,e)}):null},SB=t=>!w.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function IB(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tt(t,e,n){return Ut(t)||Ut(e)?n:Wa(e)?Wc(t,e,n):typeof e=="function"?e(t):n}var Rte=(t,e,n,r,i)=>{var a,o=-1,c=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,g=d>=c-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(er(m-f)!==er(g-m)){var x=[];if(er(g-m)===er(i[1]-i[0])){v=g;var A=m+i[1]-i[0];x[0]=Math.min(A,(A+f)/2),x[1]=Math.max(A,(A+f)/2)}else{v=f;var E=g+i[1]-i[0];x[0]=Math.min(m,(E+m)/2),x[1]=Math.max(m,(E+m)/2)}var S=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>S[0]&&t<=S[1]||t>=x[0]&&t<=x[1]){({index:o}=n[d]);break}}else{var P=Math.min(f,g),O=Math.max(f,g);if(t>(P+m)/2&&t<=(O+m)/2){({index:o}=n[d]);break}}}else if(e){for(var j=0;j<c;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:o}=e[j]);break}}return o},kte=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&ke(t[a]))return Di(Di({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&ke(t[o]))return Di(Di({},t),{},{[o]:t[o]+(i||0)})}return t},sa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",NB=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,a,o=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(e),a||o.push(n),o},PB=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:v,axisType:x}=t;if(!o)return null;var A=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/A:0;if(E=x==="angleAxis"&&a&&a.length>=2?er(a[0]-a[1])*2*E:E,g||v){var S=(g||v||[]).map((P,O)=>{var j=r?r.indexOf(P):P;return{coordinate:o(j)+E,value:P,offset:E,index:O}});return S.filter(P=>!Xr(P.coordinate))}return d&&f?f.map((P,O)=>({coordinate:o(P)+E,value:P,index:O,offset:E})):o.ticks&&m!=null?o.ticks(m).map((P,O)=>({coordinate:o(P)+E,value:P,offset:E,index:O})):o.domain().map((P,O)=>({coordinate:o(P)+E,value:r?r[P]:P,index:O,offset:E}))},Kj=1e-4,Cte=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-Kj,a=Math.max(r[0],r[1])+Kj,o=t(e[0]),c=t(e[n-1]);(o<i||o>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},jte=(t,e)=>{if(!e||e.length!==2||!ke(e[0])||!ke(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ke(t[0])||t[0]<n)&&(i[0]=n),(!ke(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Dte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var c=Xr(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1])}},Mte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Xr(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Lte={sign:Dte,expand:gJ,none:Zd,silhouette:yJ,wiggle:vJ,positive:Mte},Vte=(t,e,n)=>{var r=Lte[n],i=pJ().keys(e).value((a,o)=>+Tt(a,o,0)).order(IA).offset(r);return i(t)};function OB(t){return t==null?void 0:String(t)}function p0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ut(i[e.dataKey])){var c=w6(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Tt(i,Ut(o)?e.dataKey:o);return Ut(d)?null:e.scale(d)}var Hj=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var c=Tt(a,e.dataKey,e.scale.domain()[o]);return Ut(c)?null:e.scale(c)-i/2+r},Bte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Ute=t=>{var e=t.flat(2).filter(ke);return[Math.min(...e),Math.max(...e)]},zte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Fte=(t,e,n)=>{if(t!=null)return zte(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,c=o.reduce((d,f)=>{var m=IB(f,e,n),g=Ute(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},Gj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fs=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Bb(e,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var d=i[o],f=i[o-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function Yj(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Di(Di({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Za(t,e){if(t)return String(t);if(typeof e=="string")return e}function $te(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?Ite({x:t,y:e},r):null}var qte=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Di(Di(Di({},r),wt(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:d}=r;return Di(Di(Di({},r),wt(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Kte=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Js=t=>t.layout.width,eo=t=>t.layout.height,Hte=t=>t.layout.scale,RB=t=>t.layout.margin,Kb=X(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Hb=X(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kB="data-recharts-item-index",CB="data-recharts-item-data-key",Gp=60;function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=t=>t.brush.height;function Xte(t){var e=Hb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gp;return n+i}return n},0)}function Zte(t){var e=Hb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gp;return n+i}return n},0)}function Jte(t){var e=Kb(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ene(t){var e=Kb(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $n=X([Js,eo,RB,Qte,Xte,Zte,Jte,ene,eB,bee],(t,e,n,r,i,a,o,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+c},v=Xy(Xy({},g),m),x=v.bottom;v.bottom+=r,v=kte(v,d,f);var A=t-v.left-v.right,E=e-v.top-v.bottom;return Xy(Xy({brushBottom:x},v),{},{width:Math.max(A,0),height:Math.max(E,0)})}),tne=X($n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),pI=X(Js,eo,(t,e)=>({x:0,y:0,width:t,height:e})),nne=w.createContext(null),rr=()=>w.useContext(nne)!=null,Gb=t=>t.brush,Wb=X([Gb,$n,RB],(t,e,n)=>({height:t.height,x:ke(t.x)?t.x:e.left,y:ke(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ke(t.width)?t.width:e.width})),gI=()=>{var t,e=rr(),n=Te(tne),r=Te(Wb),i=(t=Te(Gb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},rne={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jB=()=>{var t;return(t=Te($n))!==null&&t!==void 0?t:rne},DB=()=>Te(Js),MB=()=>Te(eo),Ze=t=>t.layout.layoutType,Wp=()=>Te(Ze),ine={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LB=bi({name:"legend",initialState:ine,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ks(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Wve,setLegendSettings:Yve,addLegendPayload:VB,removeLegendPayload:BB}=LB.actions,ane=LB.reducer;function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(null,arguments)}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=one(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=lne(t,"string");return typeof e=="symbol"?e:e+""}function lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cne(t){return Array.isArray(t)&&Wa(t[0])&&Wa(t[1])?t.join(" ~ "):t}var une=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:v=!1}=t,x=()=>{if(a&&a.length){var C={padding:0,margin:0},V=(c?Bb(a,c):a).map((I,k)=>{if(I.type==="none")return null;var D=I.formatter||o||cne,{value:B,name:F}=I,$=B,U=F;if(D){var he=D(B,F,I,k,a);if(Array.isArray(he))[$,U]=he;else if(he!=null)$=he;else return null}var ve=G1({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ve},Wa(U)?w.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Wa(U)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},$),w.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:C},V)}return null},A=G1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=G1({margin:0},i),S=!Ut(m),P=S?m:"",O=Qe("recharts-default-tooltip",d),j=Qe("recharts-tooltip-label",f);S&&g&&a!==void 0&&a!==null&&(P=g(m,a));var M=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",LA({className:O,style:A},M),w.createElement("p",{className:j,style:E},w.isValidElement(P)?P:"".concat(P)),x())},em="recharts-tooltip-wrapper",dne={visibility:"hidden"};function fne(t){var{coordinate:e,translateX:n,translateY:r}=t;return Qe(em,{["".concat(em,"-right")]:ke(n)&&e&&ke(e.x)&&n>=e.x,["".concat(em,"-left")]:ke(n)&&e&&ke(e.x)&&n<e.x,["".concat(em,"-bottom")]:ke(r)&&e&&ke(e.y)&&r>=e.y,["".concat(em,"-top")]:ke(r)&&e&&ke(e.y)&&r<e.y})}function Zj(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(a&&ke(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),g=n[r]+i;if(e[r])return o[r]?m:g;var v=d[r];if(v==null)return 0;if(o[r]){var x=m,A=v;return x<A?Math.max(g,v):Math.max(m,v)}if(f==null)return 0;var E=g+c,S=v+f;return E>S?Math.max(m,v):Math.max(g,v)}function hne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:d}=t,f,m,g;return o.height>0&&o.width>0&&n?(m=Zj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=Zj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=hne({translateX:m,translateY:g,useTranslate3d:c})):f=dne,{cssProperties:f,cssClasses:fne({translateX:m,translateY:g,coordinate:n})}}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){VA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VA(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=gne(t,"string");return typeof e=="symbol"?e:e+""}function gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yne extends w.PureComponent{constructor(){super(...arguments),VA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:P}=this.props,{cssClasses:O,cssProperties:j}=mne({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:x}),M=P?{}:Zy(Zy({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),C=Zy(Zy({},M),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},A);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:C,ref:S},a)}}var vne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ja={devToolsEnabled:!1,isSsr:vne()},UB=()=>Te(t=>t.rootProps.accessibilityLayer);function yr(t){return Number.isFinite(t)}function ef(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(null,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return(e=xne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nD={curveBasisClosed:iJ,curveBasisOpen:aJ,curveBasis:rJ,curveBumpX:$Z,curveBumpY:qZ,curveLinearClosed:sJ,curveLinear:Mb,curveMonotoneX:oJ,curveMonotoneY:lJ,curveNatural:cJ,curveStep:uJ,curveStepAfter:fJ,curveStepBefore:dJ},Jy=t=>yr(t.x)&&yr(t.y),tm=t=>t.x,nm=t=>t.y,wne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(qp(t));return(n==="curveMonotone"||n==="curveBump")&&e?nD["".concat(n).concat(e==="vertical"?"Y":"X")]:nD[n]||Mb},Ene=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=wne(e,i),c=a?n.filter(Jy):n,d;if(Array.isArray(r)){var f=a?r.filter(g=>Jy(g)):r,m=c.map((g,v)=>tD(tD({},g),{},{base:f[v]}));return i==="vertical"?d=Ky().y(nm).x1(tm).x0(g=>g.base.x):d=Ky().x(tm).y1(nm).y0(g=>g.base.y),d.defined(Jy).curve(o),d(m)}return i==="vertical"&&ke(r)?d=Ky().y(nm).x1(tm).x0(r):ke(r)?d=Ky().x(tm).y1(nm).y0(r):d=R6().x(tm).y(nm),d.defined(Jy).curve(o),d(c)},Sd=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Ene(t):r;return w.createElement("path",BA({},Cn(t),tI(t),{className:Qe("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Ane=["x","y","top","left","width","height","className"];function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(null,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t,e){if(t==null)return{};var n,r,i=One(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function One(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rne=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),kne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=t,d=Pne(t,Ane),f=Tne({x:e,y:n,top:r,left:i,width:a,height:o},d);return!ke(e)||!ke(n)||!ke(a)||!ke(o)||!ke(r)||!ke(i)?null:w.createElement("path",UA({},lt(f,!0),{className:Qe("recharts-cross",c),d:Rne(e,n,a,o,r,i)}))};function Cne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dne(t,e,n){return(e=Mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e){var n=jne({},t),r=e,i=Object.keys(e),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}function Vne(){}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),zB=(t,e,n)=>t.map(r=>"".concat(Fne(r)," ").concat(e,"ms ").concat(n)).join(","),$ne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),cp=(t,e)=>Object.keys(e).reduce((n,r)=>sD(sD({},n),{},{[r]:t(r,e[r])}),{});function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g0=(t,e,n)=>t+(e-t)*n,zA=t=>{var{from:e,to:n}=t;return e!==n},FB=(t,e,n)=>{var r=cp((i,a)=>{if(zA(a)){var[o,c]=t(a.from,a.to,a.velocity);return hr(hr({},a),{},{from:o,velocity:c})}return a},e);return n<1?cp((i,a)=>zA(a)?hr(hr({},a),{},{velocity:g0(a.velocity,r[i].velocity,n),from:g0(a.from,r[i].from,n)}):a,e):FB(t,r,n-1)};function Gne(t,e,n,r,i,a){var o,c=r.reduce((v,x)=>hr(hr({},v),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>cp((v,x)=>x.from,c),f=()=>!Object.values(c).filter(zA).length,m=null,g=v=>{o||(o=v);var x=v-o,A=x/n.dt;c=FB(n,c,A),i(hr(hr(hr({},t),e),d())),o=v,f()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{m()})}function Wne(t,e,n,r,i,a,o){var c=null,d=i.reduce((g,v)=>hr(hr({},g),{},{[v]:[t[v],e[v]]}),{}),f,m=g=>{f||(f=g);var v=(g-f)/r,x=cp((E,S)=>g0(...S,n(v)),d);if(a(hr(hr(hr({},t),e),x)),v<1)c=o.setTimeout(m);else{var A=cp((E,S)=>g0(...S,n(1)),d);a(hr(hr(hr({},t),e),A))}};return()=>(c=o.setTimeout(m),()=>{c()})}const Yne=(t,e,n,r,i,a)=>{var o=$ne(t,e);return n.isStepper===!0?Gne(t,e,n,o,i,a):Wne(t,e,n,r,o,i,a)};var y0=1e-4,$B=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],qB=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),lD=(t,e)=>n=>{var r=$B(t,e);return qB(r,n)},Qne=(t,e)=>n=>{var r=$B(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return qB(i,n)},cD=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else o.length===4&&([e,r,n,i]=o);var f=lD(e,n),m=lD(r,i),g=Qne(e,n),v=A=>A>1?1:A<0?0:A,x=A=>{for(var E=A>1?1:A,S=E,P=0;P<8;++P){var O=f(S)-E,j=g(S);if(Math.abs(O-E)<y0||j<y0)return m(S);S=v(S-O/j)}return m(S)};return x.isStepper=!1,x},Xne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,c,d)=>{var f=-(o-c)*n,m=d*r,g=d+(f-m)*i/1e3,v=d*i/1e3+o;return Math.abs(v-c)<y0&&Math.abs(g)<y0?[c,0]:[v,g]};return a.isStepper=!0,a.dt=i,a},Zne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cD(t);case"spring":return Xne();default:if(t.split("(")[0]==="cubic-bezier")return cD(t)}return typeof t=="function"?t:null};function Jne(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(a.bind(null,f),d);return}a(d),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class ere{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function tre(){return Jne(new ere)}var nre=w.createContext(tre);function rre(t,e){var n=w.useContext(nre);return w.useMemo(()=>e??n(t),[t,e,n])}var ire={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uD={t:0},W1={t:1};function su(t){var e=jn(t,ire),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=rre(e.animationId,e.animationManager),[g,v]=w.useState(n?uD:W1),x=w.useRef(null);return w.useEffect(()=>{n||v(W1)},[n]),w.useEffect(()=>{if(!n||!r)return Vne;var A=Yne(uD,W1,Zne(a),i,v,m.getTimeoutController()),E=()=>{x.current=A()};return m.start([d,o,E,i,c]),()=>{m.stop(),x.current&&x.current(),c()}},[n,r,i,a,o,d,c,m]),f(g.t)}function ou(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(sp(e)),r=w.useRef(t);return r.current!==t&&(n.current=sp(e),r.current=t),n.current}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function are(t,e,n){return(e=sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=ore(t,"string");return typeof e=="symbol"?e:e+""}function ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(null,arguments)}var hD=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=i[g]>a?a:i[g];f="M".concat(t,",").concat(e+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),f+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+o*m[1])),f+="L ".concat(t+n,",").concat(e+r-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),f+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(t,",").concat(e+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(e,`
            L `).concat(t+n-c*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(e+o*x,`
            L `).concat(t+n,",").concat(e+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(e+r,`
            L `).concat(t+c*x,",").concat(e+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(e+r-o*x," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},lre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KB=t=>{var e=jn(t,lre),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var he=n.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:a,y:o,width:c,height:d,radius:f,className:m}=e,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=w.useRef(c),P=w.useRef(d),O=w.useRef(a),j=w.useRef(o),M=w.useMemo(()=>({x:a,y:o,width:c,height:d,radius:f}),[a,o,c,d,f]),C=ou(M,"rectangle-");if(a!==+a||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var V=Qe("recharts-rectangle",m);if(!E)return w.createElement("path",v0({},lt(e,!0),{className:V,d:hD(a,o,c,d,f)}));var I=S.current,k=P.current,D=O.current,B=j.current,F="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),U=zB(["strokeDasharray"],v,typeof g=="string"?g:void 0);return w.createElement(su,{animationId:C,key:C,canBegin:r>0,duration:v,easing:g,isActive:E,begin:x},he=>{var ve=vt(I,c,he),G=vt(k,d,he),ne=vt(D,a,he),ge=vt(B,o,he);n.current&&(S.current=ve,P.current=G,O.current=ne,j.current=ge);var Ie;return A?he>0?Ie={transition:U,strokeDasharray:$}:Ie={strokeDasharray:F}:Ie={strokeDasharray:$},w.createElement("path",v0({},lt(e,!0),{className:V,d:hD(ne,ge,ve,G,f),ref:n,style:fD(fD({},Ie),e.style)}))})};function HB(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=wt(e,n,r,i),c=wt(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FA.apply(null,arguments)}var cre=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ev=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:d}=t,f=c*(o?1:-1)+r,m=Math.asin(c/f)/h0,g=d?i:i+a*m,v=wt(e,n,f,g),x=wt(e,n,r,g),A=d?i-a*m:i,E=wt(e,n,f*Math.cos(m*h0),A);return{center:v,circleTangency:x,lineTangency:E,theta:m}},GB=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,c=cre(a,o),d=a+c,f=wt(e,n,i,a),m=wt(e,n,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=wt(e,n,r,a),x=wt(e,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},ure=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=er(f-d),{circleTangency:g,lineTangency:v,theta:x}=ev({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:A,lineTangency:E,theta:S}=ev({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),P=c?Math.abs(d-f):Math.abs(d-f)-x-S;if(P<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):GB({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:M,theta:C}=ev({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:V,lineTangency:I,theta:k}=ev({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),D=c?Math.abs(d-f):Math.abs(d-f)-C-k;if(D<0&&a===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else O+="L".concat(e,",").concat(n,"Z");return O},dre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WB=t=>{var e=jn(t,dre),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=e;if(a<i||f===m)return null;var v=Qe("recharts-sector",g),x=a-i,A=Sr(o,x,0,!0),E;return A>0&&Math.abs(f-m)<360?E=ure({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=GB({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),w.createElement("path",FA({},lt(e,!0),{className:v,d:E}))};function fre(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:m,angle:g}=e,v=wt(c,d,f,g),x=wt(c,d,m,g);r=v.x,i=v.y,a=x.x,o=x.y}else return HB(e);return[{x:r,y:i},{x:a,y:o}]}var Y1={},Q1={},X1={},mD;function hre(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(X1)),X1}var pD;function mre(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Q1)),Q1}var gD;function pre(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J6(),n=mre();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=o;return d}t.range=r})(Y1)),Y1}var Z1,yD;function gre(){return yD||(yD=1,Z1=pre().range),Z1}var yre=gre();const YB=Fi(yre);function Xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yI(t){let e,n,r;t.length!==2?(e=Xo,n=(c,d)=>Xo(t(c),d),r=(c,d)=>t(c)-d):(e=t===Xo||t===vre?t:bre,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const g=f+m>>>1;n(c[g],d)<0?f=g+1:m=g}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const g=f+m>>>1;n(c[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function o(c,d,f=0,m=c.length){const g=i(c,d,f,m-1);return g>f&&r(c[g-1],d)>-r(c[g],d)?g-1:g}return{left:i,center:o,right:a}}function bre(){return 0}function QB(t){return t===null?NaN:+t}function*xre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _re=yI(Xo),Yp=_re.right;yI(QB).center;class vD extends Map{constructor(e,n=Are){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bD(this,e))}has(e){return super.has(bD(this,e))}set(e,n){return super.set(wre(this,e),n)}delete(e){return super.delete(Ere(this,e))}}function bD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ere({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Are(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tre(t=Xo){if(t===Xo)return XB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function XB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sre=Math.sqrt(50),Ire=Math.sqrt(10),Nre=Math.sqrt(2);function b0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Sre?10:a>=Ire?5:a>=Nre?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?b0(t,e,n*2):[c,d,f]}function $A(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?b0(e,t,n):b0(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)d[f]=(a-f)/-o;else for(let f=0;f<c;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(i+f)/-o;else for(let f=0;f<c;++f)d[f]=(i+f)*o;return d}function qA(t,e,n){return e=+e,t=+t,n=+n,b0(t,e,n)[2]}function KA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?qA(e,t,n):qA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _D(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?XB:Tre(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*g/d+v)),A=Math.min(r,Math.floor(e+(d-f)*g/d+v));ZB(t,e,x,A,i)}const a=t[e];let o=n,c=r;for(rm(t,n,e),i(t[r],a)>0&&rm(t,n,r);o<c;){for(rm(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?rm(t,n,c):(++c,rm(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function rm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pre(t,e,n){if(t=Float64Array.from(xre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _D(t);if(e>=1)return xD(t);var r,i=(r-1)*e,a=Math.floor(i),o=xD(ZB(t,a).subarray(0,a+1)),c=_D(t.subarray(a+1));return o+(c-o)*(i-a)}}function Ore(t,e,n=QB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function Rre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function $i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function to(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const HA=Symbol("implicit");function vI(){var t=new vD,e=[],n=[],r=HA;function i(a){let o=t.get(a);if(o===void 0){if(r!==HA)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new vD;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return vI(e,n).unknown(r)},$i.apply(i,arguments),i}function bI(){var t=vI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,d=0,f=0,m=.5;delete t.unknown;function g(){var v=e().length,x=i<r,A=x?i:r,E=x?r:i;a=(E-A)/Math.max(1,v-d+f*2),c&&(a=Math.floor(a)),A+=(E-A-a*(v-d))*m,o=a*(1-d),c&&(A=Math.round(A),o=Math.round(o));var S=Rre(v).map(function(P){return A+a*P});return n(x?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(c=!!v,g()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},t.copy=function(){return bI(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},$i.apply(g(),arguments)}function JB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JB(e())},t}function kre(){return JB(bI.apply(null,arguments).paddingInner(1))}function xI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qp(){}var up=.7,x0=1/up,Id="\\s*([+-]?\\d+)\\s*",dp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cre=/^#([0-9a-f]{3,8})$/,jre=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),Dre=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),Mre=new RegExp(`^rgba\\(${Id},${Id},${Id},${dp}\\)$`),Lre=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${dp}\\)$`),Vre=new RegExp(`^hsl\\(${dp},${Ua},${Ua}\\)$`),Bre=new RegExp(`^hsla\\(${dp},${Ua},${Ua},${dp}\\)$`),wD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xI(Qp,fp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ED,formatHex:ED,formatHex8:Ure,formatHsl:zre,formatRgb:AD,toString:AD});function ED(){return this.rgb().formatHex()}function Ure(){return this.rgb().formatHex8()}function zre(){return tU(this).formatHsl()}function AD(){return this.rgb().formatRgb()}function fp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Cre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TD(e):n===3?new Qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?tv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?tv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jre.exec(t))?new Qr(e[1],e[2],e[3],1):(e=Dre.exec(t))?new Qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mre.exec(t))?tv(e[1],e[2],e[3],e[4]):(e=Lre.exec(t))?tv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vre.exec(t))?ND(e[1],e[2]/100,e[3]/100,1):(e=Bre.exec(t))?ND(e[1],e[2]/100,e[3]/100,e[4]):wD.hasOwnProperty(t)?TD(wD[t]):t==="transparent"?new Qr(NaN,NaN,NaN,0):null}function TD(t){return new Qr(t>>16&255,t>>8&255,t&255,1)}function tv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qr(t,e,n,r)}function Fre(t){return t instanceof Qp||(t=fp(t)),t?(t=t.rgb(),new Qr(t.r,t.g,t.b,t.opacity)):new Qr}function GA(t,e,n,r){return arguments.length===1?Fre(t):new Qr(t,e,n,r??1)}function Qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xI(Qr,GA,eU(Qp,{brighter(t){return t=t==null?x0:Math.pow(x0,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?up:Math.pow(up,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qr(jc(this.r),jc(this.g),jc(this.b),_0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SD,formatHex:SD,formatHex8:$re,formatRgb:ID,toString:ID}));function SD(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}`}function $re(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}${Sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function ID(){const t=_0(this.opacity);return`${t===1?"rgb(":"rgba("}${jc(this.r)}, ${jc(this.g)}, ${jc(this.b)}${t===1?")":`, ${t})`}`}function _0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sc(t){return t=jc(t),(t<16?"0":"")+t.toString(16)}function ND(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function tU(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof Qp||(t=fp(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new Zi(o,c,d,t.opacity)}function qre(t,e,n,r){return arguments.length===1?tU(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xI(Zi,qre,eU(Qp,{brighter(t){return t=t==null?x0:Math.pow(x0,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?up:Math.pow(up,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qr(J1(t>=240?t-240:t+120,i,r),J1(t,i,r),J1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(PD(this.h),nv(this.s),nv(this.l),_0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_0(this.opacity);return`${t===1?"hsl(":"hsla("}${PD(this.h)}, ${nv(this.s)*100}%, ${nv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function PD(t){return t=(t||0)%360,t<0?t+360:t}function nv(t){return Math.max(0,Math.min(1,t||0))}function J1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _I=t=>()=>t;function Kre(t,e){return function(n){return t+n*e}}function Hre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gre(t){return(t=+t)==1?nU:function(e,n){return n-e?Hre(e,n,t):_I(isNaN(e)?n:e)}}function nU(t,e){var n=e-t;return n?Kre(t,n):_I(isNaN(t)?e:t)}const OD=(function t(e){var n=Gre(e);function r(i,a){var o=n((i=GA(i)).r,(a=GA(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=nU(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function Wre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Yre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Af(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function Xre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function w0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Af(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var WA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eE=new RegExp(WA.source,"g");function Jre(t){return function(){return t}}function eie(t){return function(e){return t(e)+""}}function tie(t,e){var n=WA.lastIndex=eE.lastIndex=0,r,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(r=WA.exec(t))&&(i=eE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:w0(r,i)})),n=eE.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?eie(d[0].x):Jre(e):(e=d.length,function(f){for(var m=0,g;m<e;++m)c[(g=d[m]).i]=g.x(f);return c.join("")})}function Af(t,e){var n=typeof e,r;return e==null||n==="boolean"?_I(e):(n==="number"?w0:n==="string"?(r=fp(e))?(e=r,OD):tie:e instanceof fp?OD:e instanceof Date?Xre:Yre(e)?Wre:Array.isArray(e)?Qre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zre:w0)(t,e)}function wI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nie(t,e){e===void 0&&(e=t,t=Af);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function rie(t){return function(){return t}}function E0(t){return+t}var RD=[0,1];function Mr(t){return t}function YA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:rie(isNaN(e)?NaN:.5)}function iie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function aie(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=YA(i,r),a=n(o,a)):(r=YA(r,i),a=n(a,o)),function(c){return a(r(c))}}function sie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=YA(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var d=Yp(t,c,1,r)-1;return a[d](i[d](c))}}function Xp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yb(){var t=RD,e=RD,n=Af,r,i,a,o=Mr,c,d,f;function m(){var v=Math.min(t.length,e.length);return o!==Mr&&(o=iie(t[0],t[v-1])),c=v>2?sie:aie,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?a:(d||(d=c(t.map(r),e,n)))(r(o(v)))}return g.invert=function(v){return o(i((f||(f=c(e,t.map(r),w0)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,E0),m()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=wI,m()},g.clamp=function(v){return arguments.length?(o=v?!0:Mr,m()):o!==Mr},g.interpolate=function(v){return arguments.length?(n=v,m()):n},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,x){return r=v,i=x,m()}}function EI(){return Yb()(Mr,Mr)}function oie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function A0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function tf(t){return t=A0(Math.abs(t)),t?t[1]:NaN}function lie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function cie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hp(t){if(!(e=uie.exec(t)))throw new Error("invalid format: "+t);var e;return new AI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hp.prototype=AI.prototype;function AI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function die(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rU;function fie(t,e){var n=A0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(rU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+A0(t,Math.max(0,e+a-1))[0]}function kD(t,e){var n=A0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kD(t*100,e),r:kD,s:fie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jD(t){return t}var DD=Array.prototype.map,MD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hie(t){var e=t.grouping===void 0||t.thousands===void 0?jD:lie(DD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?jD:cie(DD.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g){g=hp(g);var v=g.fill,x=g.align,A=g.sign,E=g.symbol,S=g.zero,P=g.width,O=g.comma,j=g.precision,M=g.trim,C=g.type;C==="n"?(O=!0,C="g"):CD[C]||(j===void 0&&(j=12),M=!0,C="g"),(S||v==="0"&&x==="=")&&(S=!0,v="0",x="=");var V=E==="$"?n:E==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=E==="$"?r:/[%p]/.test(C)?o:"",k=CD[C],D=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function B(F){var $=V,U=I,he,ve,G;if(C==="c")U=k(F)+U,F="";else{F=+F;var ne=F<0||1/F<0;if(F=isNaN(F)?d:k(Math.abs(F),j),M&&(F=die(F)),ne&&+F==0&&A!=="+"&&(ne=!1),$=(ne?A==="("?A:c:A==="-"||A==="("?"":A)+$,U=(C==="s"?MD[8+rU/3]:"")+U+(ne&&A==="("?")":""),D){for(he=-1,ve=F.length;++he<ve;)if(G=F.charCodeAt(he),48>G||G>57){U=(G===46?i+F.slice(he+1):F.slice(he))+U,F=F.slice(0,he);break}}}O&&!S&&(F=e(F,1/0));var ge=$.length+F.length+U.length,Ie=ge<P?new Array(P-ge+1).join(v):"";switch(O&&S&&(F=e(Ie+F,Ie.length?P-U.length:1/0),Ie=""),x){case"<":F=$+F+U+Ie;break;case"=":F=$+Ie+F+U;break;case"^":F=Ie.slice(0,ge=Ie.length>>1)+$+F+U+Ie.slice(ge);break;default:F=Ie+$+F+U;break}return a(F)}return B.toString=function(){return g+""},B}function m(g,v){var x=f((g=hp(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(tf(v)/3)))*3,E=Math.pow(10,-A),S=MD[8+A/3];return function(P){return x(E*P)+S}}return{format:f,formatPrefix:m}}var rv,TI,iU;mie({thousands:",",grouping:[3],currency:["$",""]});function mie(t){return rv=hie(t),TI=rv.format,iU=rv.formatPrefix,rv}function pie(t){return Math.max(0,-tf(Math.abs(t)))}function gie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tf(e)/3)))*3-tf(Math.abs(t)))}function yie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tf(e)-tf(t))+1}function aU(t,e,n,r){var i=KA(t,e,n),a;switch(r=hp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=gie(i,o))&&(r.precision=a),iU(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=yie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=pie(i))&&(r.precision=a-(r.type==="%")*2);break}}return TI(r)}function Al(t){var e=t.domain;return t.ticks=function(n){var r=e();return $A(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return aU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],d,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=qA(o,c,n),f===d)return r[i]=o,r[a]=c,e(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function sU(){var t=EI();return t.copy=function(){return Xp(t,sU())},$i.apply(t,arguments),Al(t)}function oU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,E0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return oU(t).unknown(e)},t=arguments.length?Array.from(t,E0):[0,1],Al(n)}function lU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function LD(t){return Math.log(t)}function VD(t){return Math.exp(t)}function vie(t){return-Math.log(-t)}function bie(t){return-Math.exp(-t)}function xie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _ie(t){return t===10?xie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BD(t){return(e,n)=>-t(-e,n)}function SI(t){const e=t(LD,VD),n=e.domain;let r=10,i,a;function o(){return i=wie(r),a=_ie(r),n()[0]<0?(i=BD(i),a=BD(a),t(vie,bie)):t(LD,VD),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let v=i(f),x=i(m),A,E;const S=c==null?10:+c;let P=[];if(!(r%1)&&x-v<S){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(A=1;A<r;++A)if(E=v<0?A/a(-v):A*a(v),!(E<f)){if(E>m)break;P.push(E)}}else for(;v<=x;++v)for(A=r-1;A>=1;--A)if(E=v>0?A/a(-v):A*a(v),!(E<f)){if(E>m)break;P.push(E)}P.length*2<S&&(P=$A(f,m,S))}else P=$A(v,x,Math.min(x-v,S)).map(a);return g?P.reverse():P},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=hp(d)).precision==null&&(d.trim=!0),d=TI(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=f?d(m):""}},e.nice=()=>n(lU(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function cU(){const t=SI(Yb()).domain([1,10]);return t.copy=()=>Xp(t,cU()).base(t.base()),$i.apply(t,arguments),t}function UD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function II(t){var e=1,n=t(UD(e),zD(e));return n.constant=function(r){return arguments.length?t(UD(e=+r),zD(e)):e},Al(n)}function uU(){var t=II(Yb());return t.copy=function(){return Xp(t,uU()).constant(t.constant())},$i.apply(t,arguments)}function FD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Eie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Aie(t){return t<0?-t*t:t*t}function NI(t){var e=t(Mr,Mr),n=1;function r(){return n===1?t(Mr,Mr):n===.5?t(Eie,Aie):t(FD(n),FD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Al(e)}function PI(){var t=NI(Yb());return t.copy=function(){return Xp(t,PI()).exponent(t.exponent())},$i.apply(t,arguments),t}function Tie(){return PI.apply(null,arguments).exponent(.5)}function $D(t){return Math.sign(t)*t*t}function Sie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dU(){var t=EI(),e=[0,1],n=!1,r;function i(a){var o=Sie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert($D(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,E0)).map($D)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$i.apply(i,arguments),Al(i)}function fU(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=Ore(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Yp(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Xo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fU().domain(t).range(e).unknown(r)},$i.apply(a,arguments)}function hU(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[Yp(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return hU().domain([t,e]).range(i).unknown(a)},$i.apply(Al(o),arguments)}function mU(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Yp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mU().domain(t).range(e).unknown(n)},$i.apply(i,arguments)}const tE=new Date,nE=new Date;function qn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<o);return d},i.filter=a=>qn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(tE.setTime(+a),nE.setTime(+o),t(tE),t(nE),Math.floor(n(tE,nE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const T0=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);T0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):T0);T0.range;const Ns=1e3,Li=Ns*60,Ps=Li*60,$s=Ps*24,OI=$s*7,qD=$s*30,rE=$s*365,Ic=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCSeconds());Ic.range;const RI=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());RI.range;const kI=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());kI.range;const CI=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getHours());CI.range;const jI=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCHours());jI.range;const Zp=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/$s,t=>t.getDate()-1);Zp.range;const Qb=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>t.getUTCDate()-1);Qb.range;const pU=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>Math.floor(t/$s));pU.range;function lu(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/OI)}const Xb=lu(0),S0=lu(1),Iie=lu(2),Nie=lu(3),nf=lu(4),Pie=lu(5),Oie=lu(6);Xb.range;S0.range;Iie.range;Nie.range;nf.range;Pie.range;Oie.range;function cu(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/OI)}const Zb=cu(0),I0=cu(1),Rie=cu(2),kie=cu(3),rf=cu(4),Cie=cu(5),jie=cu(6);Zb.range;I0.range;Rie.range;kie.range;rf.range;Cie.range;jie.range;const DI=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DI.range;const MI=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MI.range;const qs=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qs.range;const Ks=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ks.range;function gU(t,e,n,r,i,a){const o=[[Ic,1,Ns],[Ic,5,5*Ns],[Ic,15,15*Ns],[Ic,30,30*Ns],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[r,1,$s],[r,2,2*$s],[n,1,OI],[e,1,qD],[e,3,3*qD],[t,1,rE]];function c(f,m,g){const v=m<f;v&&([f,m]=[m,f]);const x=g&&typeof g.range=="function"?g:d(f,m,g),A=x?x.range(f,+m+1):[];return v?A.reverse():A}function d(f,m,g){const v=Math.abs(m-f)/g,x=yI(([,,S])=>S).right(o,v);if(x===o.length)return t.every(KA(f/rE,m/rE,g));if(x===0)return T0.every(Math.max(KA(f,m,g),1));const[A,E]=o[v/o[x-1][2]<o[x][2]/v?x-1:x];return A.every(E)}return[c,d]}const[Die,Mie]=gU(Ks,MI,Zb,pU,jI,kI),[Lie,Vie]=gU(qs,DI,Xb,Zp,CI,RI);function iE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function im(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,f=am(i),m=sm(i),g=am(a),v=sm(a),x=am(o),A=sm(o),E=am(c),S=sm(c),P=am(d),O=sm(d),j={a:ne,A:ge,b:Ie,B:K,c:null,d:QD,e:QD,f:lae,g:vae,G:xae,H:aae,I:sae,j:oae,L:yU,m:cae,M:uae,p:oe,q:ae,Q:JD,s:eM,S:dae,u:fae,U:hae,V:mae,w:pae,W:gae,x:null,X:null,y:yae,Y:bae,Z:_ae,"%":ZD},M={a:fe,A:Ne,b:je,B:Ve,c:null,d:XD,e:XD,f:Tae,g:Dae,G:Lae,H:wae,I:Eae,j:Aae,L:bU,m:Sae,M:Iae,p:Ft,q:mt,Q:JD,s:eM,S:Nae,u:Pae,U:Oae,V:Rae,w:kae,W:Cae,x:null,X:null,y:jae,Y:Mae,Z:Vae,"%":ZD},C={a:B,A:F,b:$,B:U,c:he,d:WD,e:WD,f:tae,g:GD,G:HD,H:YD,I:YD,j:Xie,L:eae,m:Qie,M:Zie,p:D,q:Yie,Q:rae,s:iae,S:Jie,u:qie,U:Kie,V:Hie,w:$ie,W:Gie,x:ve,X:G,y:GD,Y:HD,Z:Wie,"%":nae};j.x=V(n,j),j.X=V(r,j),j.c=V(e,j),M.x=V(n,M),M.X=V(r,M),M.c=V(e,M);function V(we,Fe){return function(He){var me=[],Lt=-1,Je=0,Gt=we.length,Xt,ie,_e;for(He instanceof Date||(He=new Date(+He));++Lt<Gt;)we.charCodeAt(Lt)===37&&(me.push(we.slice(Je,Lt)),(ie=KD[Xt=we.charAt(++Lt)])!=null?Xt=we.charAt(++Lt):ie=Xt==="e"?" ":"0",(_e=Fe[Xt])&&(Xt=_e(He,ie)),me.push(Xt),Je=Lt+1);return me.push(we.slice(Je,Lt)),me.join("")}}function I(we,Fe){return function(He){var me=im(1900,void 0,1),Lt=k(me,we,He+="",0),Je,Gt;if(Lt!=He.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Fe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Je=aE(im(me.y,0,1)),Gt=Je.getUTCDay(),Je=Gt>4||Gt===0?I0.ceil(Je):I0(Je),Je=Qb.offset(Je,(me.V-1)*7),me.y=Je.getUTCFullYear(),me.m=Je.getUTCMonth(),me.d=Je.getUTCDate()+(me.w+6)%7):(Je=iE(im(me.y,0,1)),Gt=Je.getDay(),Je=Gt>4||Gt===0?S0.ceil(Je):S0(Je),Je=Zp.offset(Je,(me.V-1)*7),me.y=Je.getFullYear(),me.m=Je.getMonth(),me.d=Je.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Gt="Z"in me?aE(im(me.y,0,1)).getUTCDay():iE(im(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Gt+5)%7:me.w+me.U*7-(Gt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,aE(me)):iE(me)}}function k(we,Fe,He,me){for(var Lt=0,Je=Fe.length,Gt=He.length,Xt,ie;Lt<Je;){if(me>=Gt)return-1;if(Xt=Fe.charCodeAt(Lt++),Xt===37){if(Xt=Fe.charAt(Lt++),ie=C[Xt in KD?Fe.charAt(Lt++):Xt],!ie||(me=ie(we,He,me))<0)return-1}else if(Xt!=He.charCodeAt(me++))return-1}return me}function D(we,Fe,He){var me=f.exec(Fe.slice(He));return me?(we.p=m.get(me[0].toLowerCase()),He+me[0].length):-1}function B(we,Fe,He){var me=x.exec(Fe.slice(He));return me?(we.w=A.get(me[0].toLowerCase()),He+me[0].length):-1}function F(we,Fe,He){var me=g.exec(Fe.slice(He));return me?(we.w=v.get(me[0].toLowerCase()),He+me[0].length):-1}function $(we,Fe,He){var me=P.exec(Fe.slice(He));return me?(we.m=O.get(me[0].toLowerCase()),He+me[0].length):-1}function U(we,Fe,He){var me=E.exec(Fe.slice(He));return me?(we.m=S.get(me[0].toLowerCase()),He+me[0].length):-1}function he(we,Fe,He){return k(we,e,Fe,He)}function ve(we,Fe,He){return k(we,n,Fe,He)}function G(we,Fe,He){return k(we,r,Fe,He)}function ne(we){return o[we.getDay()]}function ge(we){return a[we.getDay()]}function Ie(we){return d[we.getMonth()]}function K(we){return c[we.getMonth()]}function oe(we){return i[+(we.getHours()>=12)]}function ae(we){return 1+~~(we.getMonth()/3)}function fe(we){return o[we.getUTCDay()]}function Ne(we){return a[we.getUTCDay()]}function je(we){return d[we.getUTCMonth()]}function Ve(we){return c[we.getUTCMonth()]}function Ft(we){return i[+(we.getUTCHours()>=12)]}function mt(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var Fe=V(we+="",j);return Fe.toString=function(){return we},Fe},parse:function(we){var Fe=I(we+="",!1);return Fe.toString=function(){return we},Fe},utcFormat:function(we){var Fe=V(we+="",M);return Fe.toString=function(){return we},Fe},utcParse:function(we){var Fe=I(we+="",!0);return Fe.toString=function(){return we},Fe}}}var KD={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,Uie=/^%/,zie=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Fie(t){return t.replace(zie,"\\$&")}function am(t){return new RegExp("^(?:"+t.map(Fie).join("|")+")","i")}function sm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $ie(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qie(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kie(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hie(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Gie(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function HD(t,e,n){var r=ir.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function GD(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yie(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qie(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function WD(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xie(t,e,n){var r=ir.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YD(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Zie(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jie(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eae(t,e,n){var r=ir.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function tae(t,e,n){var r=ir.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nae(t,e,n){var r=Uie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rae(t,e,n){var r=ir.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function iae(t,e,n){var r=ir.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QD(t,e){return xt(t.getDate(),e,2)}function aae(t,e){return xt(t.getHours(),e,2)}function sae(t,e){return xt(t.getHours()%12||12,e,2)}function oae(t,e){return xt(1+Zp.count(qs(t),t),e,3)}function yU(t,e){return xt(t.getMilliseconds(),e,3)}function lae(t,e){return yU(t,e)+"000"}function cae(t,e){return xt(t.getMonth()+1,e,2)}function uae(t,e){return xt(t.getMinutes(),e,2)}function dae(t,e){return xt(t.getSeconds(),e,2)}function fae(t){var e=t.getDay();return e===0?7:e}function hae(t,e){return xt(Xb.count(qs(t)-1,t),e,2)}function vU(t){var e=t.getDay();return e>=4||e===0?nf(t):nf.ceil(t)}function mae(t,e){return t=vU(t),xt(nf.count(qs(t),t)+(qs(t).getDay()===4),e,2)}function pae(t){return t.getDay()}function gae(t,e){return xt(S0.count(qs(t)-1,t),e,2)}function yae(t,e){return xt(t.getFullYear()%100,e,2)}function vae(t,e){return t=vU(t),xt(t.getFullYear()%100,e,2)}function bae(t,e){return xt(t.getFullYear()%1e4,e,4)}function xae(t,e){var n=t.getDay();return t=n>=4||n===0?nf(t):nf.ceil(t),xt(t.getFullYear()%1e4,e,4)}function _ae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function XD(t,e){return xt(t.getUTCDate(),e,2)}function wae(t,e){return xt(t.getUTCHours(),e,2)}function Eae(t,e){return xt(t.getUTCHours()%12||12,e,2)}function Aae(t,e){return xt(1+Qb.count(Ks(t),t),e,3)}function bU(t,e){return xt(t.getUTCMilliseconds(),e,3)}function Tae(t,e){return bU(t,e)+"000"}function Sae(t,e){return xt(t.getUTCMonth()+1,e,2)}function Iae(t,e){return xt(t.getUTCMinutes(),e,2)}function Nae(t,e){return xt(t.getUTCSeconds(),e,2)}function Pae(t){var e=t.getUTCDay();return e===0?7:e}function Oae(t,e){return xt(Zb.count(Ks(t)-1,t),e,2)}function xU(t){var e=t.getUTCDay();return e>=4||e===0?rf(t):rf.ceil(t)}function Rae(t,e){return t=xU(t),xt(rf.count(Ks(t),t)+(Ks(t).getUTCDay()===4),e,2)}function kae(t){return t.getUTCDay()}function Cae(t,e){return xt(I0.count(Ks(t)-1,t),e,2)}function jae(t,e){return xt(t.getUTCFullYear()%100,e,2)}function Dae(t,e){return t=xU(t),xt(t.getUTCFullYear()%100,e,2)}function Mae(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function Lae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rf(t):rf.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function Vae(){return"+0000"}function ZD(){return"%"}function JD(t){return+t}function eM(t){return Math.floor(+t/1e3)}var cd,_U,wU;Bae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bae(t){return cd=Bie(t),_U=cd.format,cd.parse,wU=cd.utcFormat,cd.utcParse,cd}function Uae(t){return new Date(t)}function zae(t){return t instanceof Date?+t:+new Date(+t)}function LI(t,e,n,r,i,a,o,c,d,f){var m=EI(),g=m.invert,v=m.domain,x=f(".%L"),A=f(":%S"),E=f("%I:%M"),S=f("%I %p"),P=f("%a %d"),O=f("%b %d"),j=f("%B"),M=f("%Y");function C(V){return(d(V)<V?x:c(V)<V?A:o(V)<V?E:a(V)<V?S:r(V)<V?i(V)<V?P:O:n(V)<V?j:M)(V)}return m.invert=function(V){return new Date(g(V))},m.domain=function(V){return arguments.length?v(Array.from(V,zae)):v().map(Uae)},m.ticks=function(V){var I=v();return t(I[0],I[I.length-1],V??10)},m.tickFormat=function(V,I){return I==null?C:f(I)},m.nice=function(V){var I=v();return(!V||typeof V.range!="function")&&(V=e(I[0],I[I.length-1],V??10)),V?v(lU(I,V)):m},m.copy=function(){return Xp(m,LI(t,e,n,r,i,a,o,c,d,f))},m}function Fae(){return $i.apply(LI(Lie,Vie,qs,DI,Xb,Zp,CI,RI,Ic,_U).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $ae(){return $i.apply(LI(Die,Mie,Ks,MI,Zb,Qb,jI,kI,Ic,wU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jb(){var t=0,e=1,n,r,i,a,o=Mr,c=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(o=g,f):o};function m(g){return function(v){var x,A;return arguments.length?([x,A]=v,o=g(x,A),f):[o(0),o(1)]}}return f.range=m(Af),f.rangeRound=m(wI),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),f}}function Tl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EU(){var t=Al(Jb()(Mr));return t.copy=function(){return Tl(t,EU())},to.apply(t,arguments)}function AU(){var t=SI(Jb()).domain([1,10]);return t.copy=function(){return Tl(t,AU()).base(t.base())},to.apply(t,arguments)}function TU(){var t=II(Jb());return t.copy=function(){return Tl(t,TU()).constant(t.constant())},to.apply(t,arguments)}function VI(){var t=NI(Jb());return t.copy=function(){return Tl(t,VI()).exponent(t.exponent())},to.apply(t,arguments)}function qae(){return VI.apply(null,arguments).exponent(.5)}function SU(){var t=[],e=Mr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Yp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Pre(t,a/r))},n.copy=function(){return SU(e).domain(t)},to.apply(n,arguments)}function ex(){var t=0,e=.5,n=1,r=1,i,a,o,c,d,f=Mr,m,g=!1,v;function x(E){return isNaN(E=+E)?v:(E=.5+((E=+m(E))-a)*(r*E<r*a?c:d),f(g?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),a=m(e=+e),o=m(n=+n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(g=!!E,x):g},x.interpolator=function(E){return arguments.length?(f=E,x):f};function A(E){return function(S){var P,O,j;return arguments.length?([P,O,j]=S,f=nie(E,[P,O,j]),x):[f(0),f(.5),f(1)]}}return x.range=A(Af),x.rangeRound=A(wI),x.unknown=function(E){return arguments.length?(v=E,x):v},function(E){return m=E,i=E(t),a=E(e),o=E(n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function IU(){var t=Al(ex()(Mr));return t.copy=function(){return Tl(t,IU())},to.apply(t,arguments)}function NU(){var t=SI(ex()).domain([.1,1,10]);return t.copy=function(){return Tl(t,NU()).base(t.base())},to.apply(t,arguments)}function PU(){var t=II(ex());return t.copy=function(){return Tl(t,PU()).constant(t.constant())},to.apply(t,arguments)}function BI(){var t=NI(ex());return t.copy=function(){return Tl(t,BI()).exponent(t.exponent())},to.apply(t,arguments)}function Kae(){return BI.apply(null,arguments).exponent(.5)}const vm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bI,scaleDiverging:IU,scaleDivergingLog:NU,scaleDivergingPow:BI,scaleDivergingSqrt:Kae,scaleDivergingSymlog:PU,scaleIdentity:oU,scaleImplicit:HA,scaleLinear:sU,scaleLog:cU,scaleOrdinal:vI,scalePoint:kre,scalePow:PI,scaleQuantile:fU,scaleQuantize:hU,scaleRadial:dU,scaleSequential:EU,scaleSequentialLog:AU,scaleSequentialPow:VI,scaleSequentialQuantile:SU,scaleSequentialSqrt:qae,scaleSequentialSymlog:TU,scaleSqrt:Tie,scaleSymlog:uU,scaleThreshold:mU,scaleTime:Fae,scaleUtc:$ae,tickFormat:aU},Symbol.toStringTag,{value:"Module"}));var Sl=t=>t.chartData,tx=X([Sl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Jp=(t,e,n,r)=>r?tx(t):Sl(t);function af(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(yr(e)&&yr(n))return!0}return!1}function tM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Hae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(yr(n))i=n;else if(typeof n=="function")return;if(yr(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(af(o))return o}}function Gae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(af(r))return tM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,c;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ke(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&Gj.test(i)){var d=Gj.exec(i);if(d==null||e==null)o=void 0;else{var f=+d[1];o=e[0]-f}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(ke(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&Wj.test(a)){var m=Wj.exec(a);if(m==null||e==null)c=void 0;else{var g=+m[1];c=e[1]+g}}else c=e==null?void 0:e[1];var v=[o,c];if(af(v))return e==null?v:tM(v,e,n)}}}var Tf=1e9,Wae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zI,sn=!0,zi="[DecimalError] ",Dc=zi+"Invalid argument: ",UI=zi+"Exponent out of range: ",Sf=Math.floor,pc=Math.pow,Yae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,Zn=1e7,Yt=7,OU=9007199254740991,N0=Sf(OU/Yt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Cs(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Bt(Cs(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return kn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hi))throw Error(zi+"NaN");if(n.s<1)throw Error(zi+(n.s?"NaN":"-Infinity"));return n.eq(hi)?new r(0):(sn=!1,e=Cs(mp(n,a),mp(t,a),a),sn=!0,Bt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CU(e,t):RU(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(zi+"NaN");return n.s?(sn=!1,e=Cs(n,t,0,1).times(t),sn=!0,n.minus(e)):Bt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return kU(this)};Pe.naturalLogarithm=Pe.ln=function(){return mp(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RU(e,t):CU(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Dc+t);if(e=kn(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(zi+"NaN")}for(t=kn(c),sn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Da(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(Cs(c,a,o+2)).times(.5),Da(a.d).slice(0,o)===(e=Da(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Bt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return sn=!0,Bt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,a,o,c,d,f,m=this,g=m.constructor,v=m.d,x=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,d=v.length,f=x.length,d<f&&(a=v,v=x,x=a,o=d,d=f,f=o),a=[],o=d+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+x[r]*v[i-r-1]+e,a[i--]=c%Zn|0,e=c/Zn|0;a[i]=(a[i]+e)%Zn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,sn?Bt(t,g.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ya(t,0,Tf),e===void 0?e=r.rounding:Ya(e,0,8),Bt(n,t+kn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xc(r,!0):(Ya(t,0,Tf),e===void 0?e=i.rounding:Ya(e,0,8),r=Bt(new i(r),t+1,e),n=Xc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Xc(i):(Ya(t,0,Tf),e===void 0?e=a.rounding:Ya(e,0,8),r=Bt(new a(i),t+kn(i)+1,e),n=Xc(r.abs(),!1,t+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Bt(new e(t),kn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,a,o,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(hi);if(c=new d(c),!c.s){if(t.s<1)throw Error(zi+"Infinity");return c}if(c.eq(hi))return c;if(r=d.precision,t.eq(hi))return Bt(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=m<0?-m:m)<=OU){for(i=new d(hi),e=Math.ceil(r/Yt+4),sn=!1;n%2&&(i=i.times(c),rM(i.d,e)),n=Sf(n/2),n!==0;)c=c.times(c),rM(c.d,e);return sn=!0,t.s<0?new d(hi).div(i):Bt(i,r)}}else if(a<0)throw Error(zi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,sn=!1,i=t.times(mp(c,r+f)),sn=!0,i=kU(i),i.s=a,i};Pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=kn(i),r=Xc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ya(t,1,Tf),e===void 0?e=a.rounding:Ya(e,0,8),i=Bt(new a(i),t,e),n=kn(i),r=Xc(i,t<=n||n<=a.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ya(t,1,Tf),e===void 0?e=r.rounding:Ya(e,0,8)),Bt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),n=t.constructor;return Xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function RU(t,e){var n,r,i,a,o,c,d,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),sn?Bt(e,g):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=o,c=d.length),o=Math.ceil(g/Yt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Zn|0,d[a]%=Zn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,sn?Bt(e,g):e}function Ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Dc+t)}function Da(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(a+=Bo(n)),a+=r;o=t[e],r=o+"",n=Yt-r.length,n&&(a+=Bo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Cs=(function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%Zn|0,o=a/Zn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Zn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,d,f,m,g,v,x,A,E,S,P,O,j,M,C,V,I,k,D=r.constructor,B=r.s==i.s?1:-1,F=r.d,$=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(zi+"Division by zero");for(d=r.e-i.e,I=$.length,C=F.length,x=new D(B),A=x.d=[],f=0;$[f]==(F[f]||0);)++f;if($[f]>(F[f]||0)&&--d,a==null?O=a=D.precision:o?O=a+(kn(r)-kn(i))+1:O=a,O<0)return new D(0);if(O=O/Yt+2|0,f=0,I==1)for(m=0,$=$[0],O++;(f<C||m)&&O--;f++)j=m*Zn+(F[f]||0),A[f]=j/$|0,m=j%$|0;else{for(m=Zn/($[0]+1)|0,m>1&&($=t($,m),F=t(F,m),I=$.length,C=F.length),M=I,E=F.slice(0,I),S=E.length;S<I;)E[S++]=0;k=$.slice(),k.unshift(0),V=$[0],$[1]>=Zn/2&&++V;do m=0,c=e($,E,I,S),c<0?(P=E[0],I!=S&&(P=P*Zn+(E[1]||0)),m=P/V|0,m>1?(m>=Zn&&(m=Zn-1),g=t($,m),v=g.length,S=E.length,c=e(g,E,v,S),c==1&&(m--,n(g,I<v?k:$,v))):(m==0&&(c=m=1),g=$.slice()),v=g.length,v<S&&g.unshift(0),n(E,g,S),c==-1&&(S=E.length,c=e($,E,I,S),c<1&&(m++,n(E,I<S?k:$,S))),S=E.length):c===0&&(m++,E=[0]),A[f++]=m,c&&E[0]?E[S++]=F[M]||0:(E=[F[M]],S=1);while((M++<C||E[0]!==void 0)&&O--)}return A[0]||A.shift(),x.e=d,Bt(x,o?a+kn(x)+1:a)}})();function kU(t,e){var n,r,i,a,o,c,d=0,f=0,m=t.constructor,g=m.precision;if(kn(t)>16)throw Error(UI+kn(t));if(!t.s)return new m(hi);for(sn=!1,c=g,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(pc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(hi),m.precision=c;;){if(i=Bt(i.times(t),c),n=n.times(++d),o=a.plus(Cs(i,n,c)),Da(o.d).slice(0,c)===Da(a.d).slice(0,c)){for(;f--;)a=Bt(a.times(a),c);return m.precision=g,e==null?(sn=!0,Bt(a,g)):a}a=o}}function kn(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function sE(t,e,n){if(e>t.LN10.sd())throw sn=!0,n&&(t.precision=n),Error(zi+"LN10 precision limit exceeded");return Bt(new t(t.LN10),e)}function Bo(t){for(var e="";t--;)e+="0";return e}function mp(t,e){var n,r,i,a,o,c,d,f,m,g=1,v=10,x=t,A=x.d,E=x.constructor,S=E.precision;if(x.s<1)throw Error(zi+(x.s?"NaN":"-Infinity"));if(x.eq(hi))return new E(0);if(e==null?(sn=!1,f=S):f=e,x.eq(10))return e==null&&(sn=!0),sE(E,f);if(f+=v,E.precision=f,n=Da(A),r=n.charAt(0),a=kn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Da(x.d),r=n.charAt(0),g++;a=kn(x),r>1?(x=new E("0."+n),a++):x=new E(r+"."+n.slice(1))}else return d=sE(E,f+2,S).times(a+""),x=mp(new E(r+"."+n.slice(1)),f-v).plus(d),E.precision=S,e==null?(sn=!0,Bt(x,S)):x;for(c=o=x=Cs(x.minus(hi),x.plus(hi),f),m=Bt(x.times(x),f),i=3;;){if(o=Bt(o.times(m),f),d=c.plus(Cs(o,new E(i),f)),Da(d.d).slice(0,f)===Da(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(sE(E,f+2,S).times(a+""))),c=Cs(c,new E(g),f),E.precision=S,e==null?(sn=!0,Bt(c,S)):c;c=d,i+=2}}function nM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sf(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),sn&&(t.e>N0||t.e<-N0))throw Error(UI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Bt(t,e,n){var r,i,a,o,c,d,f,m,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Yt,i=e,f=g[m=0];else{if(m=Math.ceil((r+1)/Yt),a=g.length,m>=a)return t;for(f=a=g[m],o=1;a>=10;a/=10)o++;r%=Yt,i=r-Yt+o}if(n!==void 0&&(a=pc(10,o-i-1),c=f/a%10|0,d=e<0||g[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/pc(10,o-i):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(a=kn(t),g.length=1,e=e-a-1,g[0]=pc(10,(Yt-e%Yt)%Yt),t.e=Sf(-e/Yt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,a=1,m--):(g.length=m+1,a=pc(10,Yt-r),g[m]=i>0?(f/pc(10,o-i)%pc(10,i)|0)*a:0),d)for(;;)if(m==0){(g[0]+=a)==Zn&&(g[0]=1,++t.e);break}else{if(g[m]+=a,g[m]!=Zn)break;g[m--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(sn&&(t.e>N0||t.e<-N0))throw Error(UI+kn(t));return t}function CU(t,e){var n,r,i,a,o,c,d,f,m,g,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),sn?Bt(e,x):e;if(d=t.d,g=e.d,r=e.e,f=t.e,d=d.slice(),o=f-r,o){for(m=o<0,m?(n=d,o=-o,c=g.length):(n=g,r=f,c=d.length),i=Math.max(Math.ceil(x/Yt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=g[i]){m=d[i]<g[i];break}o=0}for(m&&(n=d,d=g,g=n,e.s=-e.s),c=d.length,i=g.length-c;i>0;--i)d[c++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=Zn-1;--d[a],d[i]+=Zn}d[i]-=g[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,sn?Bt(e,x):e):new v(0)}function Xc(t,e,n){var r,i=kn(t),a=Da(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Bo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Bo(-i-1)+a,n&&(r=n-o)>0&&(a+=Bo(r))):i>=o?(a+=Bo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Bo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Bo(r))),t.s<0?"-"+a:a}function rM(t,e){if(t.length>e)return t.length=e,!0}function jU(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Dc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return nM(o,a.toString())}else if(typeof a!="string")throw Error(Dc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Yae.test(a))nM(o,a);else throw Error(Dc+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jU,i.config=i.set=Qae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Qae(t){if(!t||typeof t!="object")throw Error(zi+"Object expected");var e,n,r,i=["precision",1,Tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Dc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Dc+n+": "+r);return this}var zI=jU(Wae);hi=new zI(1);const Nt=zI;var Xae=t=>t,DU={},MU=t=>t===DU,iM=t=>function e(){return arguments.length===0||arguments.length===1&&MU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},LU=(t,e)=>t===1?e:iM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==DU).length;return a>=t?e(...r):LU(t-a,iM(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var f=r.map(m=>MU(m)?c.shift():m);return e(...f,...c)}))}),nx=t=>LU(t.length,t),QA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Zae=nx((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Jae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Xae;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,d)=>d(c),a(...arguments))}},XA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),VU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,c)=>{var d;return o===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,n=t(...i)),n}};function BU(t){var e;return t===0?e=1:e=Math.floor(new Nt(t).abs().log(10).toNumber())+1,e}function UU(t,e,n){for(var r=new Nt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}nx((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});nx((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});nx((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var zU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},FU=(t,e,n)=>{if(t.lte(0))return new Nt(0);var r=BU(t.toNumber()),i=new Nt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new Nt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=c.mul(i);return e?new Nt(d.toNumber()):new Nt(Math.ceil(d.toNumber()))},ese=(t,e,n)=>{var r=new Nt(1),i=new Nt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Nt(10).pow(BU(t)-1),i=new Nt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Nt(Math.floor(t)))}else t===0?i=new Nt(Math.floor((e-1)/2)):n||(i=new Nt(Math.floor(t)));var o=Math.floor((e-1)/2),c=Jae(Zae(d=>i.add(new Nt(d-o).mul(r)).toNumber()),QA);return c(0,e)},$U=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var o=FU(new Nt(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new Nt(0):(c=new Nt(e).add(n).div(2),c=c.sub(new Nt(c).mod(o)));var d=Math.ceil(c.sub(e).div(o).toNumber()),f=Math.ceil(new Nt(n).sub(c).div(o).toNumber()),m=d+f+1;return m>r?$U(e,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:o,tickMin:c.sub(new Nt(d).mul(o)),tickMax:c.add(new Nt(f).mul(o))})};function tse(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,c]=zU([e,n]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...QA(0,r-1).map(()=>1/0)]:[...QA(0,r-1).map(()=>-1/0),c];return e>n?XA(d):d}if(o===c)return ese(o,r,i);var{step:f,tickMin:m,tickMax:g}=$U(o,c,a,i,0),v=UU(m,g.add(new Nt(.1).mul(f)),f);return e>n?XA(v):v}function nse(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=zU([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var c=Math.max(e,2),d=FU(new Nt(o).sub(a).div(c-1),i,0),f=[...UU(new Nt(a),new Nt(o),d),o];return i===!1&&(f=f.map(m=>Math.round(m))),n>r?XA(f):f}var rse=VU(tse),ise=VU(nse),qU=t=>t.rootProps.maxBarSize,ase=t=>t.rootProps.barGap,KU=t=>t.rootProps.barCategoryGap,sse=t=>t.rootProps.barSize,eg=t=>t.rootProps.stackOffset,FI=t=>t.options.chartName,$I=t=>t.rootProps.syncId,HU=t=>t.rootProps.syncMethod,qI=t=>t.options.eventEmitter,Pa={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Hr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},rx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ose={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pa.angleAxisId,includeHidden:!1,name:void 0,reversed:Pa.reversed,scale:Pa.scale,tick:Pa.tick,tickCount:void 0,ticks:void 0,type:Pa.type,unit:void 0},lse={allowDataOverflow:Hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hr.scale,tick:Hr.tick,tickCount:Hr.tickCount,ticks:void 0,type:Hr.type,unit:void 0},cse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},use={allowDataOverflow:Hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hr.scale,tick:Hr.tick,tickCount:Hr.tickCount,ticks:void 0,type:"category",unit:void 0},If=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?cse:ose,tg=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?use:lse,ix=t=>t.polarOptions,KI=X([Js,eo,$n],TB),GU=X([ix,KI],(t,e)=>{if(t!=null)return Sr(t.innerRadius,e,0)}),WU=X([ix,KI],(t,e)=>{if(t!=null)return Sr(t.outerRadius,e,e*.8)}),dse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},YU=X([ix],dse),fse=X([If,YU],rx),QU=X([KI,GU,WU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),hse=X([tg,QU],rx),Nf=X([Ze,ix,GU,WU,Js,eo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:c,startAngle:d,endAngle:f}=e;return{cx:Sr(o,i,i/2),cy:Sr(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),zt=(t,e)=>e,ng=(t,e,n)=>n;function ax(t){return t==null?void 0:t.id}var Kn=t=>{var e=Ze(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Pf=t=>t.tooltip.settings.axisId,ar=t=>{var e=Kn(t),n=Pf(t);return Of(t,e,n)},XU=X([ar],t=>t==null?void 0:t.dataKey);function ZU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=ax(c);f.forEach((g,v)=>{var x=a==null||i?v:String(Tt(g,a,null)),A=Tt(g,c.dataKey,0),E;o.has(x)?E=o.get(x):E={},Object.assign(E,{[m]:A}),o.set(x,E)})}}),Array.from(o.values())}function sx(t){return t.stackId!=null&&t.dataKey!=null}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return(e=pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZA=[0,"auto"],oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},JU=(t,e)=>t.cartesianAxis.xAxis[e],no=(t,e)=>{var n=JU(t,e);return n??oi},li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ZA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gp},ez=(t,e)=>t.cartesianAxis.yAxis[e],ro=(t,e)=>{var n=ez(t,e);return n??li},yse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},HI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??yse},An=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"zAxis":return HI(t,n);case"angleAxis":return If(t,n);case"radiusAxis":return tg(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vse=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Of=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"angleAxis":return If(t,n);case"radiusAxis":return tg(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tz=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function GI(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var rg=t=>t.graphicalItems.cartesianItems,bse=X([zt,ng],GI),WI=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ig=X([rg,An,bse],WI),nz=X([ig],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(sx)),rz=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),iz=X([ig],rz),YI=t=>t.map(e=>e.data).filter(Boolean).flat(1),xse=X([ig],YI),QI=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},XI=X([xse,Jp],QI),ZI=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Tt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Tt(i,r)}))):t.map(r=>({value:r})),ox=X([XI,An,ig],ZI);function az(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function uu(t){return t.filter(e=>Wa(e)||e instanceof Date).map(Number).filter(e=>Xr(e)===!1)}function _se(t,e,n){return!n||typeof e!="number"||Xr(e)?[]:n.length?uu(n.flatMap(r=>{var i=Tt(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!yr(a)||!yr(o)))return[e-a,e+o]})):[]}var wse=X([nz,Jp,ar],ZU),sz=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,c]=a,d=c.map(ax);return[o,{stackedData:Vte(t,d,n),graphicalItems:c}]}))},pp=X([wse,nz,eg],sz),oz=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=Fte(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Ese=X([pp,Sl,zt],oz),lz=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var c,d,f=(c=r[o.id])===null||c===void 0?void 0:c.filter(g=>az(i,g)),m=Tt(a,(d=e.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:m,errorDomain:_se(a,m,f)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:Tt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),lx=t=>t.errorBars,cz=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>az(n,r));X([iz,lx,zt],cz);var Ase=X([XI,An,iz,lx,zt],lz);function Tse(t){var{value:e}=t;if(Wa(e)||e instanceof Date)return e}var sM=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=uu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sse=(t,e,n)=>{var r=t.map(Tse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&_6(r))?YB(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},JI=t=>{var e;if(t==null||!("domain"in t))return ZA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=uu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:ZA},O0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},uz=t=>t.referenceElements.dots,Rf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ise=X([uz,zt,ng],Rf),dz=t=>t.referenceElements.areas,Nse=X([dz,zt,ng],Rf),fz=t=>t.referenceElements.lines,Pse=X([fz,zt,ng],Rf),hz=(t,e)=>{var n=uu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ose=X(Ise,zt,hz),mz=(t,e)=>{var n=uu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rse=X([Nse,zt],mz),pz=(t,e)=>{var n=uu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},kse=X(Pse,zt,pz),Cse=X(Ose,kse,Rse,(t,e,n)=>O0(t,n,e)),gz=X([An],JI),e2=(t,e,n,r,i,a,o)=>{var c=Hae(e,t.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=d?O0(n,i,sM(r)):O0(i,sM(r));return Gae(e,f,t.allowDataOverflow)},jse=X([An,gz,Ese,Ase,Cse,Ze,zt],e2),Dse=[0,1],t2=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:d}=t,f=sa(e,a);return f&&c==null?YB(0,n.length):d==="category"?Sse(r,t,f):i==="expand"?Dse:o}},n2=X([An,Ze,XI,ox,eg,zt,jse],t2),yz=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(qp(a));return c in vm?c:"point"}}},Il=X([An,Ze,tz,FI,zt],yz);function Mse(t){if(t!=null){if(t in vm)return vm[t]();var e="scale".concat(qp(t));if(e in vm)return vm[e]()}}function cx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Mse(e);if(i!=null){var a=i.domain(n).range(r);return Cte(a),a}}}var r2=(t,e,n)=>{var r=JI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&af(t))return rse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&af(t))return ise(t,e.tickCount,e.allowDecimals)}},i2=X([n2,Of,Il],r2),a2=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&af(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return e},Lse=X([An,n2,i2,zt],a2),Vse=X(ox,An,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(uu(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),vz=X(Vse,Ze,KU,$n,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!yr(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Sr(n,t*a),c=t*a/2;return c-o-(c-o)/a*o}return 0}),Bse=(t,e)=>{var n=no(t,e);return n==null||typeof n.padding!="string"?0:vz(t,"xAxis",e,n.padding)},Use=(t,e)=>{var n=ro(t,e);return n==null||typeof n.padding!="string"?0:vz(t,"yAxis",e,n.padding)},zse=X(no,Bse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Fse=X(ro,Use,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),$se=X([$n,zse,Wb,Gb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),qse=X([$n,Ze,Fse,Wb,Gb,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ag=(t,e,n,r)=>{var i;switch(e){case"xAxis":return $se(t,n,r);case"yAxis":return qse(t,n,r);case"zAxis":return(i=HI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return YU(t);case"radiusAxis":return QU(t,n);default:return}},bz=X([An,ag],rx),kf=X([An,Il,Lse,bz],cx);X([ig,lx,zt],cz);function xz(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ux=(t,e)=>e,dx=(t,e,n)=>n,Kse=X(Kb,ux,dx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(xz)),Hse=X(Hb,ux,dx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(xz)),_z=(t,e)=>({width:t.width,height:e.height}),Gse=(t,e)=>{var n=typeof e.width=="number"?e.width:Gp;return{width:n,height:t.height}},wz=X($n,no,_z),Wse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Yse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Qse=X(eo,$n,Kse,ux,dx,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var d=_z(e,c);o==null&&(o=Wse(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*d.height,o+=(f?-1:1)*d.height}),a}),Xse=X(Js,$n,Hse,ux,dx,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var d=Gse(e,c);o==null&&(o=Yse(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*d.width,o+=(f?-1:1)*d.width}),a}),Zse=(t,e)=>{var n=no(t,e);if(n!=null)return Qse(t,n.orientation,n.mirror)},Jse=X([$n,no,Zse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),eoe=(t,e)=>{var n=ro(t,e);if(n!=null)return Xse(t,n.orientation,n.mirror)},toe=X([$n,ro,eoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Ez=X($n,ro,(t,e)=>{var n=typeof e.width=="number"?e.width:Gp;return{width:n,height:t.height}}),oM=(t,e,n)=>{switch(e){case"xAxis":return wz(t,n).width;case"yAxis":return Ez(t,n).height;default:return}},Az=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=sa(t,r),d=e.map(f=>f.value);if(o&&c&&a==="category"&&i&&_6(d))return d}},sg=X([Ze,ox,An,zt],Az),s2=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=sa(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},o2=X([Ze,ox,Of,zt],s2),lM=X([Ze,vse,Il,kf,sg,o2,ag,i2,zt],(t,e,n,r,i,a,o,c,d)=>{if(e==null)return null;var f=sa(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}),Tz=(t,e,n,r,i,a,o,c,d)=>{if(!(e==null||r==null)){var f=sa(t,d),{type:m,ticks:g,tickCount:v}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=m==="category"&&r.bandwidth?r.bandwidth()/x:0;A=d==="angleAxis"&&a!=null&&a.length>=2?er(a[0]-a[1])*2*A:A;var E=g||i;if(E){var S=E.map((P,O)=>{var j=o?o.indexOf(P):P;return{index:O,coordinate:r(j)+A,value:P,offset:A}});return S.filter(P=>!Xr(P.coordinate))}return f&&c?c.map((P,O)=>({coordinate:r(P)+A,value:P,index:O,offset:A})):r.ticks?r.ticks(v).map(P=>({coordinate:r(P)+A,value:P,offset:A})):r.domain().map((P,O)=>({coordinate:r(P)+A,value:o?o[P]:P,index:O,offset:A}))}},Sz=X([Ze,Of,Il,kf,i2,ag,sg,o2,zt],Tz),Iz=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=sa(t,o),{tickCount:d}=e,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?er(r[0]-r[1])*2*f:f,c&&a?a.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:i?i[m]:m,index:g,offset:f}))}},Qa=X([Ze,Of,kf,ag,sg,o2,zt],Iz),Xa=X(An,kf,(t,e)=>{if(!(t==null||e==null))return P0(P0({},t),{},{scale:e})}),noe=X([An,Il,n2,bz],cx);X((t,e,n)=>HI(t,n),noe,(t,e)=>{if(!(t==null||e==null))return P0(P0({},t),{},{scale:e})});var roe=X([Ze,Kb,Hb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Nz=t=>t.options.defaultTooltipEventType,Pz=t=>t.options.validateTooltipEventTypes;function Oz(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function l2(t,e){var n=Nz(t),r=Pz(t);return Oz(e,n,r)}function ioe(t){return Te(e=>l2(e,t))}var Rz=(t,e)=>{var n,r=Number(e);if(!(Xr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},aoe=t=>t.tooltip.settings,Fo={active:!1,index:null,dataKey:void 0,coordinate:void 0},soe={itemInteraction:{click:Fo,hover:Fo},axisInteraction:{click:Fo,hover:Fo},keyboardInteraction:Fo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kz=bi({name:"tooltip",initialState:soe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ks(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ooe,removeTooltipEntrySettings:loe,setTooltipSettingsState:coe,setActiveMouseOverItemIndex:Cz,mouseLeaveItem:uoe,mouseLeaveChart:jz,setActiveClickItemIndex:doe,setMouseOverAxisIndex:Dz,setMouseClickAxisIndex:foe,setSyncInteraction:JA,setKeyboardInteraction:eT}=kz.actions,hoe=kz.reducer;function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yoe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function voe(t){return t.index!=null}var Mz=(t,e,n,r)=>{if(e==null)return Fo;var i=yoe(t,e,n);if(i==null)return Fo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(voe(i)){if(a)return iv(iv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return iv(iv({},Fo),{},{coordinate:i.coordinate})},c2=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!yr(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},Lz=(t,e,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var d=o[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},Vz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},og=t=>t.options.tooltipPayloadSearcher,Cf=t=>t.tooltip;function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=_oe(t,"string");return typeof e=="symbol"?e:e+""}function _oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){return t??e}var Bz=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,g=[];return t.reduce((v,x)=>{var A,{dataDefinedOnItem:E,settings:S}=x,P=woe(E,c),O=Array.isArray(P)?IB(P,f,m):P,j=(A=S==null?void 0:S.dataKey)!==null&&A!==void 0?A:r,M=S==null?void 0:S.nameKey,C;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?C=w6(O,r,i):C=a(O,e,d,M),Array.isArray(C))C.forEach(I=>{var k=dM(dM({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(Yj({tooltipEntrySettings:k,dataKey:I.dataKey,payload:I.payload,value:Tt(I.payload,I.dataKey),name:I.name}))});else{var V;v.push(Yj({tooltipEntrySettings:S,dataKey:j,payload:C,value:Tt(C,j),name:(V=Tt(C,M))!==null&&V!==void 0?V:S==null?void 0:S.name}))}return v},g)}},u2=X([ar,Ze,tz,FI,Kn],yz),Eoe=X([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Aoe=X([Kn,Pf],GI),lg=X([Eoe,ar,Aoe],WI),Toe=X([lg],t=>t.filter(sx)),Soe=X([lg],YI),jf=X([Soe,Sl],QI),Ioe=X([Toe,Sl,ar],ZU),d2=X([jf,ar,lg],ZI),Noe=X([ar],JI),Poe=X([lg],t=>t.filter(sx)),Ooe=X([Ioe,Poe,eg],sz),Roe=X([Ooe,Sl,Kn],oz),koe=X([lg],rz),Coe=X([jf,ar,koe,lx,Kn],lz),joe=X([uz,Kn,Pf],Rf),Doe=X([joe,Kn],hz),Moe=X([dz,Kn,Pf],Rf),Loe=X([Moe,Kn],mz),Voe=X([fz,Kn,Pf],Rf),Boe=X([Voe,Kn],pz),Uoe=X([Doe,Boe,Loe],O0),zoe=X([ar,Noe,Roe,Coe,Uoe,Ze,Kn],e2),Uz=X([ar,Ze,jf,d2,eg,Kn,zoe],t2),Foe=X([Uz,ar,u2],r2),$oe=X([ar,Uz,Foe,Kn],a2),zz=t=>{var e=Kn(t),n=Pf(t),r=!1;return ag(t,e,n,r)},Fz=X([ar,zz],rx),$z=X([ar,u2,$oe,Fz],cx),qoe=X([Ze,d2,ar,Kn],Az),Koe=X([Ze,d2,ar,Kn],s2),Hoe=(t,e,n,r,i,a,o,c)=>{if(e){var{type:d}=e,f=sa(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?er(i[0]-i[1])*2*g:g,f&&o?o.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:a?a[v]:v,index:x,offset:g}))}}},io=X([Ze,ar,u2,$z,zz,qoe,Koe,Kn],Hoe),f2=X([Nz,Pz,aoe],(t,e,n)=>Oz(n.shared,t,e)),qz=t=>t.tooltip.settings.trigger,h2=t=>t.tooltip.settings.defaultIndex,fx=X([Cf,f2,qz,h2],Mz),ul=X([fx,jf],c2),Kz=X([io,ul],Rz),Hz=X([fx],t=>{if(t)return t.dataKey}),Gz=X([Cf,f2,qz,h2],Vz),Goe=X([Js,eo,Ze,$n,io,h2,Gz,og],Lz),Woe=X([fx,Goe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Yoe=X([fx],t=>t.active),Qoe=X([Gz,ul,Sl,XU,Kz,og,f2],Bz),Xoe=X([Qoe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tle=()=>Te(ar),nle=()=>{var t=tle(),e=Te(io),n=Te($z);return Fs(hM(hM({},t),{},{scale:n}),e)},Wz=()=>Te(FI),m2=(t,e)=>e,Yz=(t,e,n)=>n,p2=(t,e,n,r)=>r,rle=X(io,t=>Bb(t,e=>e.coordinate)),g2=X([Cf,m2,Yz,p2],Mz),Qz=X([g2,jf],c2),ile=(t,e,n)=>{if(e!=null){var r=Cf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Xz=X([Cf,m2,Yz,p2],Vz),R0=X([Js,eo,Ze,$n,io,p2,Xz,og],Lz),ale=X([g2,R0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Zz=X(io,Qz,Rz),sle=X([Xz,Qz,Sl,XU,Zz,og,m2],Bz),ole=X([g2],t=>({isActive:t.active,activeIndex:t.index})),lle=(t,e,n,r,i,a,o,c)=>{if(!(!t||!e||!r||!i||!a)){var d=$te(t.chartX,t.chartY,e,n,c);if(d){var f=Kte(d,e),m=Rte(f,o,a,r,i),g=qte(e,a,m,d);return{activeIndex:String(m),activeCoordinate:g}}}};function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tT.apply(null,arguments)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return(e=ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ule(t){var e=dle(t,"string");return typeof e=="symbol"?e:e+""}function dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fle(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:d,chartName:f}=t,m=e,g=n,v=r;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,A;if(f==="ScatterChart")x=m,A=kne;else if(f==="BarChart")x=Cne(o,m,i,a),A=KB;else if(o==="radial"){var{cx:E,cy:S,radius:P,startAngle:O,endAngle:j}=HB(m);x={cx:E,cy:S,startAngle:O,endAngle:j,innerRadius:P,outerRadius:P},A=WB}else x={points:fre(o,m,i)},A=Sd;var M=typeof c=="object"&&"className"in c?c.className:void 0,C=av(av(av(av({stroke:"#ccc",pointerEvents:"none"},i),x),lt(c,!1)),{},{payload:g,payloadIndex:v,className:Qe("recharts-tooltip-cursor",M)});return w.isValidElement(c)?w.cloneElement(c,C):w.createElement(A,C)}function hle(t){var e=nle(),n=jB(),r=Wp(),i=Wz();return w.createElement(fle,tT({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Jz=w.createContext(null),mle=()=>w.useContext(Jz),oE={exports:{}},pM;function ple(){return pM||(pM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,g||d,v),A=n?n+f:f;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],x]:d._events[A].push(x):(d._events[A]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,A=new Array(x);v<x;v++)A[v]=g[v].fn;return A},c.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,m,g,v,x,A){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],P=arguments.length,O,j;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),P){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,g),!0;case 4:return S.fn.call(S.context,m,g,v),!0;case 5:return S.fn.call(S.context,m,g,v,x),!0;case 6:return S.fn.call(S.context,m,g,v,x,A),!0}for(j=1,O=new Array(P-1);j<P;j++)O[j-1]=arguments[j];S.fn.apply(S.context,O)}else{var M=S.length,C;for(j=0;j<M;j++)switch(S[j].once&&this.removeListener(f,S[j].fn,void 0,!0),P){case 1:S[j].fn.call(S[j].context);break;case 2:S[j].fn.call(S[j].context,m);break;case 3:S[j].fn.call(S[j].context,m,g);break;case 4:S[j].fn.call(S[j].context,m,g,v);break;default:if(!O)for(C=1,O=new Array(P-1);C<P;C++)O[C-1]=arguments[C];S[j].fn.apply(S[j].context,O)}}return!0},c.prototype.on=function(f,m,g){return a(this,f,m,g,!1)},c.prototype.once=function(f,m,g){return a(this,f,m,g,!0)},c.prototype.removeListener=function(f,m,g,v){var x=n?n+f:f;if(!this._events[x])return this;if(!m)return o(this,x),this;var A=this._events[x];if(A.fn)A.fn===m&&(!v||A.once)&&(!g||A.context===g)&&o(this,x);else{for(var E=0,S=[],P=A.length;E<P;E++)(A[E].fn!==m||v&&!A[E].once||g&&A[E].context!==g)&&S.push(A[E]);S.length?this._events[x]=S.length===1?S[0]:S:o(this,x)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(oE)),oE.exports}var gle=ple();const yle=Fi(gle);var gp=new yle,nT="recharts.syncEvent.tooltip",gM="recharts.syncEvent.brush";function cg(t,e){if(e){var n=Number.parseInt(e,10);if(!Xr(n))return t==null?void 0:t[n]}}var vle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},e9=bi({name:"options",initialState:vle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ble=e9.reducer,{createEventEmitter:xle}=e9.actions;function _le(t){return t.tooltip.syncInteraction}var wle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},t9=bi({name:"chartData",initialState:wle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:yM,setDataStartEndIndexes:Ele,setComputedData:Qve}=t9.actions,Ale=t9.reducer,Tle=["x","y"];function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Nle(t,"string");return typeof e=="symbol"?e:e+""}function Nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){if(t==null)return{};var n,r,i=Ole(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ole(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n9=()=>{};function Rle(){var t=Te($I),e=Te(qI),n=un(),r=Te(HU),i=Te(io),a=Wp(),o=gI(),c=Te(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return n9;var d=(f,m,g)=>{if(e!==g&&t===f){if(r==="index"){var v;if(o&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate){var x=m.payload.coordinate,{x:A,y:E}=x,S=Ple(x,Tle),P=cc(cc(cc({},S),typeof A=="number"&&{x:Math.max(o.x,Math.min(A,o.x+o.width))}),typeof E=="number"&&{y:Math.max(o.y,Math.min(E,o.y+o.height))}),O=cc(cc({},m),{},{payload:cc(cc({},m.payload),{},{coordinate:P})});n(O)}else n(m);return}if(i!=null){var j;if(typeof r=="function"){var M={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},C=r(i,M);j=i[C]}else r==="value"&&(j=i.find(U=>String(U.value)===m.payload.label));var{coordinate:V}=m.payload;if(j==null||m.payload.active===!1||V==null||o==null){n(JA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:k}=V,D=Math.min(I,o.x+o.width),B=Math.min(k,o.y+o.height),F={x:a==="horizontal"?j.coordinate:D,y:a==="horizontal"?B:j.coordinate},$=JA({active:m.payload.active,coordinate:F,dataKey:m.payload.dataKey,index:String(j.index),label:m.payload.label});n($)}}};return gp.on(nT,d),()=>{gp.off(nT,d)}},[c,n,e,t,r,i,a,o])}function kle(){var t=Te($I),e=Te(qI),n=un();w.useEffect(()=>{if(t==null)return n9;var r=(i,a,o)=>{e!==o&&t===i&&n(Ele(a))};return gp.on(gM,r),()=>{gp.off(gM,r)}},[n,e,t])}function Cle(){var t=un();w.useEffect(()=>{t(xle())},[t]),Rle(),kle()}function jle(t,e,n,r,i,a){var o=Te(v=>ile(v,t,e)),c=Te(qI),d=Te($I),f=Te(HU),m=Te(_le),g=m==null?void 0:m.active;w.useEffect(()=>{if(!g&&d!=null&&c!=null){var v=JA({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});gp.emit(nT,d,v,c)}},[g,n,o,i,r,c,d,f,a])}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vle(t){return t.dataKey}function Ble(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(une,e)}var _M=[],Ule={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ja.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function za(t){var e=jn(t,Ule),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:m,position:g,reverseDirection:v,useTranslate3d:x,wrapperStyle:A,cursor:E,shared:S,trigger:P,defaultIndex:O,portal:j,axisId:M}=e,C=un(),V=typeof O=="number"?String(O):O;w.useEffect(()=>{C(coe({shared:S,trigger:P,axisId:M,active:n,defaultIndex:V}))},[C,S,P,M,n,V]);var I=gI(),k=UB(),D=ioe(S),{activeIndex:B,isActive:F}=Te(je=>ole(je,D,P,V)),$=Te(je=>sle(je,D,P,V)),U=Te(je=>Zz(je,D,P,V)),he=Te(je=>ale(je,D,P,V)),ve=$,G=mle(),ne=n??F,[ge,Ie]=_ee([ve,ne]),K=D==="axis"?U:void 0;jle(D,P,he,K,B,ne);var oe=j??G;if(oe==null)return null;var ae=ve??_M;ne||(ae=_M),c&&ae.length&&(ae=GJ(ve.filter(je=>je.value!=null&&(je.hide!==!0||e.includeHidden)),m,Vle));var fe=ae.length>0,Ne=w.createElement(yne,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:ne,coordinate:he,hasPayload:fe,offset:f,position:g,reverseDirection:v,useTranslate3d:x,viewBox:I,wrapperStyle:A,lastBoundingBox:ge,innerRef:Ie,hasPortalFromProps:!!j},Ble(o,xM(xM({},e),{},{payload:ae,label:K,active:ne,coordinate:he,accessibilityLayer:k})));return w.createElement(w.Fragment,null,VZ.createPortal(Ne,oe),ne&&w.createElement(hle,{cursor:E,tooltipEventType:D,coordinate:he,payload:ve,index:B}))}var lE={},cE={},uE={},wM;function zle(){return wM||(wM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},g=()=>{f&&m(),E()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},A=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{A(),o=void 0,c=null},S=()=>{m()},P=function(...O){if(i!=null&&i.aborted)return;o=this,c=O;const j=v==null;x(),d&&j&&m()};return P.schedule=x,P.cancel=E,P.flush=S,i==null||i.addEventListener("abort",E,{once:!0}),P}t.debounce=e})(uE)),uE}var EM;function Fle(){return EM||(EM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zle();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,g=null;const v=e.debounce(function(...E){m=r.apply(this,E),g=null},i,{edges:f}),x=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=r.apply(this,E),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,E),m)},A=()=>(v.flush(),m);return x.cancel=v.cancel,x.flush=A,x}t.debounce=n})(cE)),cE}var AM;function $le(){return AM||(AM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fle();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:c})}t.throttle=n})(lE)),lE}var dE,TM;function qle(){return TM||(TM=1,dE=$le().throttle),dE}var Kle=qle();const Hle=Fi(Kle);var jm=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:g,className:v,onResize:x,style:A={}}=t,E=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(e,()=>E.current);var[P,O]=w.useState({containerWidth:r.width,containerHeight:r.height}),j=w.useCallback((C,V)=>{O(I=>{var k=Math.round(C),D=Math.round(V);return I.containerWidth===k&&I.containerHeight===D?I:{containerWidth:k,containerHeight:D}})},[]);w.useEffect(()=>{var C=D=>{var B,{width:F,height:$}=D[0].contentRect;j(F,$),(B=S.current)===null||B===void 0||B.call(S,F,$)};m>0&&(C=Hle(C,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(C),{width:I,height:k}=E.current.getBoundingClientRect();return j(I,k),V.observe(E.current),()=>{V.disconnect()}},[j,m]);var M=w.useMemo(()=>{var{containerWidth:C,containerHeight:V}=P;if(C<0||V<0)return null;jm(Tc(i)||Tc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),jm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=Tc(i)?C:i,k=Tc(a)?V:a;return n&&n>0&&(I?k=I/n:k&&(I=k*n),d&&k>d&&(k=d)),jm(I>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,k,i,a,o,c,n),w.Children.map(f,D=>w.cloneElement(D,{width:I,height:k,style:fE({width:I,height:k},D.props.style)}))},[n,f,a,d,c,o,P,i]);return w.createElement("div",{id:g?"".concat(g):void 0,className:Qe("recharts-responsive-container",v),style:fE(fE({},A),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:d}),ref:E},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},M))}),du=t=>null;du.displayName="Cell";function Qle(t,e,n){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jle{constructor(e){Qle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ece(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return(e=nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return typeof e=="symbol"?e:e+""}function rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ice={cacheSize:2e3,enableCache:!0},r9=ece({},ice),NM=new Jle(r9.cacheSize),ace={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PM="recharts_measurement_span";function sce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var OM=(t,e)=>{try{var n=document.getElementById(PM);n||(n=document.createElement("span"),n.setAttribute("id",PM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ace,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Dm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ja.isSsr)return{width:0,height:0};if(!r9.enableCache)return OM(e,n);var r=sce(e,n),i=NM.get(r);if(i)return i;var a=OM(e,n);return NM.set(r,a),a},RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cce=Object.keys(i9),yd="NaN";function uce(t,e){return t*i9[e]}class qr{static parse(e){var n,[,r,i]=(n=lce.exec(e))!==null&&n!==void 0?n:[];return new qr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xr(e)&&(this.unit=""),n!==""&&!oce.test(n)&&(this.num=NaN,this.unit=""),cce.includes(n)&&(this.num=uce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xr(this.num)}}function a9(t){if(t.includes(yd))return yd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=RM.exec(e))!==null&&n!==void 0?n:[],o=qr.parse(r??""),c=qr.parse(a??""),d=i==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return yd;e=e.replace(RM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,g,v]=(f=kM.exec(e))!==null&&f!==void 0?f:[],x=qr.parse(m??""),A=qr.parse(v??""),E=g==="+"?x.add(A):x.subtract(A);if(E.isNaN())return yd;e=e.replace(kM,E.toString())}return e}var CM=/\(([^()]*)\)/;function dce(t){for(var e=t,n;(n=CM.exec(e))!=null;){var[,r]=n;e=e.replace(CM,a9(r))}return e}function fce(t){var e=t.replace(/\s+/g,"");return e=dce(e),e=a9(e),e}function hce(t){try{return fce(t)}catch{return yd}}function hE(t){var e=hce(t.slice(5,-1));return e===yd?"":e}var mce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pce=["dx","dy","angle","className","breakAll"];function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(null,arguments)}function jM(t,e){if(t==null)return{};var n,r,i=gce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s9=/[ \f\n\r\t\v\u2028\u2029]+/,o9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ut(e)||(n?i=e.toString().split(""):i=e.toString().split(s9));var a=i.map(c=>({word:c,width:Dm(c,r).width})),o=n?0:Dm(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},yce=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:d}=t,f=ke(a),m=o,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(($,U)=>{var{word:he,width:ve}=U,G=$[$.length-1];if(G&&(r==null||i||G.width+ve+n<Number(r)))G.words.push(he),G.width+=ve+n;else{var ne={words:[he],width:ve};$.push(ne)}return $},[])},v=g(e),x=B=>B.reduce((F,$)=>F.width>$.width?F:$);if(!f||i)return v;var A=v.length>a||x(v).width>Number(r);if(!A)return v;for(var E="…",S=B=>{var F=m.slice(0,B),$=o9({breakAll:d,style:c,children:F+E}).wordsWithComputedWidth,U=g($),he=U.length>a||x(U).width>Number(r);return[he,U]},P=0,O=m.length-1,j=0,M;P<=O&&j<=m.length-1;){var C=Math.floor((P+O)/2),V=C-1,[I,k]=S(V),[D]=S(C);if(!I&&!D&&(P=C+1),I&&D&&(O=C-1),!I&&D){M=k;break}j++}return M||v},DM=t=>{var e=Ut(t)?[]:t.toString().split(s9);return[{words:e}]},vce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Ja.isSsr){var c,d,f=o9({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;c=m,d=g}else return DM(r);return yce({breakAll:a,children:r,maxLines:o,style:i},c,d,e,n)}return DM(r)},MM="#808080",Df=w.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=MM}=t,m=jM(t,mce),g=w.useMemo(()=>vce({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:v,dy:x,angle:A,className:E,breakAll:S}=m,P=jM(m,pce);if(!Wa(n)||!Wa(r)||g.length===0)return null;var O=n+(ke(v)?v:0),j=r+(ke(x)?x:0),M;switch(d){case"start":M=hE("calc(".concat(a,")"));break;case"middle":M=hE("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:M=hE("calc(".concat(g.length-1," * -").concat(i,")"));break}var C=[];if(o){var V=g[0].width,{width:I}=m;C.push("scale(".concat(ke(I)?I/V:1,")"))}return A&&C.push("rotate(".concat(A,", ").concat(O,", ").concat(j,")")),C.length&&(P.transform=C.join(" ")),w.createElement("text",rT({},lt(P,!0),{ref:e,x:O,y:j,className:Qe("recharts-text",E),textAnchor:c,fill:f.includes("url")?MM:f}),g.map((k,D)=>{var B=k.words.join(S?"":" ");return w.createElement("tspan",{x:O,dy:D===0?M:i,key:"".concat(B,"-").concat(D)},B)}))});Df.displayName="Text";var bce=["labelRef"];function xce(t,e){if(t==null)return{};var n,r,i=_ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Ace(t,"string");return typeof e=="symbol"?e:e+""}function Ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(null,arguments)}var l9=w.createContext(null),Tce=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=w.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return w.createElement(l9.Provider,{value:o},a)},c9=()=>{var t=w.useContext(l9),e=gI();return t||e},u9=w.createContext(null),Sce=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:c,children:d}=t,f=w.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:c}),[e,n,r,i,a,o,c]);return w.createElement(u9.Provider,{value:f},d)},d9=()=>{var t=w.useContext(u9),e=Te(Nf);return t||e},Ice=t=>{var{value:e,formatter:n}=t,r=Ut(t.children)?e:t.children;return typeof n=="function"?n(r):r},y2=t=>t!=null&&typeof t=="function",Nce=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Pce=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:v,clockWise:x}=i,A=(f+m)/2,E=Nce(g,v),S=E>=0?1:-1,P,O;switch(e){case"insideStart":P=g+S*a,O=x;break;case"insideEnd":P=v-S*a,O=!x;break;case"end":P=v+S*a,O=x;break;default:throw new Error("Unsupported position ".concat(e))}O=E<=0?O:!O;var j=wt(c,d,A,P),M=wt(c,d,A,P+(O?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(O?0:1,`,
    `).concat(M.x,",").concat(M.y),V=Ut(t.id)?sp("recharts-radial-line-"):t.id;return w.createElement("text",Ts({},r,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:V,d:C})),w.createElement("textPath",{xlinkHref:"#".concat(V)},n))},Oce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:g}=wt(r,i,o+e,f);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x,y:A}=wt(r,i,v,f);return{x,y:A,textAnchor:"middle",verticalAnchor:"middle"}},f9=t=>"cx"in t&&ke(t.cx),Rce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!f9(n)&&(a=n);var{x:o,y:c,width:d,height:f}=e,m=f>=0?1:-1,g=m*r,v=m>0?"end":"start",x=m>0?"start":"end",A=d>=0?1:-1,E=A*r,S=A>0?"end":"start",P=A>0?"start":"end";if(i==="top"){var O={x:o+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:v};return xn(xn({},O),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var j={x:o+d/2,y:c+f+g,textAnchor:"middle",verticalAnchor:x};return xn(xn({},j),a?{height:Math.max(a.y+a.height-(c+f),0),width:d}:{})}if(i==="left"){var M={x:o-E,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return xn(xn({},M),a?{width:Math.max(M.x-a.x,0),height:f}:{})}if(i==="right"){var C={x:o+d+E,y:c+f/2,textAnchor:P,verticalAnchor:"middle"};return xn(xn({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:f}:{})}var V=a?{width:d,height:f}:{};return i==="insideLeft"?xn({x:o+E,y:c+f/2,textAnchor:P,verticalAnchor:"middle"},V):i==="insideRight"?xn({x:o+d-E,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},V):i==="insideTop"?xn({x:o+d/2,y:c+g,textAnchor:"middle",verticalAnchor:x},V):i==="insideBottom"?xn({x:o+d/2,y:c+f-g,textAnchor:"middle",verticalAnchor:v},V):i==="insideTopLeft"?xn({x:o+E,y:c+g,textAnchor:P,verticalAnchor:x},V):i==="insideTopRight"?xn({x:o+d-E,y:c+g,textAnchor:S,verticalAnchor:x},V):i==="insideBottomLeft"?xn({x:o+E,y:c+f-g,textAnchor:P,verticalAnchor:v},V):i==="insideBottomRight"?xn({x:o+d-E,y:c+f-g,textAnchor:S,verticalAnchor:v},V):i&&typeof i=="object"&&(ke(i.x)||Tc(i.x))&&(ke(i.y)||Tc(i.y))?xn({x:o+Sr(i.x,d),y:c+Sr(i.y,f),textAnchor:"end",verticalAnchor:"end"},V):xn({x:o+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},V)},kce={offset:5};function Uo(t){var e=jn(t,kce),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:d,labelRef:f}=e,m=d9(),g=c9(),v=r==="center"?g:m??g,x=n||v;if(!x||Ut(i)&&Ut(a)&&!w.isValidElement(o)&&typeof o!="function")return null;var A=xn(xn({},e),{},{viewBox:x});if(w.isValidElement(o)){var{labelRef:E}=A,S=xce(A,bce);return w.cloneElement(o,S)}var P;if(typeof o=="function"){if(P=w.createElement(o,A),w.isValidElement(P))return P}else P=Ice(e);var O=f9(x),j=lt(e,!0);if(O&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Pce(e,r,P,j,x);var M=O?Oce(x,e.offset,e.position):Rce(e,x);return w.createElement(Df,Ts({ref:f,className:Qe("recharts-label",c)},j,M,{breakAll:d}),P)}Uo.displayName="Label";var h9=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Uo,Ts({key:"label-implicit"},r)):Wa(t)?w.createElement(Uo,Ts({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Uo?w.cloneElement(t,xn({key:"label-implicit"},r)):w.createElement(Uo,Ts({key:"label-implicit",content:t},r)):y2(t)?w.createElement(Uo,Ts({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Uo,Ts({},t,{key:"label-implicit"},r)):null};function Cce(t){var{label:e}=t,n=c9();return h9(e,n)||null}function jce(t){var{label:e}=t,n=d9();return h9(e,n)||null}var mE={},pE={},VM;function Dce(){return VM||(VM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(pE)),pE}var gE={},BM;function Mce(){return BM||(BM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(gE)),gE}var UM;function Lce(){return UM||(UM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dce(),n=Mce(),r=sI();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(mE)),mE}var yE,zM;function Vce(){return zM||(zM=1,yE=Lce().last),yE}var Bce=Vce();const m9=Fi(Bce);var Uce=["valueAccessor"],zce=["dataKey","clockWise","id","textBreakAll"];function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(null,arguments)}function FM(t,e){if(t==null)return{};var n,r,i=Fce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ce=t=>Array.isArray(t.value)?m9(t.value):t.value,p9=w.createContext(void 0),hx=p9.Provider,g9=w.createContext(void 0),qce=g9.Provider;function Kce(){return w.useContext(p9)}function Hce(){return w.useContext(g9)}function Iv(t){var{valueAccessor:e=$ce}=t,n=FM(t,Uce),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,c=FM(n,zce),d=Kce(),f=Hce(),m=d||f;return!m||!m.length?null:w.createElement(Et,{className:"recharts-label-list"},m.map((g,v)=>{var x,A=Ut(r)?e(g,v):Tt(g&&g.payload,r),E=Ut(a)?{}:{id:"".concat(a,"-").concat(v)};return w.createElement(Uo,k0({},lt(g,!0),c,E,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:o,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}Iv.displayName="LabelList";function ug(t){var{label:e}=t;return e?e===!0?w.createElement(Iv,{key:"labelList-implicit"}):w.isValidElement(e)||y2(e)?w.createElement(Iv,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Iv,k0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Gce=["points","className","baseLinePoints","connectNulls"];function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(null,arguments)}function Wce(t,e){if(t==null)return{};var n,r,i=Yce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $M=t=>t&&t.x===+t.x&&t.y===+t.y,Qce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{$M(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),$M(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Mm=(t,e)=>{var n=Qce(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,c)=>"".concat(a).concat(c===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},Xce=(t,e,n)=>{var r=Mm(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Mm(Array.from(e).reverse(),n).slice(1))},y9=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=Wce(t,Gce);if(!e||!e.length)return null;var o=Qe("recharts-polygon",n);if(r&&r.length){var c=a.stroke&&a.stroke!=="none",d=Xce(e,r,i);return w.createElement("g",{className:o},w.createElement("path",vd({},lt(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),c?w.createElement("path",vd({},lt(a,!0),{fill:"none",d:Mm(e,i)})):null,c?w.createElement("path",vd({},lt(a,!0),{fill:"none",d:Mm(r,i)})):null)}var f=Mm(e,i);return w.createElement("path",vd({},lt(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",className:o,d:f}))};function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iT.apply(null,arguments)}var dg=t=>{var{cx:e,cy:n,r,className:i}=t,a=Qe("recharts-dot",i);return e===+e&&n===+n&&r===+r?w.createElement("circle",iT({},Cn(t),tI(t),{className:a,cx:e,cy:n,r})):null},v2=t=>t.graphicalItems.polarItems,Zce=X([zt,ng],GI),b2=X([v2,An,Zce],WI),Jce=X([b2],YI),x2=X([Jce,tx],QI),v9=X([x2,An,b2],ZI),eue=X([x2,An,b2],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=Tt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Tt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),qM=()=>{},tue=X([An,gz,qM,eue,qM,Ze,zt],e2),b9=X([An,Ze,x2,v9,eg,zt,tue],t2),x9=X([b9,An,Il],r2),nue=X([An,b9,x9,zt],a2),_2=(t,e,n)=>{switch(e){case"angleAxis":return If(t,n);case"radiusAxis":return tg(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},w2=(t,e,n)=>{switch(e){case"angleAxis":return fse(t,n);case"radiusAxis":return hse(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Mf=X([_2,Il,nue,w2],cx),_9=X([Ze,v9,Of,zt],s2),Lf=X([Ze,_2,Il,Mf,x9,w2,sg,_9,zt],Tz);X([Ze,_2,Mf,w2,sg,_9,zt],Iz);var rue=(t,e)=>Lf(t,"angleAxis",e,!1),iue=X([rue],t=>{if(t)return t.map(e=>e.coordinate)}),aue=(t,e)=>Lf(t,"radiusAxis",e,!1),sue=X([aue],t=>{if(t)return t.map(e=>e.coordinate)}),oue=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function lue(t,e){if(t==null)return{};var n,r,i=cue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(null,arguments)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return(e=due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=fue(t,"string");return typeof e=="symbol"?e:e+""}function fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hue=(t,e,n,r)=>{var i="";return r.forEach((a,o)=>{var c=wt(e,n,t,a);o?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},mue=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var c=mx({stroke:"#ccc"},Cn(t));return w.createElement("g",{className:"recharts-polar-grid-angle"},a.map(d=>{var f=wt(e,n,r,d),m=wt(e,n,i,d);return w.createElement("line",ea({},c,{key:"line-".concat(d),x1:f.x,y1:f.y,x2:m.x,y2:m.y}))}))},HM=t=>{var{cx:e,cy:n,radius:r}=t,i=mx({stroke:"#ccc",fill:"none"},Cn(t));return w.createElement("circle",ea({},i,{className:Qe("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},GM=t=>{var{radius:e}=t,n=mx({stroke:"#ccc",fill:"none"},Cn(t));return w.createElement("path",ea({},n,{className:Qe("recharts-polar-grid-concentric-polygon",t.className),d:hue(e,t.cx,t.cy,t.polarAngles)}))},pue=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return w.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&w.createElement(HM,ea({},t,{radius:r})),i&&n!=="circle"&&w.createElement(GM,ea({},t,{radius:r})),e.map((a,o)=>{var c=o;return n==="circle"?w.createElement(HM,ea({key:c},t,{fill:"none",radius:a})):w.createElement(GM,ea({key:c},t,{fill:"none",radius:a}))}))},w9=t=>{var e,n,r,i,a,o,c,d,{gridType:f="polygon",radialLines:m=!0,angleAxisId:g=0,radiusAxisId:v=0,cx:x,cy:A,innerRadius:E,outerRadius:S}=t,P=lue(t,oue),O=Te(Nf),j=mx({cx:(e=(n=O==null?void 0:O.cx)!==null&&n!==void 0?n:x)!==null&&e!==void 0?e:0,cy:(r=(i=O==null?void 0:O.cy)!==null&&i!==void 0?i:A)!==null&&r!==void 0?r:0,innerRadius:(a=(o=O==null?void 0:O.innerRadius)!==null&&o!==void 0?o:E)!==null&&a!==void 0?a:0,outerRadius:(c=(d=O==null?void 0:O.outerRadius)!==null&&d!==void 0?d:S)!==null&&c!==void 0?c:0},P),{polarAngles:M,polarRadius:C,outerRadius:V}=j,I=Te(F=>iue(F,g)),k=Te(F=>sue(F,v)),D=Array.isArray(M)?M:I,B=Array.isArray(C)?C:k;return V<=0||D==null||B==null?null:w.createElement("g",{className:"recharts-polar-grid"},w.createElement(pue,ea({gridType:f,radialLines:m},j,{polarAngles:D,polarRadius:B})),w.createElement(mue,ea({gridType:f,radialLines:m},j,{polarAngles:D,polarRadius:B})))};w9.displayName="PolarGrid";var vE={},bE={},WM;function gue(){return WM||(WM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const c=n[o],d=r(c);d>a&&(a=d,i=c)}return i}t.maxBy=e})(bE)),bE}var YM;function yue(){return YM||(YM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gue(),n=Vb(),r=lI();function i(a,o){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(o??n.identity))}t.maxBy=i})(vE)),vE}var xE,QM;function vue(){return QM||(QM=1,xE=yue().maxBy),xE}var bue=vue();const xue=Fi(bue);var _E={},wE={},XM;function _ue(){return XM||(XM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const c=n[o],d=r(c);d<a&&(a=d,i=c)}return i}t.minBy=e})(wE)),wE}var ZM;function wue(){return ZM||(ZM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ue(),n=Vb(),r=lI();function i(a,o){if(a!=null)return e.minBy(Array.from(a),r.iteratee(o??n.identity))}t.minBy=i})(_E)),_E}var EE,JM;function Eue(){return JM||(JM=1,EE=wue().minBy),EE}var Aue=Eue();const Tue=Fi(Aue);var Sue={radiusAxis:{},angleAxis:{}},E9=bi({name:"polarAxis",initialState:Sue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Iue,removeRadiusAxis:Nue,addAngleAxis:Pue,removeAngleAxis:Oue}=E9.actions,Rue=E9.reducer,kue=["cx","cy","angle","axisLine"],Cue=["angle","tickFormatter","stroke","tick"];function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(null,arguments)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function px(t,e,n){return(e=jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jue(t){var e=Due(t,"string");return typeof e=="symbol"?e:e+""}function Due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A9(t,e){if(t==null)return{};var n,r,i=Mue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T9="radiusAxis";function Lue(t){var e=un();return w.useEffect(()=>(e(Iue(t)),()=>{e(Nue(t))})),null}var Vue=(t,e,n,r)=>{var{coordinate:i}=t;return wt(n,r,i,e)},Bue=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},Uue=(t,e,n,r)=>{var i=xue(r,o=>o.coordinate||0),a=Tue(r,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},zue=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,o=A9(t,kue),c=e.reduce((g,v)=>[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)],[1/0,-1/0]),d=wt(n,r,c[0],i),f=wt(n,r,c[1],i),m=Ma(Ma(Ma({},Cn(o)),{},{fill:"none"},lt(a,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return w.createElement("line",yp({className:"recharts-polar-radius-axis-line"},m))},Fue=(t,e,n)=>{var r;return w.isValidElement(t)?r=w.cloneElement(t,e):typeof t=="function"?r=t(e):r=w.createElement(Df,yp({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},$ue=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,o=A9(t,Cue),c=Bue(t.orientation),d=Cn(o),f=lt(a,!1),m=e.map((g,v)=>{var x=Vue(g,t.angle,t.cx,t.cy),A=Ma(Ma(Ma(Ma({textAnchor:c,transform:"rotate(".concat(90-n,", ").concat(x.x,", ").concat(x.y,")")},d),{},{stroke:"none",fill:i},f),{},{index:v},x),{},{payload:g});return w.createElement(Et,yp({className:Qe("recharts-polar-radius-axis-tick",SB(a)),key:"tick-".concat(g.coordinate)},Ef(t,g,v)),Fue(a,A,r?r(g.value,v):g.value))});return w.createElement(Et,{className:"recharts-polar-radius-axis-ticks"},m)},que=t=>{var{radiusAxisId:e}=t,n=Te(Nf),r=Te(d=>Mf(d,"radiusAxis",e)),i=Te(d=>Lf(d,"radiusAxis",e,!1));if(n==null||!i||!i.length)return null;var a=Ma(Ma(Ma({},t),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:c}=a;return w.createElement(Et,{className:Qe("recharts-polar-radius-axis",T9,a.className)},c&&zue(a,i),o&&$ue(a,i),w.createElement(Sce,Uue(a.angle,a.cx,a.cy,i),w.createElement(jce,{label:a.label}),a.children))};class gx extends w.PureComponent{render(){return w.createElement(w.Fragment,null,w.createElement(Lue,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),w.createElement(que,this.props))}}px(gx,"displayName","PolarRadiusAxis");px(gx,"axisType",T9);px(gx,"defaultProps",Hr);var Kue=["children"];function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(null,arguments)}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yx(t,e,n){return(e=Hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wue(t,e){if(t==null)return{};var n,r,i=Yue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n4=1e-5,Que=Math.cos(m0(45)),S9="angleAxis";function Xue(t){var e=un(),n=w.useMemo(()=>{var{children:a}=t,o=Wue(t,Kue);return o},[t]),r=Te(a=>If(a,n.id)),i=n===r;return w.useEffect(()=>(e(Pue(n)),()=>{e(Oue(n))}),[e,n]),i?t.children:null}var Zue=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=e,c=o||8,d=wt(n,r,i,t.coordinate),f=wt(n,r,i+(a==="inner"?-1:1)*c,t.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}},Jue=(t,e)=>{var n=Math.cos(m0(-t.coordinate));return n>n4?e==="outer"?"start":"end":n<-n4?e==="outer"?"end":"start":"middle"},ede=t=>{var e=Math.cos(m0(-t.coordinate)),n=Math.sin(m0(-t.coordinate));return Math.abs(e)<=Que?n>0?"start":"end":"middle"},tde=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var c=Oa(Oa({},Cn(t)),{},{fill:"none"},lt(a,!1));if(i==="circle")return w.createElement(dg,Hs({className:"recharts-polar-angle-axis-line"},c,{cx:e,cy:n,r}));var d=o.map(f=>wt(e,n,r,f.coordinate));return w.createElement(y9,Hs({className:"recharts-polar-angle-axis-line"},c,{points:d}))},nde=t=>{var{tick:e,tickProps:n,value:r}=t;return e?w.isValidElement(e)?w.cloneElement(e,n):typeof e=="function"?e(n):w.createElement(Df,Hs({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},rde=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,o=Cn(t),c=lt(e,!1),d=Oa(Oa({},o),{},{fill:"none"},lt(n,!1)),f=a.map((m,g)=>{var v=Zue(m,t),x=Jue(m,t.orientation),A=ede(m),E=Oa(Oa(Oa({},o),{},{textAnchor:x,verticalAnchor:A,stroke:"none",fill:i},c),{},{index:g,payload:m,x:v.x2,y:v.y2});return w.createElement(Et,Hs({className:Qe("recharts-polar-angle-axis-tick",SB(e)),key:"tick-".concat(m.coordinate)},Ef(t,m,g)),n&&w.createElement("line",Hs({className:"recharts-polar-angle-axis-tick-line"},d,v)),w.createElement(nde,{tick:e,tickProps:E,value:r?r(m.value,g):m.value}))});return w.createElement(Et,{className:"recharts-polar-angle-axis-ticks"},f)},ide=t=>{var{angleAxisId:e}=t,n=Te(Nf),r=Te(c=>Mf(c,"angleAxis",e)),i=rr(),a=Te(c=>Lf(c,"angleAxis",e,i));if(n==null||!a||!a.length)return null;var o=Oa(Oa(Oa({},t),{},{scale:r},n),{},{radius:n.outerRadius});return w.createElement(Et,{className:Qe("recharts-polar-angle-axis",S9,o.className)},w.createElement(tde,Hs({},o,{ticks:a})),w.createElement(rde,Hs({},o,{ticks:a})))};class vx extends w.PureComponent{render(){return this.props.radius<=0?null:w.createElement(Xue,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},w.createElement(ide,this.props))}}yx(vx,"displayName","PolarAngleAxis");yx(vx,"axisType",S9);yx(vx,"defaultProps",Pa);function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return(e=sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return typeof e=="symbol"?e:e+""}function ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lde=(t,e)=>e,E2=X([v2,lde],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),cde=[],A2=(t,e,n)=>(n==null?void 0:n.length)===0?cde:n,I9=X([tx,E2,A2],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>i4(i4({},e.presentationProps),a.props))),i!=null)return i}}),ude=X([I9,E2,A2],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=Tt(r,e.nameKey,e.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Za(o,e.dataKey),color:c,payload:r,type:e.legendType}})}),dde=X([I9,E2,A2,$n],(t,e,n,r)=>{if(!(e==null||t==null))return sfe({offset:r,pieSettings:e,displayedData:t,cells:n})}),AE={},a4;function fde(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(AE)),AE}var TE,s4;function hde(){return s4||(s4=1,TE=fde().isPlainObject),TE}var mde=hde();const pde=Fi(mde);function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return(e=yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(null,arguments)}var c4=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},bde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xde=t=>{var e=jn(t,bde),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:g}=e,v=w.useRef(),[x,A]=w.useState(-1),E=w.useRef(i),S=w.useRef(a),P=w.useRef(o),O=w.useRef(n),j=w.useRef(r),M=ou(t,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var he=v.current.getTotalLength();he&&A(he)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var C=Qe("recharts-trapezoid",c);if(!g)return w.createElement("g",null,w.createElement("path",C0({},lt(e,!0),{className:C,d:c4(n,r,i,a,o)})));var V=E.current,I=S.current,k=P.current,D=O.current,B=j.current,F="0px ".concat(x===-1?1:x,"px"),$="".concat(x,"px 0px"),U=zB(["strokeDasharray"],f,d);return w.createElement(su,{animationId:M,key:M,canBegin:x>0,duration:f,easing:d,isActive:g,begin:m},he=>{var ve=vt(V,i,he),G=vt(I,a,he),ne=vt(k,o,he),ge=vt(D,n,he),Ie=vt(B,r,he);v.current&&(E.current=ve,S.current=G,P.current=ne,O.current=ge,j.current=Ie);var K=he>0?{transition:U,strokeDasharray:$}:{strokeDasharray:F};return w.createElement("path",C0({},lt(e,!0),{className:C,d:c4(ge,Ie,ve,G,ne),ref:v,style:l4(l4({},K),e.style)}))})},_de=["option","shapeType","propTransformer","activeClassName","isActive"];function wde(t,e){if(t==null)return{};var n,r,i=Ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){Ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=Sde(t,"string");return typeof e=="symbol"?e:e+""}function Sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ide(t,e){return j0(j0({},e),t)}function Nde(t,e){return t==="symbols"}function d4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(KB,n);case"trapezoid":return w.createElement(xde,n);case"sector":return w.createElement(WB,n);case"symbols":if(Nde(e))return w.createElement($6,n);break;default:return null}}function Pde(t){return w.isValidElement(t)?t.props:t}function N9(t){var{option:e,shapeType:n,propTransformer:r=Ide,activeClassName:i="recharts-active-shape",isActive:a}=t,o=wde(t,_de),c;if(w.isValidElement(e))c=w.cloneElement(e,j0(j0({},o),Pde(e)));else if(typeof e=="function")c=e(o);else if(pde(e)&&typeof e!="boolean"){var d=r(e,o);c=w.createElement(d4,{shapeType:n,elementProps:d})}else{var f=o;c=w.createElement(d4,{shapeType:n,elementProps:f})}return a?w.createElement(Et,{className:i},c):c}var T2=(t,e)=>{var n=un();return(r,i)=>a=>{t==null||t(r,i,a),n(Cz({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},S2=t=>{var e=un();return(n,r)=>i=>{t==null||t(n,r,i),e(uoe())}},I2=(t,e)=>{var n=un();return(r,i)=>a=>{t==null||t(r,i,a),n(doe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function fg(t){var{fn:e,args:n}=t,r=un(),i=rr();return w.useEffect(()=>{if(!i){var a=e(n);return r(ooe(a)),()=>{r(loe(a))}}},[e,n,r,i]),null}var P9=()=>{};function N2(t){var{legendPayload:e}=t,n=un(),r=rr();return w.useEffect(()=>r?P9:(n(VB(e)),()=>{n(BB(e))}),[n,r,e]),null}function O9(t){var{legendPayload:e}=t,n=un(),r=Te(Ze);return w.useEffect(()=>r!=="centric"&&r!=="radial"?P9:(n(VB(e)),()=>{n(BB(e))}),[n,r,e]),null}var SE,Ode=()=>{var[t]=w.useState(()=>sp("uid-"));return t},Rde=(SE=t$.useId)!==null&&SE!==void 0?SE:Ode;function kde(t,e){var n=Rde();return e||(t?"".concat(t,"-").concat(n):n)}var Cde=w.createContext(void 0),hg=t=>{var{id:e,type:n,children:r}=t,i=kde("recharts-".concat(n),e);return w.createElement(Cde.Provider,{value:i},r(i))},jde={cartesianItems:[],polarItems:[]},R9=bi({name:"graphicalItems",initialState:jde,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=ks(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=ks(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ks(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Dde,replaceCartesianGraphicalItem:Mde,removeCartesianGraphicalItem:Lde,addPolarGraphicalItem:Vde,removePolarGraphicalItem:Bde}=R9.actions,Ude=R9.reducer;function P2(t){var e=un(),n=w.useRef(null);return w.useEffect(()=>{n.current===null?e(Dde(t)):n.current!==t&&e(Mde({prev:n.current,next:t})),n.current=t},[e,t]),w.useEffect(()=>()=>{n.current&&(e(Lde(n.current)),n.current=null)},[e]),null}function k9(t){var e=un();return w.useEffect(()=>(e(Vde(t)),()=>{e(Bde(t))}),[e,t]),null}var zde=["onMouseEnter","onClick","onMouseLeave"],Fde=["id"],$de=["id"];function O2(t,e){if(t==null)return{};var n,r,i=qde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}function Wde(t){var e=w.useMemo(()=>nI(t.children,du),[t.children]),n=Te(r=>ude(r,t.id,e));return n==null?null:w.createElement(O9,{legendPayload:n})}function Yde(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:c,hide:d,tooltipType:f}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Za(c,e),hide:d,type:f,color:o,unit:""}}}var Qde=(t,e)=>t>e?"start":t<e?"end":"middle",Xde=(t,e,n)=>Sr(typeof e=="function"?e(t):e,n,n*.8),Zde=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,c=TB(a,o),d=i+Sr(t.cx,a,a/2),f=r+Sr(t.cy,o,o/2),m=Sr(t.innerRadius,c,0),g=Xde(n,t.outerRadius,c),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:g,maxRadius:v}},Jde=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function efe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var tfe=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Qe("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return w.createElement(Sd,dl({},e,{type:"linear",className:n}))},nfe=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=Qe("recharts-pie-label-text",efe(t));return w.createElement(Df,dl({},e,{alignmentBaseline:"middle",className:i}),r)};function rfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var c=Cn(n),d=lt(i,!1),f=lt(a,!1),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((v,x)=>{var A=(v.startAngle+v.endAngle)/2,E=wt(v.cx,v.cy,v.outerRadius+m,A),S=tn(tn(tn(tn({},c),v),{},{stroke:"none"},d),{},{index:x,textAnchor:Qde(E.x,v.cx)},E),P=tn(tn(tn(tn({},c),v),{},{fill:"none",stroke:v.fill},f),{},{index:x,points:[wt(v.cx,v.cy,v.outerRadius,A),E],key:"line"});return w.createElement(Et,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},a&&tfe(a,P),nfe(i,S,Tt(v,o)))});return w.createElement(Et,{className:"recharts-pie-labels"},g)}function ife(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(ug,{label:i}):w.createElement(rfe,{sectors:e,props:n,showLabels:r})}function afe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Te(ul),{onMouseEnter:o,onClick:c,onMouseLeave:d}=i,f=O2(i,zde),m=T2(o,i.dataKey),g=S2(d),v=I2(c,i.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((x,A)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&e.length!==1)return null;var E=n&&String(A)===a,S=a?r:null,P=E?n:S,O=tn(tn({},x),{},{stroke:x.stroke,tabIndex:-1,[kB]:A,[CB]:i.dataKey});return w.createElement(Et,dl({tabIndex:-1,className:"recharts-pie-sector"},Ef(f,x,A),{onMouseEnter:m(x,A),onMouseLeave:g(x,A),onClick:v(x,A),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(A)}),w.createElement(N9,dl({option:P,isActive:E,shapeType:"sector"},O)))}))}function sfe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:f,nameKey:m,tooltipType:g}=n,v=Math.abs(n.minAngle),x=Jde(c,d),A=Math.abs(x),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(V=>Tt(V,f,0)!==0).length,P=(A>=360?S:S-1)*E,O=A-S*v-P,j=r.reduce((V,I)=>{var k=Tt(I,f,0);return V+(ke(k)?k:0)},0),M;if(j>0){var C;M=r.map((V,I)=>{var k=Tt(V,f,0),D=Tt(V,m,I),B=Zde(n,a,V),F=(ke(k)?k:0)/j,$,U=tn(tn({},V),i&&i[I]&&i[I].props);I?$=C.endAngle+er(x)*E*(k!==0?1:0):$=c;var he=$+er(x)*((k!==0?v:0)+F*O),ve=($+he)/2,G=(B.innerRadius+B.outerRadius)/2,ne=[{name:D,value:k,payload:U,dataKey:f,type:g}],ge=wt(B.cx,B.cy,G,ve);return C=tn(tn(tn(tn({},n.presentationProps),{},{percent:F,cornerRadius:o,name:D,tooltipPayload:ne,midAngle:ve,middleRadius:G,tooltipPosition:ge},U),B),{},{value:k,startAngle:$,endAngle:he,payload:U,paddingAngle:er(x)*E}),C})}return M}function ofe(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return w.createElement(qce,{value:e?i:void 0},r)}function lfe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:m,onAnimationEnd:g}=e,v=ou(e,"recharts-pie-"),x=n.current,[A,E]=w.useState(!1),S=w.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),P=w.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return w.createElement(ofe,{showLabels:!A,sectors:r},w.createElement(su,{animationId:v,begin:a,duration:o,isActive:i,easing:c,onAnimationStart:P,onAnimationEnd:S,key:v},O=>{var j=[],M=r&&r[0],C=M==null?void 0:M.startAngle;return r==null||r.forEach((V,I)=>{var k=x&&x[I],D=I>0?Wc(V,"paddingAngle",0):0;if(k){var B=vt(k.endAngle-k.startAngle,V.endAngle-V.startAngle,O),F=tn(tn({},V),{},{startAngle:C+D,endAngle:C+B+D});j.push(F),C=F.endAngle}else{var{endAngle:$,startAngle:U}=V,he=vt(0,$-U,O),ve=tn(tn({},V),{},{startAngle:C+D,endAngle:C+he+D});j.push(ve),C=ve.endAngle}}),n.current=j,w.createElement(Et,null,w.createElement(afe,{sectors:j,activeShape:d,inactiveShape:f,allOtherPieProps:e}))}),w.createElement(ife,{showLabels:!A,sectors:r,props:e}),e.children)}var cfe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ja.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ufe(t){var{id:e}=t,n=O2(t,Fde),{hide:r,className:i,rootTabIndex:a}=t,o=w.useMemo(()=>nI(t.children,du),[t.children]),c=Te(m=>dde(m,e,o)),d=w.useRef(null),f=Qe("recharts-pie",i);return r||c==null?(d.current=null,w.createElement(Et,{tabIndex:a,className:f})):w.createElement(w.Fragment,null,w.createElement(fg,{fn:Yde,args:tn(tn({},t),{},{sectors:c})}),w.createElement(Et,{tabIndex:a,className:f},w.createElement(lfe,{props:tn(tn({},n),{},{sectors:c}),previousSectorsRef:d})))}function R2(t){var e=jn(t,cfe),{id:n}=e,r=O2(e,$de),i=Cn(r);return w.createElement(hg,{id:n,type:"pie"},a=>w.createElement(w.Fragment,null,w.createElement(k9,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Wde,dl({},r,{id:a})),w.createElement(ufe,dl({},r,{id:a}))))}R2.displayName="Pie";function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return(e=ffe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return typeof e=="symbol"?e:e+""}function hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mfe={xAxis:{},yAxis:{},zAxis:{}},C9=bi({name:"cartesianAxis",initialState:mfe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=m4(m4({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:pfe,removeXAxis:gfe,addYAxis:yfe,removeYAxis:vfe,addZAxis:Xve,removeZAxis:Zve,updateYAxisWidth:bfe}=C9.actions,xfe=C9.reducer,_fe=X([$n],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),wfe=X([_fe,Js,eo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),bx=()=>Te(wfe),Efe=()=>Te(Xoe);function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){Afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ife=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=g4(g4({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},lt(i,!1)),tI(i)),c;return w.isValidElement(i)?c=w.cloneElement(i,o):typeof i=="function"?c=i(o):c=w.createElement(dg,o),w.createElement(Et,{className:"recharts-active-dot"},c)};function D0(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Te(ul),o=Efe();if(e==null||o==null)return null;var c=e.find(d=>o.includes(d.payload));return Ut(c)?null:Ife({point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){Nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nfe(t,e,n){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j9=(t,e)=>Mf(t,"radiusAxis",e),Rfe=X([j9],t=>{if(t!=null)return{scale:t}}),kfe=X([tg,j9],(t,e)=>{if(!(t==null||e==null))return M0(M0({},t),{},{scale:e})}),Cfe=(t,e,n,r)=>Lf(t,"radiusAxis",e,r),D9=(t,e,n)=>If(t,n),M9=(t,e,n)=>Mf(t,"angleAxis",n),jfe=X([D9,M9],(t,e)=>{if(!(t==null||e==null))return M0(M0({},t),{},{scale:e})}),Dfe=(t,e,n,r)=>Lf(t,"angleAxis",n,r),Mfe=X([D9,M9,Nf],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Lfe=(t,e,n,r,i)=>i,Vfe=X([Ze,kfe,Cfe,jfe,Dfe],(t,e,n,r,i)=>sa(t,"radiusAxis")?Fs(e,n,!1):Fs(r,i,!1)),Bfe=X([v2,Lfe],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n==null?void 0:n.dataKey}}),Ufe=X([Rfe,Mfe,tx,Bfe,Vfe],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:c}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var d=a.slice(o,c+1);return Yfe({radiusAxis:t,angleAxis:e,displayedData:d,dataKey:r,bandSize:i})}}),zfe=["id"];function Ffe(t,e){if(t==null)return{};var n,r,i=$fe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $fe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){k2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k2(t,e,n){return(e=qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}function Kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(null,arguments)}function C2(t,e){return t&&t!=="none"?t:e}var Hfe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:C2(r,i),value:Za(n,e),payload:t}]};function Gfe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:Za(a,e),hide:o,type:c,color:C2(n,i),unit:""}}}function Wfe(t,e){var n;return w.isValidElement(t)?n=w.cloneElement(t,e):typeof t=="function"?n=t(e):n=w.createElement(dg,sf({},e,{className:Qe("recharts-radar-dot",typeof t!="boolean"?t.className:"")})),n}function Yfe(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:o,cy:c}=n,d=!1,f=[],m=n.type!=="number"?a??0:0;r.forEach((v,x)=>{var A=Tt(v,n.dataKey,x),E=Tt(v,i),S=n.scale(A)+m,P=Array.isArray(E)?m9(E):E,O=Ut(P)?void 0:e.scale(P);Array.isArray(E)&&E.length>=2&&(d=!0),f.push(pr(pr({},wt(o,c,O,S)),{},{name:A,value:E,cx:o,cy:c,radius:O,angle:S,payload:v}))});var g=[];return d&&f.forEach(v=>{if(Array.isArray(v.value)){var x=v.value[0],A=Ut(x)?void 0:e.scale(x);g.push(pr(pr({},v),{},{radius:A},wt(o,c,A,v.angle)))}else g.push(v)}),{points:f,isRange:d,baseLinePoints:g}}function Qfe(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n;if(!r)return null;var{id:a}=n,o=Ffe(n,zfe),c=Cn(o),d=lt(r,!0),f=e.map((m,g)=>{var v=pr(pr(pr({key:"dot-".concat(g),r:3},c),d),{},{dataKey:i,cx:m.x,cy:m.y,index:g,payload:m});return Wfe(r,v)});return w.createElement(Et,{className:"recharts-radar-dots"},f)}function Xfe(t){var{showLabels:e,points:n,children:r}=t,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return pr(pr({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return w.createElement(hx,{value:e?i:null},r)}function Zfe(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,c=m=>{var{onMouseEnter:g}=r;g&&g(r,m)},d=m=>{var{onMouseLeave:g}=r;g&&g(r,m)},f;return w.isValidElement(i)?f=w.cloneElement(i,pr(pr({},r),{},{points:e})):typeof i=="function"?f=i(pr(pr({},r),{},{points:e})):f=w.createElement(y9,sf({},lt(r,!0),{onMouseEnter:c,onMouseLeave:d,points:e,baseLinePoints:a?n:null,connectNulls:o})),w.createElement(Et,{className:"recharts-radar-polygon"},f,w.createElement(Qfe,{props:r,points:e}))}var b4=(t,e,n)=>(r,i)=>{var a=t&&t[Math.floor(i*e)];return a?pr(pr({},r),{},{x:vt(a.x,r.x,n),y:vt(a.y,r.y,n)}):pr(pr({},r),{},{x:vt(r.cx,r.x,n),y:vt(r.cy,r.y,n)})};function Jfe(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:g}=e,v=n.current,x=r.current,A=v&&v.length/i.length,E=x&&x.length/a.length,S=ou(e,"recharts-radar-"),[P,O]=w.useState(!1),j=!P,M=w.useCallback(()=>{typeof m=="function"&&m(),O(!1)},[m]),C=w.useCallback(()=>{typeof g=="function"&&g(),O(!0)},[g]);return w.createElement(Xfe,{showLabels:j,points:i},w.createElement(su,{animationId:S,begin:c,duration:d,isActive:o,easing:f,key:"radar-".concat(S),onAnimationEnd:M,onAnimationStart:C},V=>{var I=V===1?i:i.map(b4(v,A,V)),k=V===1?a:a==null?void 0:a.map(b4(x,E,V));return V>0&&(n.current=I,r.current=k),w.createElement(Zfe,{points:I,baseLinePoints:k,props:e})}),w.createElement(ug,{label:e.label}),e.children)}function ehe(t){var e=w.useRef(void 0),n=w.useRef(void 0);return w.createElement(Jfe,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var the={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ja.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class nhe extends w.PureComponent{render(){var{hide:e,className:n,points:r}=this.props;if(e||r==null)return null;var i=Qe("recharts-radar",n);return w.createElement(w.Fragment,null,w.createElement(Et,{className:i},w.createElement(ehe,this.props)),w.createElement(D0,{points:r,mainColor:C2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function rhe(t){var e=rr(),n=Te(r=>Ufe(r,t.radiusAxisId,t.angleAxisId,e,t.id));return w.createElement(nhe,sf({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class L0 extends w.PureComponent{render(){return w.createElement(hg,{id:this.props.id,type:"radar"},e=>w.createElement(w.Fragment,null,w.createElement(k9,{type:"radar",id:e,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),w.createElement(O9,{legendPayload:Hfe(this.props)}),w.createElement(fg,{fn:Gfe,args:this.props}),w.createElement(rhe,sf({},this.props,{id:e}))))}}k2(L0,"displayName","Radar");k2(L0,"defaultProps",the);var ihe="Invariant failed";function ahe(t,e){throw new Error(ihe)}var she=["x","y"];function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(null,arguments)}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return(e=lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lhe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uhe(t,e){if(t==null)return{};var n,r,i=dhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fhe(t,e){var{x:n,y:r}=t,i=uhe(t,she),a="".concat(n),o=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),m=parseInt(f,10),g="".concat(e.width||i.width),v=parseInt(g,10);return om(om(om(om(om({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function j2(t){return w.createElement(N9,aT({shapeType:"rectangle",propTransformer:fhe,activeClassName:"recharts-active-bar"},t))}var hhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ke(e))return e;var a=ke(r)||Ut(r);return a?e(r,i):(a||ahe(),n)}},mhe={},L9=bi({name:"errorBars",initialState:mhe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jve,replaceErrorBar:e0e,removeErrorBar:t0e}=L9.actions,phe=L9.reducer,ghe=["children"];function yhe(t,e){if(t==null)return{};var n,r,i=vhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xhe=w.createContext(bhe);function V9(t){var{children:e}=t,n=yhe(t,ghe);return w.createElement(xhe.Provider,{value:n},e)}function xx(t,e){var n,r,i=Te(f=>no(f,t)),a=Te(f=>ro(f,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:oi.allowDataOverflow,c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:li.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function D2(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=bx(),{needClipX:a,needClipY:o,needClip:c}=xx(e,n);if(!c)return null;var{x:d,y:f,width:m,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?d:d-m/2,y:o?f:f-g/2,width:a?m:m*2,height:o?g:g*2}))}var _he=["onMouseEnter","onMouseLeave","onClick"],whe=["value","background","tooltipPosition"],Ehe=["id"],Ahe=["onMouseEnter","onClick","onMouseLeave"];function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(null,arguments)}function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return(e=She(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V0(t,e){if(t==null)return{};var n,r,i=Nhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Phe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Za(n,e),payload:t}]};function Ohe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Za(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:c}}}function Rhe(t){var e=Te(ul),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:c,onClick:d}=a,f=V0(a,_he),m=T2(o,r),g=S2(c),v=I2(d,r);if(!i||n==null)return null;var x=lt(i,!1);return w.createElement(w.Fragment,null,n.map((A,E)=>{var{value:S,background:P,tooltipPosition:O}=A,j=V0(A,whe);if(!P)return null;var M=m(A,E),C=g(A,E),V=v(A,E),I=Dr(Dr(Dr(Dr(Dr({option:i,isActive:String(E)===e},j),{},{fill:"#eee"},P),x),Ef(f,A,E)),{},{onMouseEnter:M,onMouseLeave:C,onClick:V,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(j2,fl({key:"background-bar-".concat(I.index)},I))}))}function khe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Dr(Dr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return w.createElement(hx,{value:e?i:void 0},n)}function Che(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,c=Te(ul),d=Te(Hz),f=n&&String(a)===c&&(d==null||o===d),m=f?n:e;return w.createElement(j2,fl({},r,i,{isActive:f,option:m,index:a,dataKey:o}))}function jhe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return w.createElement(j2,fl({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function Dhe(t){var{data:e,props:n}=t,r=Cn(n),{id:i}=r,a=V0(r,Ehe),{shape:o,dataKey:c,activeBar:d}=n,{onMouseEnter:f,onClick:m,onMouseLeave:g}=n,v=V0(n,Ahe),x=T2(f,c),A=S2(g),E=I2(m,c);return e?w.createElement(w.Fragment,null,e.map((S,P)=>w.createElement(Et,fl({className:"recharts-bar-rectangle"},Ef(v,S,P),{onMouseEnter:x(S,P),onMouseLeave:A(S,P),onClick:E(S,P),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(P)}),d?w.createElement(Che,{shape:o,activeBar:d,baseProps:a,entry:S,index:P,dataKey:c}):w.createElement(jhe,{shape:o,baseProps:a,entry:S,index:P,dataKey:c})))):null}function Mhe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,g=n.current,v=ou(e,"recharts-bar-"),[x,A]=w.useState(!1),E=!x,S=w.useCallback(()=>{typeof f=="function"&&f(),A(!1)},[f]),P=w.useCallback(()=>{typeof m=="function"&&m(),A(!0)},[m]);return w.createElement(khe,{showLabels:E,rects:r},w.createElement(su,{animationId:v,begin:o,duration:c,isActive:a,easing:d,onAnimationEnd:S,onAnimationStart:P,key:v},O=>{var j=O===1?r:r==null?void 0:r.map((M,C)=>{var V=g&&g[C];if(V)return Dr(Dr({},M),{},{x:vt(V.x,M.x,O),y:vt(V.y,M.y,O),width:vt(V.width,M.width,O),height:vt(V.height,M.height,O)});if(i==="horizontal"){var I=vt(0,M.height,O);return Dr(Dr({},M),{},{y:M.y+M.height-I,height:I})}var k=vt(0,M.width,O);return Dr(Dr({},M),{},{width:k})});return O>0&&(n.current=j??null),j==null?null:w.createElement(Et,null,w.createElement(Dhe,{props:e,data:j}))}),w.createElement(ug,{label:e.label}),e.children)}function Lhe(t){var e=w.useRef(null);return w.createElement(Mhe,{previousRectanglesRef:e,props:t})}var B9=0,Vhe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Tt(t,e)}};class Bhe extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=Qe("recharts-bar",i),g=f;return w.createElement(Et,{className:m,id:f},c&&w.createElement("defs",null,w.createElement(D2,{clipPathId:g,xAxisId:a,yAxisId:o})),w.createElement(Et,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Rhe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(Lhe,this.props)))}}var Uhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ja.isSsr,legendType:"rect",minPointSize:B9,xAxisId:0,yAxisId:0};function zhe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:g}=xx(e,n),v=Wp(),x=rr(),A=nI(t.children,du),E=Te(O=>pme(O,e,n,x,t.id,A));if(v!=="vertical"&&v!=="horizontal")return null;var S,P=E==null?void 0:E[0];return P==null||P.height==null||P.width==null?S=0:S=v==="vertical"?P.height/2:P.width/2,w.createElement(V9,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Vhe,errorBarOffset:S},w.createElement(Bhe,fl({},t,{layout:v,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Fhe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:g,offset:v,cells:x,parentViewBox:A}=t,E=e==="horizontal"?c:o,S=m?E.scale.domain():null,P=Bte({numericAxis:E});return g.map((O,j)=>{var M,C,V,I,k,D;m?M=jte(m[j],S):(M=Tt(O,n),Array.isArray(M)||(M=[P,M]));var B=hhe(r,B9)(M[1],j);if(e==="horizontal"){var F,[$,U]=[c.scale(M[0]),c.scale(M[1])];C=Hj({axis:o,ticks:d,bandSize:a,offset:i.offset,entry:O,index:j}),V=(F=U??$)!==null&&F!==void 0?F:void 0,I=i.size;var he=$-U;if(k=Xr(he)?0:he,D={x:C,y:v.top,width:I,height:v.height},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var ve=er(k||B)*(Math.abs(B)-Math.abs(k));V-=ve,k+=ve}}else{var[G,ne]=[o.scale(M[0]),o.scale(M[1])];if(C=G,V=Hj({axis:c,ticks:f,bandSize:a,offset:i.offset,entry:O,index:j}),I=ne-G,k=i.size,D={x:v.left,y:V,width:v.width,height:k},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var ge=er(I||B)*(Math.abs(B)-Math.abs(I));I+=ge}}if(C==null||V==null||I==null||k==null)return null;var Ie=Dr(Dr({},O),{},{x:C,y:V,width:I,height:k,value:m?M:M[1],payload:O,background:D,tooltipPosition:{x:C+I/2,y:V+k/2},parentViewBox:A},x&&x[j]&&x[j].props);return Ie}).filter(Boolean)}function $he(t){var e=jn(t,Uhe),n=rr();return w.createElement(hg,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(N2,{legendPayload:Phe(e)}),w.createElement(fg,{fn:Ohe,args:e}),w.createElement(P2,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:OB(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(zhe,fl({},e,{id:r}))))}var _x=w.memo($he);_x.displayName="Bar";function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qhe(t,e,n){return(e=Khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ghe=(t,e)=>e,Whe=(t,e,n)=>n,Yhe=(t,e,n,r)=>r,Qhe=(t,e,n,r,i)=>i,mg=X([rg,Qhe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Xhe=X([mg],t=>t==null?void 0:t.maxBarSize),Zhe=(t,e,n,r,i,a)=>a,E4=(t,e,n)=>{var r=n??t;if(!Ut(r))return Sr(r,e,0)},Jhe=X([Ze,rg,Ghe,Whe,Yhe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),eme=(t,e,n,r)=>{var i=Ze(t);return i==="horizontal"?pp(t,"yAxis",n,r):pp(t,"xAxis",e,r)},tme=(t,e,n)=>{var r=Ze(t);return r==="horizontal"?oM(t,"xAxis",e):oM(t,"yAxis",n)},nme=(t,e,n)=>{var r={},i=t.filter(sx),a=t.filter(f=>f.stackId==null),o=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(o).map(f=>{var[m,g]=f,v=g.map(A=>A.dataKey),x=E4(e,n,g[0].barSize);return{stackId:m,dataKeys:v,barSize:x}}),d=a.map(f=>{var m=[f.dataKey].filter(v=>v!=null),g=E4(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...c,...d]},rme=X([Jhe,sse,tme],nme),ime=(t,e,n,r,i)=>{var a,o,c=mg(t,e,n,r,i);if(c!=null){var d=Ze(t),f=qU(t),{maxBarSize:m}=c,g=Ut(m)?f:m,v,x;return d==="horizontal"?(v=Xa(t,"xAxis",e,r),x=Qa(t,"xAxis",e,r)):(v=Xa(t,"yAxis",n,r),x=Qa(t,"yAxis",n,r)),(a=(o=Fs(v,x,!0))!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0}},U9=(t,e,n,r)=>{var i=Ze(t),a,o;return i==="horizontal"?(a=Xa(t,"xAxis",e,r),o=Qa(t,"xAxis",e,r)):(a=Xa(t,"yAxis",n,r),o=Qa(t,"yAxis",n,r)),Fs(a,o)};function ame(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=Sr(t,n,0,!0),c,d=[];if(yr(r[0].barSize)){var f=!1,m=n/a,g=r.reduce((P,O)=>P+(O.barSize||0),0);g+=(a-1)*o,g>=n&&(g-=(a-1)*o,o=0),g>=n&&m>0&&(f=!0,m*=.9,g=a*m);var v=(n-g)/2>>0,x={offset:v-o,size:0};c=r.reduce((P,O)=>{var j,M={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:x.offset+x.size+o,size:f?m:(j=O.barSize)!==null&&j!==void 0?j:0}},C=[...P,M];return x=C[C.length-1].position,C},d)}else{var A=Sr(e,n,0,!0);n-2*A-(a-1)*o<=0&&(o=0);var E=(n-2*A-(a-1)*o)/a;E>1&&(E>>=0);var S=yr(i)?Math.min(E,i):E;c=r.reduce((P,O,j)=>[...P,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:A+(E+o)*j+(E-S)/2,size:S}}],d)}return c}}var sme=(t,e,n,r,i,a,o)=>{var c=Ut(o)?e:o,d=ame(n,r,i!==a?i:a,t,c);return i!==a&&d!=null&&(d=d.map(f=>sv(sv({},f),{},{position:sv(sv({},f.position),{},{offset:f.position.offset-i/2})}))),d},ome=X([rme,qU,ase,KU,ime,U9,Xhe],sme),lme=(t,e,n,r)=>Xa(t,"xAxis",e,r),cme=(t,e,n,r)=>Xa(t,"yAxis",n,r),ume=(t,e,n,r)=>Qa(t,"xAxis",e,r),dme=(t,e,n,r)=>Qa(t,"yAxis",n,r),fme=X([ome,mg],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),hme=(t,e)=>{var n=ax(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},mme=X([eme,mg],hme),pme=X([$n,pI,lme,cme,ume,dme,fme,Ze,Jp,U9,mme,mg,Zhe],(t,e,n,r,i,a,o,c,d,f,m,g,v)=>{var{chartData:x,dataStartIndex:A,dataEndIndex:E}=d;if(!(g==null||o==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:S}=g,P;if(S!=null&&S.length>0?P=S:P=x==null?void 0:x.slice(A,E+1),P!=null)return Fhe({layout:c,barSettings:g,pos:o,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:P,offset:t,cells:v})}}),z9=t=>{var{chartData:e}=t,n=un(),r=rr();return w.useEffect(()=>r?()=>{}:(n(yM(e)),()=>{n(yM(void 0))}),[e,n,r]),null},A4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},F9=bi({name:"brush",initialState:A4,reducers:{setBrushSettings(t,e){return e.payload==null?A4:e.payload}}}),{setBrushSettings:n0e}=F9.actions,gme=F9.reducer;function yme(t,e,n){return(e=vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class M2{static create(e){return new M2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}yme(M2,"EPS",1e-4);function xme(t){return(t%180+180)%180}var _me=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xme(i),o=a*Math.PI/180,c=Math.atan(r/n),d=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},wme={dots:[],areas:[],lines:[]},$9=bi({name:"referenceElements",initialState:wme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ks(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ks(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ks(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:r0e,removeDot:i0e,addArea:a0e,removeArea:s0e,addLine:o0e,removeLine:l0e}=$9.actions,Eme=$9.reducer,Ame=w.createContext(void 0),Tme=t=>{var{children:e}=t,[n]=w.useState("".concat(sp("recharts"),"-clip")),r=bx();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return w.createElement(Ame.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:c,width:o}))),e)};function of(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function q9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Sme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _me(r,n)}function Ime(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:c}=t;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function B0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Nme(t,e){return q9(t,e+1)}function Pme(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=e,d=0,f=1,m=o,g=function(){var A=r==null?void 0:r[d];if(A===void 0)return{v:q9(r,f)};var E=d,S,P=()=>(S===void 0&&(S=n(A,E)),S),O=A.coordinate,j=d===0||B0(t,O,P,m,c);j||(d=0,m=o,f+=1),j&&(m=O+t*(P()/2+i),d+=f)},v;f<=a.length;)if(v=g(),v)return v.v;return[]}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){Ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ome(t,e,n){return(e=Rme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cme(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=e,{end:d}=e,f=function(v){var x=a[v],A,E=()=>(A===void 0&&(A=n(x,v)),A);if(v===o-1){var S=t*(x.coordinate+t*E()/2-d);a[v]=x=_r(_r({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else a[v]=x=_r(_r({},x),{},{tickCoord:x.coordinate});var P=B0(t,x.tickCoord,E,c,d);P&&(d=x.tickCoord-t*(E()/2+i),a[v]=_r(_r({},x),{},{isShow:!0}))},m=o-1;m>=0;m--)f(m);return a}function jme(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:d,end:f}=e;if(a){var m=r[c-1],g=n(m,c-1),v=t*(m.coordinate+t*g/2-f);o[c-1]=m=_r(_r({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var x=B0(t,m.tickCoord,()=>g,d,f);x&&(f=m.tickCoord-t*(g/2+i),o[c-1]=_r(_r({},m),{},{isShow:!0}))}for(var A=a?c-1:c,E=function(O){var j=o[O],M,C=()=>(M===void 0&&(M=n(j,O)),M);if(O===0){var V=t*(j.coordinate-t*C()/2-d);o[O]=j=_r(_r({},j),{},{tickCoord:V<0?j.coordinate-V*t:j.coordinate})}else o[O]=j=_r(_r({},j),{},{tickCoord:j.coordinate});var I=B0(t,j.tickCoord,C,d,f);I&&(d=j.tickCoord+t*(C()/2+i),o[O]=_r(_r({},j),{},{isShow:!0}))},S=0;S<A;S++)E(S);return o}function L2(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:d,tickFormatter:f,unit:m,angle:g}=t;if(!i||!i.length||!r)return[];if(ke(d)||Ja.isSsr){var v;return(v=Nme(i,ke(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],A=c==="top"||c==="bottom"?"width":"height",E=m&&A==="width"?Dm(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(j,M)=>{var C=typeof f=="function"?f(j.value,M):j.value;return A==="width"?Sme(Dm(C,{fontSize:e,letterSpacing:n}),E,g):Dm(C,{fontSize:e,letterSpacing:n})[A]},P=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,O=Ime(a,P,A);return d==="equidistantPreserveStart"?Pme(P,O,S,i,o):(d==="preserveStart"||d==="preserveStartEnd"?x=jme(P,O,S,i,o,d==="preserveStartEnd"):x=Cme(P,O,S,i,o),x.filter(j=>j.isShow))}var Dme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>o&&(o=g.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=o+d+c+(n?r:0);return Math.round(f)}return 0},Mme=["axisLine","width","height","className","hide","ticks"],Lme=["viewBox"],Vme=["viewBox"];function sT(t,e){if(t==null)return{};var n,r,i=Bme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(null,arguments)}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){Ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e,n){return(e=zme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t){var e=Fme(t,"string");return typeof e=="symbol"?e:e+""}function Fme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V2={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function $me(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Un(Un(Un({},d),lt(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);f=Un(Un({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var g=+(a==="left"&&!o||a==="right"&&o);f=Un(Un({},f),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",Zc({},f,{className:Qe("recharts-cartesian-axis-line",Wc(c,"className"))}))}function qme(t,e,n,r,i,a,o,c,d){var f,m,g,v,x,A,E=c?-1:1,S=t.tickSize||o,P=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=m=t.coordinate,v=n+ +!c*i,g=v-E*S,A=g-E*d,x=P;break;case"left":g=v=t.coordinate,m=e+ +!c*r,f=m-E*S,x=f-E*d,A=P;break;case"right":g=v=t.coordinate,m=e+ +c*r,f=m+E*S,x=f+E*d,A=P;break;default:f=m=t.coordinate,v=n+ +c*i,g=v+E*S,A=g+E*d,x=P;break}return{line:{x1:f,y1:g,x2:m,y2:v},tick:{x,y:A}}}function Kme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Hme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Gme(t){var{option:e,tickProps:n,value:r}=t,i,a=Qe(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,Un(Un({},n),{},{className:a}));else if(typeof e=="function")i=e(Un(Un({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Qe(o,e==null?void 0:e.className)),i=w.createElement(Df,Zc({},n,{className:o}),r)}return i}function Wme(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:c,tickTextProps:d,orientation:f,mirror:m,x:g,y:v,width:x,height:A,tickSize:E,tickMargin:S,fontSize:P,letterSpacing:O,getTicksConfig:j,events:M}=t,C=L2(Un(Un({},j),{},{ticks:e}),P,O),V=Kme(f,m),I=Hme(f,m),k=Cn(j),D=lt(n,!1),B=Un(Un({},k),{},{fill:"none"},lt(r,!1)),F=C.map(($,U)=>{var{line:he,tick:ve}=qme($,g,v,x,A,f,E,m,S),G=Un(Un(Un(Un({textAnchor:V,verticalAnchor:I},k),{},{stroke:"none",fill:i},D),ve),{},{index:U,payload:$,visibleTicksCount:C.length,tickFormatter:a,padding:c},d);return w.createElement(Et,Zc({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Ef(M,$,U)),r&&w.createElement("line",Zc({},B,he,{className:Qe("recharts-cartesian-axis-tick-line",Wc(r,"className"))})),n&&w.createElement(Gme,{option:n,tickProps:G,value:"".concat(typeof a=="function"?a($.value,U):$.value).concat(o||"")}))});return F.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var Yme=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c}=t,d=sT(t,Mme),[f,m]=w.useState(""),[g,v]=w.useState(""),x=w.useRef([]);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Dme({ticks:x.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=w.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(S);var P=S[0];if(P){var O=window.getComputedStyle(P),j=O.fontSize,M=O.letterSpacing;(j!==f||M!==g)&&(m(j),v(M))}}},[f,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Et,{className:Qe("recharts-cartesian-axis",a),ref:A},w.createElement($me,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Cn(t)}),w.createElement(Wme,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:t,events:d}),w.createElement(Tce,{x:t.x,y:t.y,width:t.width,height:t.height},w.createElement(Cce,{label:t.label}),t.children))}),Qme=w.memo(Yme,(t,e)=>{var{viewBox:n}=t,r=sT(t,Lme),{viewBox:i}=e,a=sT(e,Vme);return of(n,i)&&of(r,a)}),B2=w.forwardRef((t,e)=>{var n=jn(t,V2);return w.createElement(Qme,Zc({},n,{ref:e}))});B2.displayName="CartesianAxis";var Xme=["x1","y1","x2","y2","key"],Zme=["offset"],Jme=["xAxisId","yAxisId"],epe=["xAxisId","yAxisId"];function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e,n){return(e=npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return typeof e=="symbol"?e:e+""}function rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(null,arguments)}function U0(t,e){if(t==null)return{};var n,r,i=ipe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ipe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ape=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=t;return w.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function K9(t,e){var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:c}=e,d=U0(e,Xme),f=Cn(d),{offset:m}=f,g=U0(f,Zme);n=w.createElement("line",Nc({},g,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:c}))}return n}function spe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=U0(t,Jme),d=i.map((f,m)=>{var g=Er(Er({},c),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return K9(r,g)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function ope(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=U0(t,epe),d=i.map((f,m)=>{var g=Er(Er({},c),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return K9(r,g)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function lpe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var f=c.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var x=!f[v+1],A=x?i+o-g:f[v+1]-g;if(A<=0)return null;var E=v%e.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:A,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function cpe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var x=!f[v+1],A=x?i+o-g:f[v+1]-g;if(A<=0)return null;var E=v%n.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:a,width:A,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var upe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return NB(L2(Er(Er(Er({},V2),n),{},{ticks:PB(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},dpe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return NB(L2(Er(Er(Er({},V2),n),{},{ticks:PB(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},fpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function hl(t){var e=DB(),n=MB(),r=jB(),i=Er(Er({},jn(t,fpe)),{},{x:ke(t.x)?t.x:r.left,y:ke(t.y)?t.y:r.top,width:ke(t.width)?t.width:r.width,height:ke(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,A=rr(),E=Te(D=>lM(D,"xAxis",a,A)),S=Te(D=>lM(D,"yAxis",o,A));if(!ke(f)||f<=0||!ke(m)||m<=0||!ke(c)||c!==+c||!ke(d)||d!==+d)return null;var P=i.verticalCoordinatesGenerator||upe,O=i.horizontalCoordinatesGenerator||dpe,{horizontalPoints:j,verticalPoints:M}=i;if((!j||!j.length)&&typeof O=="function"){var C=v&&v.length,V=O({yAxis:S?Er(Er({},S),{},{ticks:C?v:S.ticks}):void 0,width:e,height:n,offset:r},C?!0:g);jm(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(j=V)}if((!M||!M.length)&&typeof P=="function"){var I=x&&x.length,k=P({xAxis:E?Er(Er({},E),{},{ticks:I?x:E.ticks}):void 0,width:e,height:n,offset:r},I?!0:g);jm(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(M=k)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(ape,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(lpe,Nc({},i,{horizontalPoints:j})),w.createElement(cpe,Nc({},i,{verticalPoints:M})),w.createElement(spe,Nc({},i,{offset:r,horizontalPoints:j,xAxis:E,yAxis:S})),w.createElement(ope,Nc({},i,{offset:r,verticalPoints:M,xAxis:E,yAxis:S})))}hl.displayName="CartesianGrid";var H9=(t,e,n,r)=>Xa(t,"xAxis",e,r),G9=(t,e,n,r)=>Qa(t,"xAxis",e,r),W9=(t,e,n,r)=>Xa(t,"yAxis",n,r),Y9=(t,e,n,r)=>Qa(t,"yAxis",n,r),hpe=X([Ze,H9,W9,G9,Y9],(t,e,n,r,i)=>sa(t,"xAxis")?Fs(e,r,!1):Fs(n,i,!1)),mpe=(t,e,n,r,i)=>i;function ppe(t){return t.type==="line"}var gpe=X([rg,mpe],(t,e)=>t.filter(ppe).find(n=>n.id===e)),ype=X([Ze,H9,W9,G9,Y9,gpe,hpe,Jp],(t,e,n,r,i,a,o,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=c;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:g,data:v}=a,x;if(v!=null&&v.length>0?x=v:x=d==null?void 0:d.slice(f,m+1),x!=null)return Bpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:o,displayedData:x})}}),vpe=["id"],bpe=["type","layout","connectNulls","needClip"],xpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return(e=wpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wpe(t){var e=Epe(t,"string");return typeof e=="symbol"?e:e+""}function Epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U2(t,e){if(t==null)return{};var n,r,i=Ape(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(null,arguments)}var Tpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Za(n,e),payload:t}]};function Spe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Za(o,e),hide:c,type:t.tooltipType,color:t.stroke,unit:d}}}var Q9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ipe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Npe=(t,e,n)=>{var r=n.reduce((g,v)=>g+v);if(!r)return Q9(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,c=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>a){c=[...n.slice(0,d),a-f];break}var m=c.length%2===0?[0,o]:[o];return[...Ipe(n,i),...c,...m].map(g=>"".concat(g,"px")).join(", ")};function Ppe(t,e){var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Qe("recharts-line-dot",typeof t!="boolean"?t.className:"");n=w.createElement(dg,Jc({},e,{className:r}))}return n}function Ope(t,e){return t==null?!1:e?!0:t.length===1}function Rpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!Ope(n,i))return null;var{id:c}=r,d=U2(r,vpe),f=jb(i),m=Cn(d),g=lt(i,!0),v=n.map((A,E)=>{var S=fi(fi(fi({key:"dot-".concat(E),r:3},m),g),{},{index:E,cx:A.x,cy:A.y,dataKey:a,value:A.value,payload:A.payload,points:n});return Ppe(i,S)}),x={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return w.createElement(Et,Jc({className:"recharts-line-dots",key:"dots"},x),v)}function kpe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return fi(fi({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(hx,{value:e?i:null},n)}function P4(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:c,connectNulls:d,needClip:f}=a,m=U2(a,bpe),g=fi(fi({},lt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:c,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement(Sd,Jc({},g,{pathRef:n})),w.createElement(Rpe,{points:r,clipPathId:e,props:a}))}function Cpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function jpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:v,width:x,height:A,onAnimationEnd:E,onAnimationStart:S}=n,P=i.current,O=ou(n,"recharts-line-"),[j,M]=w.useState(!1),C=!j,V=w.useCallback(()=>{typeof E=="function"&&E(),M(!1)},[E]),I=w.useCallback(()=>{typeof S=="function"&&S(),M(!0)},[S]),k=Cpe(r.current),D=a.current;return w.createElement(kpe,{points:o,showLabels:C},n.children,w.createElement(su,{animationId:O,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:V,onAnimationStart:I,key:O},B=>{var F=vt(D,k+D,B),$=Math.min(F,k),U;if(d)if(c){var he="".concat(c).split(/[,\s]+/gim).map(ne=>parseFloat(ne));U=Npe($,k,he)}else U=Q9(k,$);else U=c==null?void 0:String(c);if(P){var ve=P.length/o.length,G=B===1?o:o.map((ne,ge)=>{var Ie=Math.floor(ge*ve);if(P[Ie]){var K=P[Ie];return fi(fi({},ne),{},{x:vt(K.x,ne.x,B),y:vt(K.y,ne.y,B)})}return v?fi(fi({},ne),{},{x:vt(x*2,ne.x,B),y:vt(A/2,ne.y,B)}):fi(fi({},ne),{},{x:ne.x,y:ne.y})});return i.current=G,w.createElement(P4,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:U})}return B>0&&k>0&&(i.current=o,a.current=$),w.createElement(P4,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:U})}),w.createElement(ug,{label:n.label}))}function Dpe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),a=w.useRef(null);return w.createElement(jpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Mpe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Tt(t.payload,e)});class Lpe extends w.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:c,top:d,left:f,width:m,height:g,id:v,needClip:x}=this.props;if(n)return null;var A=Qe("recharts-line",a),E=v,{r:S=3,strokeWidth:P=2}=(e=lt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},O=jb(r),j=S*2+P;return w.createElement(w.Fragment,null,w.createElement(Et,{className:A},x&&w.createElement("defs",null,w.createElement(D2,{clipPathId:E,xAxisId:o,yAxisId:c}),!O&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:f-j/2,y:d-j/2,width:m+j,height:g+j}))),w.createElement(V9,{xAxisId:o,yAxisId:c,data:i,dataPointFormatter:Mpe,errorBarOffset:0},w.createElement(Dpe,{props:this.props,clipPathId:E}))),w.createElement(D0,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var X9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ja.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Vpe(t){var e=jn(t,X9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:d,hide:f,isAnimationActive:m,label:g,legendType:v,xAxisId:x,yAxisId:A,id:E}=e,S=U2(e,xpe),{needClip:P}=xx(x,A),O=bx(),j=Wp(),M=rr(),C=Te(B=>ype(B,x,A,M,E));if(j!=="horizontal"&&j!=="vertical"||C==null||O==null)return null;var{height:V,width:I,x:k,y:D}=O;return w.createElement(Lpe,Jc({},S,{id:E,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:m,hide:f,label:g,legendType:v,xAxisId:x,yAxisId:A,points:C,layout:j,height:V,width:I,left:k,top:D,needClip:P}))}function Bpe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:c,displayedData:d}=t;return d.map((f,m)=>{var g=Tt(f,o);if(e==="horizontal"){var v=p0({axis:n,ticks:i,bandSize:c,entry:f,index:m}),x=Ut(g)?null:r.scale(g);return{x:v,y:x,value:g,payload:f}}var A=Ut(g)?null:n.scale(g),E=p0({axis:r,ticks:a,bandSize:c,entry:f,index:m});return A==null||E==null?null:{x:A,y:E,value:g,payload:f}}).filter(Boolean)}function Upe(t){var e=jn(t,X9),n=rr();return w.createElement(hg,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(N2,{legendPayload:Tpe(e)}),w.createElement(fg,{fn:Spe,args:e}),w.createElement(P2,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(Vpe,Jc({},e,{id:r}))))}var vp=w.memo(Upe);vp.displayName="Line";var Z9=(t,e,n,r)=>Xa(t,"xAxis",e,r),J9=(t,e,n,r)=>Qa(t,"xAxis",e,r),e8=(t,e,n,r)=>Xa(t,"yAxis",n,r),t8=(t,e,n,r)=>Qa(t,"yAxis",n,r),zpe=X([Ze,Z9,e8,J9,t8],(t,e,n,r,i)=>sa(t,"xAxis")?Fs(e,r,!1):Fs(n,i,!1)),Fpe=(t,e,n,r,i)=>i,n8=X([rg,Fpe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),$pe=(t,e,n,r,i)=>{var a,o=n8(t,e,n,r,i);if(o!=null){var c=Ze(t),d=sa(c,"xAxis"),f;if(d?f=pp(t,"yAxis",n,r):f=pp(t,"xAxis",e,r),f!=null){var{stackId:m}=o,g=ax(o);if(!(m==null||g==null)){var v=(a=f[m])===null||a===void 0?void 0:a.stackedData;return v==null?void 0:v.find(x=>x.key===g)}}}},qpe=X([Ze,Z9,e8,J9,t8,$pe,Jp,zpe,n8],(t,e,n,r,i,a,o,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:g}=o;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:v}=d,x;if(v&&v.length>0?x=v:x=f==null?void 0:f.slice(m,g+1),x!=null){var A=void 0;return dge({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:d,stackedData:a,displayedData:x,chartBaseValue:A,bandSize:c})}}}),Kpe=["id"],Hpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function r8(t,e){if(t==null)return{};var n,r,i=Gpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){Wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wpe(t,e,n){return(e=Ype(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ype(t){var e=Qpe(t,"string");return typeof e=="symbol"?e:e+""}function Qpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}function z0(t,e){return t&&t!=="none"?t:e}var Xpe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:z0(r,i),value:Za(n,e),payload:t}]};function Zpe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Za(o,e),hide:c,type:t.tooltipType,color:z0(r,a),unit:d}}}var Jpe=(t,e)=>{var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Qe("recharts-area-dot",typeof t!="boolean"?t.className:"");n=w.createElement(dg,js({},e,{className:r}))}return n};function ege(t,e){return t==null?!1:e?!0:t.length===1}function tge(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:o}=r;if(!ege(n,a))return null;var c=jb(a),d=Cn(r),f=lt(a,!0),m=n.map((v,x)=>{var A=Os(Os(Os({key:"dot-".concat(x),r:3},d),f),{},{index:x,cx:v.x,cy:v.y,dataKey:o,value:v.value,payload:v.payload,points:n});return Jpe(a,A)}),g={clipPath:i?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return w.createElement(Et,js({className:"recharts-area-dots"},g),m)}function nge(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Os(Os({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return w.createElement(hx,{value:e?i:null},n)}function R4(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:o,type:c,stroke:d,connectNulls:f,isRange:m}=a,{id:g}=a,v=r8(a,Kpe),x=Cn(v);return w.createElement(w.Fragment,null,(e==null?void 0:e.length)>1&&w.createElement(Et,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Sd,js({},x,{id:g,points:e,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&w.createElement(Sd,js({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:e})),d!=="none"&&m&&w.createElement(Sd,js({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),w.createElement(tge,{points:e,props:v,clipPathId:i}))}function rge(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,o=r[r.length-1].y;if(!yr(a)||!yr(o))return null;var c=e*Math.abs(a-o),d=Math.max(...r.map(f=>f.x||0));return ke(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),ke(d)?w.createElement("rect",{x:0,y:a<o?a:a-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function ige(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,o=r[r.length-1].x;if(!yr(a)||!yr(o))return null;var c=e*Math.abs(a-o),d=Math.max(...r.map(f=>f.y||0));return ke(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),ke(d)?w.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function age(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?w.createElement(rge,{alpha:e,points:r,baseLine:i,strokeWidth:a}):w.createElement(ige,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function sge(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:o,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,onAnimationStart:v,onAnimationEnd:x}=r,A=ou(r,"recharts-area-"),[E,S]=w.useState(!1),P=!E,O=w.useCallback(()=>{typeof x=="function"&&x(),S(!1)},[x]),j=w.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]),M=i.current,C=a.current;return w.createElement(nge,{showLabels:P,points:o},r.children,w.createElement(su,{animationId:A,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:O,onAnimationStart:j,key:A},V=>{if(M){var I=M.length/o.length,k=V===1?o:o.map((B,F)=>{var $=Math.floor(F*I);if(M[$]){var U=M[$];return Os(Os({},B),{},{x:vt(U.x,B.x,V),y:vt(U.y,B.y,V)})}return B}),D;return ke(c)?D=vt(C,c,V):Ut(c)||Xr(c)?D=vt(C,0,V):D=c.map((B,F)=>{var $=Math.floor(F*I);if(Array.isArray(C)&&C[$]){var U=C[$];return Os(Os({},B),{},{x:vt(U.x,B.x,V),y:vt(U.y,B.y,V)})}return B}),V>0&&(i.current=k,a.current=D),w.createElement(R4,{points:k,baseLine:D,needClip:e,clipPathId:n,props:r})}return V>0&&(i.current=o,a.current=c),w.createElement(Et,null,d&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(age,{alpha:V,points:o,baseLine:c,layout:r.layout,strokeWidth:r.strokeWidth}))),w.createElement(Et,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(R4,{points:o,baseLine:c,needClip:e,clipPathId:n,props:r})))}),w.createElement(ug,{label:r.label}))}function oge(t){var{needClip:e,clipPathId:n,props:r}=t,i=w.useRef(null),a=w.useRef();return w.createElement(sge,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class lge extends w.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:a,top:o,left:c,needClip:d,xAxisId:f,yAxisId:m,width:g,height:v,id:x,baseLine:A}=this.props;if(n)return null;var E=Qe("recharts-area",a),S=x,{r:P=3,strokeWidth:O=2}=(e=lt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},j=jb(r),M=P*2+O;return w.createElement(w.Fragment,null,w.createElement(Et,{className:E},d&&w.createElement("defs",null,w.createElement(D2,{clipPathId:S,xAxisId:f,yAxisId:m}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:c-M/2,y:o-M/2,width:g+M,height:v+M}))),w.createElement(oge,{needClip:d,clipPathId:S,props:this.props})),w.createElement(D0,{points:i,mainColor:z0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(A)&&w.createElement(D0,{points:A,mainColor:z0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var i8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ja.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function cge(t){var e,n=jn(t,i8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:g,isAnimationActive:v,legendType:x,stroke:A,xAxisId:E,yAxisId:S}=n,P=r8(n,Hpe),O=Wp(),j=Wz(),{needClip:M}=xx(E,S),C=rr(),{points:V,isRange:I,baseLine:k}=(e=Te(he=>qpe(he,E,S,C,t.id)))!==null&&e!==void 0?e:{},D=bx();if(O!=="horizontal"&&O!=="vertical"||D==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:B,width:F,x:$,y:U}=D;return!V||!V.length?null:w.createElement(lge,js({},P,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:k,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:B,hide:g,layout:O,isAnimationActive:v,isRange:I,legendType:x,needClip:M,points:V,stroke:A,width:F,left:$,top:U,xAxisId:E,yAxisId:S}))}var uge=(t,e,n,r,i)=>{var a=n??e;if(ke(a))return a;var o=t==="horizontal"?i:r,c=o.scale.domain();if(o.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function dge(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:g,yAxisTicks:v,bandSize:x}=t,A=i&&i.length,E=uge(a,o,n,c,d),S=a==="horizontal",P=!1,O=f.map((M,C)=>{var V;A?V=i[m+C]:(V=Tt(M,r),Array.isArray(V)?P=!0:V=[E,V]);var I=V[1]==null||A&&!e&&Tt(M,r)==null;return S?{x:p0({axis:c,ticks:g,bandSize:x,entry:M,index:C}),y:I?null:d.scale(V[1]),value:V,payload:M}:{x:I?null:c.scale(V[1]),y:p0({axis:d,ticks:v,bandSize:x,entry:M,index:C}),value:V,payload:M}}),j;return A||P?j=O.map(M=>{var C=Array.isArray(M.value)?M.value[0]:null;return S?{x:M.x,y:C!=null&&M.y!=null?d.scale(C):null,payload:M.payload}:{x:C!=null?c.scale(C):null,y:M.y,payload:M.payload}}):j=S?d.scale(E):c.scale(E),{points:O,baseLine:j,isRange:P}}function fge(t){var e=jn(t,i8),n=rr();return w.createElement(hg,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(N2,{legendPayload:Xpe(e)}),w.createElement(fg,{fn:Zpe,args:e}),w.createElement(P2,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:OB(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(cge,js({},e,{id:r}))))}var a8=w.memo(fge);a8.displayName="Area";var hge=["dangerouslySetInnerHTML","ticks"],mge=["id"],pge=["domain"],gge=["domain"];function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(null,arguments)}function F0(t,e){if(t==null)return{};var n,r,i=yge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vge(t){var e=un();return w.useEffect(()=>(e(pfe(t)),()=>{e(gfe(t))}),[t,e]),null}var bge=t=>{var{xAxisId:e,className:n}=t,r=Te(pI),i=rr(),a="xAxis",o=Te(S=>kf(S,a,e,i)),c=Te(S=>Sz(S,a,e,i)),d=Te(S=>wz(S,e)),f=Te(S=>Jse(S,e)),m=Te(S=>JU(S,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=t,x=F0(t,hge),{id:A}=m,E=F0(m,mge);return w.createElement(B2,oT({},x,E,{scale:o,x:f.x,y:f.y,width:d.width,height:d.height,className:Qe("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},xge={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,height:oi.height,hide:!1,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tickCount:oi.tickCount,type:oi.type,xAxisId:0},_ge=t=>{var e,n,r,i,a,o=jn(t,xge);return w.createElement(w.Fragment,null,w.createElement(vge,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),w.createElement(bge,o))},wge=(t,e)=>{var{domain:n}=t,r=F0(t,pge),{domain:i}=e,a=F0(e,gge);return of(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:of({domain:n},{domain:i}):!1},ml=w.memo(_ge,wge);ml.displayName="XAxis";var Ege=["dangerouslySetInnerHTML","ticks"],Age=["id"],Tge=["domain"],Sge=["domain"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(null,arguments)}function $0(t,e){if(t==null)return{};var n,r,i=Ige(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ige(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nge(t){var e=un();return w.useEffect(()=>(e(yfe(t)),()=>{e(vfe(t))}),[t,e]),null}var Pge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=w.useRef(null),o=w.useRef(null),c=Te(pI),d=rr(),f=un(),m="yAxis",g=Te(C=>kf(C,m,e,d)),v=Te(C=>Ez(C,e)),x=Te(C=>toe(C,e)),A=Te(C=>Sz(C,m,e,d)),E=Te(C=>ez(C,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!v||y2(i)||w.isValidElement(i)||E==null)){var C=a.current;if(C){var V=C.getCalculatedWidth();Math.round(v.width)!==Math.round(V)&&f(bfe({id:e,width:V}))}}},[A,v,f,i,e,r,E]),v==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:P}=t,O=$0(t,Ege),{id:j}=E,M=$0(E,Age);return w.createElement(B2,lT({},O,M,{ref:a,labelRef:o,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Qe("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:A}))},Oge={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,hide:!1,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tickCount:li.tickCount,type:li.type,width:li.width,yAxisId:0},Rge=t=>{var e,n,r,i,a,o=jn(t,Oge);return w.createElement(w.Fragment,null,w.createElement(Nge,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),w.createElement(Pge,o))},kge=(t,e)=>{var{domain:n}=t,r=$0(t,Tge),{domain:i}=e,a=$0(e,Sge);return of(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:of({domain:n},{domain:i}):!1},pl=w.memo(Rge,kge);pl.displayName="YAxis";var IE={exports:{}},NE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function Cge(){if(k4)return NE;k4=1;var t=lf();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return NE.useSyncExternalStoreWithSelector=function(d,f,m,g,v){var x=i(null);if(x.current===null){var A={hasValue:!1,value:null};x.current=A}else A=x.current;x=o(function(){function S(C){if(!P){if(P=!0,O=C,C=g(C),v!==void 0&&A.hasValue){var V=A.value;if(v(V,C))return j=V}return j=C}if(V=j,n(O,C))return V;var I=g(C);return v!==void 0&&v(V,I)?(O=C,V):(O=C,j=I)}var P=!1,O,j,M=m===void 0?null:m;return[function(){return S(f())},M===null?void 0:function(){return S(M())}]},[f,m,g,v]);var E=r(d,x[0],x[1]);return a(function(){A.hasValue=!0,A.value=E},[E]),c(E),E},NE}var C4;function jge(){return C4||(C4=1,IE.exports=Cge()),IE.exports}jge();function Dge(t){t()}function Mge(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Dge(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var j4={notify(){},get:()=>[]};function Lge(t,e){let n,r=j4,i=0,a=!1;function o(E){m();const S=r.subscribe(E);let P=!1;return()=>{P||(P=!0,S(),g())}}function c(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function f(){return a}function m(){i++,n||(n=t.subscribe(d),r=Mge())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=j4)}function v(){a||(a=!0,m())}function x(){a&&(a=!1,g())}const A={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return A}var Vge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bge=Vge(),Uge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zge=Uge(),Fge=()=>Bge||zge?w.useLayoutEffect:w.useEffect,$ge=Fge(),PE=Symbol.for("react-redux-context"),OE=typeof globalThis<"u"?globalThis:{};function qge(){if(!w.createContext)return{};const t=OE[PE]??(OE[PE]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Kge=qge();function Hge(t){const{children:e,context:n,serverState:r,store:i}=t,a=w.useMemo(()=>{const d=Lge(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);$ge(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const c=n||Kge;return w.createElement(c.Provider,{value:a},e)}var Gge=Hge,Wge=(t,e)=>e,z2=X([Wge,Ze,Nf,Kn,Fz,io,rle,$n],lle),F2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},s8=Ui("mouseClick"),o8=Hp();o8.startListening({actionCreator:s8,effect:(t,e)=>{var n=t.payload,r=z2(e.getState(),F2(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(foe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cT=Ui("mouseMove"),l8=Hp();l8.startListening({actionCreator:cT,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=l2(r,r.tooltip.settings.shared),a=z2(r,F2(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(Dz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(jz()))}});var D4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},c8=bi({name:"rootProps",initialState:D4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:D4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Yge=c8.reducer,{updateOptions:Qge}=c8.actions,u8=bi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Xge}=u8.actions,Zge=u8.reducer,d8=Ui("keyDown"),f8=Ui("focus"),$2=Hp();$2.startListening({actionCreator:d8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(c2(i,jf(n))),c=io(n);if(a==="Enter"){var d=R0(n,"axis","hover",String(i.index));e.dispatch(eT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=roe(n),m=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=o+g*m;if(!(c==null||v>=c.length||v<0)){var x=R0(n,"axis","hover",String(v));e.dispatch(eT({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});$2.startListening({actionCreator:f8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=R0(n,"axis","hover",String(a));e.dispatch(eT({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ji=Ui("externalEvent"),h8=Hp();h8.startListening({actionCreator:ji,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Woe(n),activeDataKey:Hz(n),activeIndex:ul(n),activeLabel:Kz(n),activeTooltipIndex:ul(n),isTooltipActive:Yoe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Jge=X([Cf],t=>t.tooltipItemPayloads),eye=X([Jge,og,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),m8=Ui("touchMove"),p8=Hp();p8.startListening({actionCreator:m8,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=l2(r,r.tooltip.settings.shared);if(i==="axis"){var a=z2(r,F2({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(Dz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(kB),m=(o=d.getAttribute(CB))!==null&&o!==void 0?o:void 0,g=eye(e.getState(),f,m);e.dispatch(Cz({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var tye=nB({brush:gme,cartesianAxis:xfe,chartData:Ale,errorBars:phe,graphicalItems:Ude,layout:vte,legend:ane,options:ble,polarAxis:Rue,polarOptions:Zge,referenceElements:Eme,rootProps:Yge,tooltip:hoe}),nye=function(e){return $ee({reducer:tye,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([o8.middleware,l8.middleware,$2.middleware,h8.middleware,p8.middleware]),devTools:Ja.devToolsEnabled})};function g8(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=rr(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=nye(e));var o=cI;return w.createElement(Gge,{context:o,store:a.current},n)}function y8(t){var{layout:e,width:n,height:r,margin:i}=t,a=un(),o=rr();return w.useEffect(()=>{o||(a(pte(e)),a(gte({width:n,height:r})),a(mte(i)))},[a,o,e,n,r,i]),null}function v8(t){var e=un();return w.useEffect(()=>{e(Qge(t))},[e,t]),null}var rye=["children"];function iye(t,e){if(t==null)return{};var n,r,i=aye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(null,arguments)}var sye={width:"100%",height:"100%"},oye=w.forwardRef((t,e)=>{var n=DB(),r=MB(),i=UB();if(!ef(n)||!ef(r))return null;var{children:a,otherAttributes:o,title:c,desc:d}=t,f,m;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0,w.createElement(T6,q0({},o,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:sye,ref:e}),a)}),lye=t=>{var{children:e}=t,n=Te(Wb);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return w.createElement(T6,{width:r,height:i,x:o,y:a},e)},M4=w.forwardRef((t,e)=>{var{children:n}=t,r=iye(t,rye),i=rr();return i?w.createElement(lye,null,n):w.createElement(oye,q0({ref:e},r),n)});function cye(){var t=un(),[e,n]=w.useState(null),r=Te(Hte);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;yr(a)&&a!==r&&t(yte(a))}},[e,t,r]),n}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e,n){return(e=fye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=hye(t,"string");return typeof e=="symbol"?e:e+""}function hye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mye=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:A,onTouchStart:E,style:S,width:P}=t,O=un(),[j,M]=w.useState(null),[C,V]=w.useState(null);Cle();var I=cye(),k=w.useCallback(ae=>{I(ae),typeof e=="function"&&e(ae),M(ae),V(ae)},[I,e,M,V]),D=w.useCallback(ae=>{O(s8(ae)),O(ji({handler:a,reactEvent:ae}))},[O,a]),B=w.useCallback(ae=>{O(cT(ae)),O(ji({handler:f,reactEvent:ae}))},[O,f]),F=w.useCallback(ae=>{O(jz()),O(ji({handler:m,reactEvent:ae}))},[O,m]),$=w.useCallback(ae=>{O(cT(ae)),O(ji({handler:g,reactEvent:ae}))},[O,g]),U=w.useCallback(()=>{O(f8())},[O]),he=w.useCallback(ae=>{O(d8(ae.key))},[O]),ve=w.useCallback(ae=>{O(ji({handler:o,reactEvent:ae}))},[O,o]),G=w.useCallback(ae=>{O(ji({handler:c,reactEvent:ae}))},[O,c]),ne=w.useCallback(ae=>{O(ji({handler:d,reactEvent:ae}))},[O,d]),ge=w.useCallback(ae=>{O(ji({handler:v,reactEvent:ae}))},[O,v]),Ie=w.useCallback(ae=>{O(ji({handler:E,reactEvent:ae}))},[O,E]),K=w.useCallback(ae=>{O(m8(ae)),O(ji({handler:A,reactEvent:ae}))},[O,A]),oe=w.useCallback(ae=>{O(ji({handler:x,reactEvent:ae}))},[O,x]);return w.createElement(Jz.Provider,{value:j},w.createElement(BZ.Provider,{value:C},w.createElement("div",{className:Qe("recharts-wrapper",r),style:uye({position:"relative",cursor:"default",width:P,height:i},S),onClick:D,onContextMenu:ve,onDoubleClick:G,onFocus:U,onKeyDown:he,onMouseDown:ne,onMouseEnter:B,onMouseLeave:F,onMouseMove:$,onMouseUp:ge,onTouchEnd:oe,onTouchMove:K,onTouchStart:Ie,ref:k},n)))}),pye=["children","className","width","height","style","compact","title","desc"];function gye(t,e){if(t==null)return{};var n,r,i=yye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b8=w.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:c,title:d,desc:f}=t,m=gye(t,pye),g=Cn(m);return c?w.createElement(M4,{otherAttributes:g,title:d,desc:f},n):w.createElement(mye,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(M4,{otherAttributes:g,title:d,desc:f,ref:e},w.createElement(Tme,null,n)))}),vye=["width","height"];function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(null,arguments)}function bye(t,e){if(t==null)return{};var n,r,i=xye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ye={top:5,right:5,bottom:5,left:5},wye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_ye,reverseStackOrder:!1,syncMethod:"index"},q2=w.forwardRef(function(e,n){var r,i=jn(e.categoricalChartProps,wye),{width:a,height:o}=i,c=bye(i,vye);if(!ef(a)||!ef(o))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:v}=e,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return w.createElement(g8,{preloadedState:{options:x},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},w.createElement(z9,{chartData:v.data}),w.createElement(y8,{width:a,height:o,layout:i.layout,margin:i.margin}),w.createElement(v8,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(b8,uT({},c,{width:a,height:o,ref:n})))}),Eye=["axis"],K2=w.forwardRef((t,e)=>w.createElement(q2,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eye,tooltipPayloadSearcher:cg,categoricalChartProps:t,ref:e})),Aye=["axis","item"],H2=w.forwardRef((t,e)=>w.createElement(q2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Aye,tooltipPayloadSearcher:cg,categoricalChartProps:t,ref:e}));function Tye(t){var e=un();return w.useEffect(()=>{e(Xge(t))},[e,t]),null}var Sye=["width","height","layout"];function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dT.apply(null,arguments)}function Iye(t,e){if(t==null)return{};var n,r,i=Nye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pye={top:5,right:5,bottom:5,left:5},Oye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pye,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},x8=w.forwardRef(function(e,n){var r,i=jn(e.categoricalChartProps,Oye),{width:a,height:o,layout:c}=i,d=Iye(i,Sye);if(!ef(a)||!ef(o))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=e,x={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return w.createElement(g8,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},w.createElement(z9,{chartData:i.data}),w.createElement(y8,{width:a,height:o,layout:c,margin:i.margin}),w.createElement(v8,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(Tye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(b8,dT({width:a,height:o},d,{ref:n})))}),Rye=["item"],kye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_8=w.forwardRef((t,e)=>{var n=jn(t,kye);return w.createElement(x8,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rye,tooltipPayloadSearcher:cg,categoricalChartProps:n,ref:e})}),Cye=["axis"],jye={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Dye=w.forwardRef((t,e)=>{var n=jn(t,jye);return w.createElement(x8,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cye,tooltipPayloadSearcher:cg,categoricalChartProps:n,ref:e})}),Mye=["axis"],Lye=w.forwardRef((t,e)=>w.createElement(q2,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mye,tooltipPayloadSearcher:cg,categoricalChartProps:t,ref:e}));const Vye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),p.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),Bye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),p.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),Uye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),p.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]}),zye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),p.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Fye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),$ye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),p.jsx("polyline",{points:"16,17 21,12 16,7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),qye=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),p.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),gl=({user:t,onLogout:e})=>{var f,m;const[n,r]=w.useState(!1),[i,a]=w.useState(()=>(window.location.hash||"#dashboard").slice(1)),o=w.useRef(null);w.useEffect(()=>{const g=()=>{a((window.location.hash||"#dashboard").slice(1))};return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]),w.useEffect(()=>{const g=v=>{o.current&&!o.current.contains(v.target)&&r(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const c=[{id:"dashboard",label:"Ana Panel",icon:Vye,href:"#dashboard",description:"Genel performans özeti"},{id:"exams",label:"LGS Denemeleri",icon:Uye,href:"#exams",description:"Deneme sınavı sonuçları"},{id:"mistakes",label:"Hata Defteri",icon:Bye,href:"#mistakes",description:"Yanlış sorular ve tekrar"}],d=g=>g.split("@")[0].slice(0,2).toUpperCase();return p.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("img",{src:"/idelogo.png",alt:"İde Okulları",className:"h-8 w-auto"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"İde Okulları"}),p.jsx("p",{className:"text-xs text-gray-500",children:"LGS Hazırlık Platformu"})]})]})}),p.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:c.map(g=>{const v=g.icon,x=i===g.id;return p.jsxs("a",{href:g.href,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 group ${x?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,title:g.description,children:[p.jsx(v,{className:`h-4 w-4 ${x?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}`}),p.jsx("span",{children:g.label}),x&&p.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},g.id)})}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:[p.jsx(qye,{className:"h-5 w-5"}),p.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),p.jsxs("div",{className:"relative",ref:o,children:[p.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:d(t.email||"")}),p.jsxs("div",{className:"hidden sm:block text-left",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:(f=t.email)==null?void 0:f.split("@")[0]}),p.jsx("p",{className:"text-xs text-gray-500",children:"LGS Öğrencisi"})]}),p.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&p.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[p.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:d(t.email||"")}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-gray-900",children:(m=t.email)==null?void 0:m.split("@")[0]}),p.jsx("p",{className:"text-sm text-gray-500",children:t.email}),p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"LGS Öğrencisi"})]})]})}),p.jsxs("div",{className:"py-2",children:[p.jsxs("a",{href:"#profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>r(!1),children:[p.jsx(Fye,{className:"h-4 w-4 mr-3 text-gray-500"}),"Profilim"]}),p.jsxs("a",{href:"#dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>r(!1),children:[p.jsx(zye,{className:"h-4 w-4 mr-3 text-gray-500"}),"İstatistiklerim"]})]}),p.jsx("div",{className:"border-t border-gray-100 pt-2",children:p.jsxs("button",{onClick:()=>{e(),r(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[p.jsx($ye,{className:"h-4 w-4 mr-3"}),"Çıkış Yap"]})})]})]})]}),p.jsx("div",{className:"md:hidden",children:p.jsx("button",{onClick:()=>r(!n),className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),n&&p.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:p.jsx("div",{className:"space-y-2",children:c.map(g=>{const v=g.icon,x=i===g.id;return p.jsxs("a",{href:g.href,className:`flex items-center space-x-3 px-4 py-3 rounded-lg ${x?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>r(!1),children:[p.jsx(v,{className:"h-5 w-5"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:g.label}),p.jsx("p",{className:"text-xs text-gray-500",children:g.description})]})]},g.id)})})})]})})},Kye=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),w8=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 4v16a2 2 0 002 2h10a2 2 0 002-2V8.586a2 2 0 00-.586-1.414l-4-4A2 2 0 0010.586 2H7a2 2 0 00-2 2zm5 12a3 3 0 100-6 3 3 0 000 6z"})}),Hye=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),lm=({columnKey:t,sortConfig:e})=>{const n=(e==null?void 0:e.key)===t,r=n&&(e==null?void 0:e.direction)==="ascending",i=n&&(e==null?void 0:e.direction)==="descending",a=r?"text-gray-900":"text-gray-400",o=i?"text-gray-900":"text-gray-400";return p.jsxs("span",{className:"inline-flex flex-col -space-y-1.5 ml-1",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${a}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${o}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})},Gye=[{id:"tr-1",name:"Okuduğunu Anlama",course:"Türkçe"},{id:"tr-2",name:"Paragraf",course:"Türkçe"},{id:"tr-3",name:"Dil Bilgisi",course:"Türkçe"},{id:"tr-4",name:"Sözcükte Anlam",course:"Türkçe"},{id:"tr-5",name:"Cümlede Anlam",course:"Türkçe"},{id:"tr-6",name:"Yazım Kuralları",course:"Türkçe"},{id:"tr-7",name:"Noktalama İşaretleri",course:"Türkçe"},{id:"tr-8",name:"Fiilimsiler",course:"Türkçe"},{id:"tr-9",name:"Cümle Bilgisi",course:"Türkçe"},{id:"tr-10",name:"Edebiyat",course:"Türkçe"},{id:"mat-1",name:"Çarpanlar ve Katlar",course:"Matematik"},{id:"mat-2",name:"Tam Sayılar",course:"Matematik"},{id:"mat-3",name:"Rasyonel Sayılar",course:"Matematik"},{id:"mat-4",name:"Cebirsel İfadeler",course:"Matematik"},{id:"mat-5",name:"Eşitlik ve Denklem",course:"Matematik"},{id:"mat-6",name:"Oran ve Orantı",course:"Matematik"},{id:"mat-7",name:"Yüzdeler",course:"Matematik"},{id:"mat-8",name:"Basit Faiz",course:"Matematik"},{id:"mat-9",name:"Doğrusal Denklemler",course:"Matematik"},{id:"mat-10",name:"Eşitsizlikler",course:"Matematik"},{id:"mat-11",name:"Üçgenler",course:"Matematik"},{id:"mat-12",name:"Dörtgenler",course:"Matematik"},{id:"mat-13",name:"Çember ve Daire",course:"Matematik"},{id:"mat-14",name:"Prizmalar",course:"Matematik"},{id:"mat-15",name:"Piramitler",course:"Matematik"},{id:"mat-16",name:"Silindir, Koni, Küre",course:"Matematik"},{id:"mat-17",name:"Veri Analizi",course:"Matematik"},{id:"mat-18",name:"Merkezi Eğilim Ölçüleri",course:"Matematik"},{id:"mat-19",name:"Olasılık",course:"Matematik"},{id:"fen-1",name:"Hücre ve Bölünmeler",course:"Fen Bilimleri"},{id:"fen-2",name:"Kalıtım",course:"Fen Bilimleri"},{id:"fen-3",name:"DNA ve Genetik Kod",course:"Fen Bilimleri"},{id:"fen-4",name:"Maddenin Yapısı",course:"Fen Bilimleri"},{id:"fen-5",name:"Periyodik Sistem",course:"Fen Bilimleri"},{id:"fen-6",name:"Kimyasal Türler Arası Etkileşimler",course:"Fen Bilimleri"},{id:"fen-7",name:"Asit, Baz ve Tuz",course:"Fen Bilimleri"},{id:"fen-8",name:"Elektrik Yükleri ve Elektrik Enerjisi",course:"Fen Bilimleri"},{id:"fen-9",name:"Basınç",course:"Fen Bilimleri"},{id:"fen-10",name:"Enerji Dönüşümleri",course:"Fen Bilimleri"},{id:"fen-11",name:"Işık",course:"Fen Bilimleri"},{id:"fen-12",name:"Ses",course:"Fen Bilimleri"},{id:"fen-13",name:"Güneş Sistemi ve Ötesi",course:"Fen Bilimleri"},{id:"fen-14",name:"Mevsimler ve İklim",course:"Fen Bilimleri"},{id:"fen-15",name:"Çevre Bilimi",course:"Fen Bilimleri"},{id:"sos-1",name:"İletişim ve İnsan İlişkileri",course:"Sosyal Bilgiler"},{id:"sos-2",name:"Türk Tarihinde Yolculuk",course:"Sosyal Bilgiler"},{id:"sos-3",name:"İslamiyet'in Doğuşu",course:"Sosyal Bilgiler"},{id:"sos-4",name:"İslam Medeniyetinin Doğuşu",course:"Sosyal Bilgiler"},{id:"sos-5",name:"Türklerin İslamiyeti Kabulü",course:"Sosyal Bilgiler"},{id:"sos-6",name:"Türklerin Anadolu'ya Gelişi",course:"Sosyal Bilgiler"},{id:"sos-7",name:"Beylikten Devlete",course:"Sosyal Bilgiler"},{id:"sos-8",name:"Osmanlı Devleti'nin Kuruluşu",course:"Sosyal Bilgiler"},{id:"sos-9",name:"Osmanlı Devleti'nin Gelişmesi",course:"Sosyal Bilgiler"},{id:"sos-10",name:"Osmanlı Kültür ve Medeniyeti",course:"Sosyal Bilgiler"},{id:"sos-11",name:"Zayıflamadan Uyanışa",course:"Sosyal Bilgiler"},{id:"sos-12",name:"Milli Mücadele",course:"Sosyal Bilgiler"},{id:"sos-13",name:"Atatürk İlkeleri",course:"Sosyal Bilgiler"},{id:"sos-14",name:"Demokrasi ve Milli Egemenlik",course:"Sosyal Bilgiler"},{id:"sos-15",name:"Ülkemizin Kaynakları",course:"Sosyal Bilgiler"},{id:"sos-16",name:"Türkiye'nin Coğrafi Özellikleri",course:"Sosyal Bilgiler"},{id:"sos-17",name:"Ülkemizde Nüfus",course:"Sosyal Bilgiler"},{id:"sos-18",name:"Ekonomi ve Sosyal Hayat",course:"Sosyal Bilgiler"},{id:"sos-19",name:"Ülkeler Arası Köprüler",course:"Sosyal Bilgiler"},{id:"sos-20",name:"Küresel Bağlantılar",course:"Sosyal Bilgiler"},{id:"sos-21",name:"Çevre ve Toplum",course:"Sosyal Bilgiler"},{id:"sos-22",name:"Bilim, Teknoloji ve Toplum",course:"Sosyal Bilgiler"},{id:"sos-23",name:"Yaşadığımız Dünya",course:"Sosyal Bilgiler"},{id:"din-1",name:"Kur'an-ı Kerim",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-2",name:"Hz. Muhammed'in Hayatı",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-3",name:"İbadetler",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-4",name:"İslam'ın Şartları",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-5",name:"İmanın Şartları",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-6",name:"Ahlak ve Değerler",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-7",name:"İslam Tarihi",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"din-8",name:"Dinler Tarihi",course:"Din Kültürü ve Ahlak Bilgisi"},{id:"ing-1",name:"Present Tense",course:"İngilizce"},{id:"ing-2",name:"Past Tense",course:"İngilizce"},{id:"ing-3",name:"Future Tense",course:"İngilizce"},{id:"ing-4",name:"Modal Verbs",course:"İngilizce"},{id:"ing-5",name:"Passive Voice",course:"İngilizce"},{id:"ing-6",name:"Conditionals",course:"İngilizce"},{id:"ing-7",name:"Question Forms",course:"İngilizce"},{id:"ing-8",name:"Adjectives and Adverbs",course:"İngilizce"},{id:"ing-9",name:"Prepositions",course:"İngilizce"},{id:"ing-10",name:"Vocabulary",course:"İngilizce"},{id:"ing-11",name:"Reading Comprehension",course:"İngilizce"},{id:"ing-12",name:"Dialogue Completion",course:"İngilizce"},{id:"ing-13",name:"Cloze Test",course:"İngilizce"},{id:"ing-14",name:"Translation",course:"İngilizce"},{id:"ing-15",name:"Sentence Completion",course:"İngilizce"},{id:"ing-16",name:"Grammar Rules",course:"İngilizce"},{id:"ing-17",name:"Text Analysis",course:"İngilizce"}];function pg(t){return Gye.filter(e=>e.course===t)}const V4=(t,e,n=0)=>{const r=t||0,i=e||0,a=n||0,o=r+i+a,c=r-i/4;if(o===0)return{percentage:0,display:"0%",net:0};const d=Math.round(Math.max(0,c)/o*100);return{percentage:d,display:`${d}%`,net:c}},B4=t=>t>=70?"bg-[#4CAF50]":t>=60?"bg-[#FFC107]":"bg-[#F44336]",Wye=t=>t>=70?"bg-emerald-50 text-emerald-700 border border-emerald-200":t>=60?"bg-amber-50 text-amber-700 border border-amber-200":"bg-rose-50 text-rose-700 border border-rose-200",Yye=({onAddResult:t,currentUserEmail:e,onCancel:n,isCompact:r})=>{const[i,a]=w.useState(""),[o,c]=w.useState(""),[d,f]=w.useState(""),[m,g]=w.useState(""),[v,x]=w.useState([]),[A,E]=w.useState(!1),[S,P]=w.useState(null),O=async()=>{if(!i||o===""||d===""||m===""){P("Tüm alanlar doldurulmalıdır.");return}P(null),E(!0);try{await t(i,parseInt(o,10),parseInt(d,10),parseInt(m,10),v)}catch(C){console.error("Error in handleSave:",C)}finally{E(!1)}},j=r?"px-1 py-0.5":"px-2 py-1",M=C=>{C.key==="Enter"&&(C.preventDefault(),O())};return p.jsxs("tr",{className:"bg-yellow-50 border-b",children:[p.jsx("td",{className:`${j} border-r border-l border-gray-300`,children:p.jsxs("select",{value:i,onChange:C=>{a(C.target.value),x([])},onKeyDown:M,className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"}`,required:!0,children:[p.jsx("option",{value:"",disabled:!0,children:"Bir ders seçin"}),p.jsx("option",{value:"Türkçe",children:"Türkçe"}),p.jsx("option",{value:"Matematik",children:"Matematik"}),p.jsx("option",{value:"Fen Bilgisi",children:"Fen Bilgisi"}),p.jsx("option",{value:"Sosyal Bilgiler",children:"Sosyal Bilgiler"}),p.jsx("option",{value:"Din Kültürü",children:"Din Kültürü"}),p.jsx("option",{value:"İngilizce",children:"İngilizce"})]})}),p.jsx("td",{className:`${j} border-r border-gray-300 w-44`,children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-[10px] text-gray-500",children:"Konu"}),p.jsx("div",{className:`border border-gray-300 rounded ${r?"p-1":"p-1.5"} bg-white max-h-20 overflow-auto`,children:p.jsx("div",{className:"grid grid-cols-1 gap-1",children:pg(i).map(C=>{const V=v[0]===C.name;return p.jsxs("label",{className:"inline-flex items-center gap-1 text-[10px] text-gray-700",children:[p.jsx("input",{type:"radio",name:"topic-select-add",className:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:V,onChange:()=>x([C.name])}),p.jsx("span",{children:C.name})]},C.id)})})}),v.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.map(C=>p.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-sky-50 text-sky-700 border border-sky-200 text-[10px]",children:C},C))}),p.jsx("div",{className:"mt-1",children:p.jsx("button",{type:"button",onClick:()=>x([]),className:"text-[10px] text-gray-500 hover:text-gray-700 underline",children:"Seçimi temizle"})})]})}),p.jsx("td",{className:`${j} border-r border-gray-300 w-28`,children:p.jsx("input",{type:"number",value:o,onChange:C=>{const V=C.target.value.replace(/\D/g,"");if(V==="")return c("");const I=Math.min(50,parseInt(V,10));c(String(I))},onKeyDown:M,placeholder:"0",min:"0",max:"50",className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"} text-right`})}),p.jsx("td",{className:`${j} border-r border-gray-300 w-28`,children:p.jsx("input",{type:"number",value:d,onChange:C=>{const V=C.target.value.replace(/\D/g,"");if(V==="")return f("");const I=Math.min(50,parseInt(V,10));f(String(I))},onKeyDown:M,placeholder:"0",min:"0",max:"50",className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"} text-right`})}),p.jsx("td",{className:`${j} border-r border-gray-300 w-28`,children:p.jsx("input",{type:"number",value:m,onChange:C=>{const V=C.target.value.replace(/\D/g,"");if(V==="")return g("");const I=Math.min(50,parseInt(V,10));g(String(I))},onKeyDown:M,placeholder:"0",min:"0",max:"50",className:`w-full bg-transparent focus:outline-none ${r?"p-1 text-[10px]":"p-1.5 text-xs"} text-right`})}),p.jsx("td",{className:`${j} border-r border-gray-300 w-28`,children:((Number(o)||0)-(Number(d)||0)/4).toFixed(2)}),p.jsx("td",{className:`${j} border-r border-gray-300 w-48`}),p.jsx("td",{className:`${j} border-r border-gray-300 truncate`,children:e}),p.jsxs("td",{className:`${j} border-r border-gray-300 w-32 text-center`,children:[p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsx("button",{onClick:O,disabled:A,className:`${r?"p-1":"p-1.5"} text-green-600 hover:bg-green-100 rounded-full`,children:A?p.jsx($p,{}):p.jsx(w8,{})}),p.jsx("button",{onClick:n,disabled:A,className:`${r?"p-1":"p-1.5"} text-red-600 hover:bg-red-100 rounded-full`,children:p.jsx(XS,{})})]}),S&&p.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:S})]})]})},Qye=({results:t,currentUserId:e,onDelete:n,onAddResult:r,onUpdateResult:i,onAddMistake:a,currentUserEmail:o,isAdding:c,onCancelAdd:d,sortConfig:f,requestSort:m,isCompact:g})=>{const[v,x]=w.useState(null),[A,E]=w.useState({dersAdi:"",dogruSayisi:"",yanlisSayisi:"",bosSayisi:"",topics:[]}),[S,P]=w.useState(!1),[O,j]=w.useState(null),M=B=>{x(B.id),E({dersAdi:B.dersAdi,dogruSayisi:String(B.dogruSayisi),yanlisSayisi:String(B.yanlisSayisi),bosSayisi:String(B.bosSayisi||0),topics:B.topics||[]}),j(null)},C=()=>{x(null),j(null)},V=B=>{const{name:F,value:$}=B.target;if(F==="dogruSayisi"||F==="yanlisSayisi"||F==="bosSayisi"){const U=$.replace(/\D/g,""),he=U===""?"":String(Math.min(50,parseInt(U,10)));E(ve=>({...ve,[F]:he}))}else E(U=>({...U,[F]:$}))},I=async B=>{if(!A.dersAdi||A.dogruSayisi===""||A.yanlisSayisi===""||A.bosSayisi===""){j("Tüm alanlar doldurulmalıdır.");return}j(null),P(!0);try{await i(B,A.dersAdi,parseInt(A.dogruSayisi,10),parseInt(A.yanlisSayisi,10),parseInt(A.bosSayisi,10),A.topics),x(null)}catch{}finally{P(!1)}},k=g?"px-1 py-0.5":"px-2 py-1",D=g?"px-1.5 py-1.5":"px-2 py-2";return p.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg shadow-sm bg-white",children:p.jsxs("table",{className:"w-full text-xs text-left text-gray-700",children:[p.jsx("thead",{className:"text-[10px] text-gray-700 uppercase bg-gradient-to-b from-gray-100 to-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200`,children:p.jsxs("button",{onClick:()=>m("dersAdi"),className:"flex items-center gap-1 w-full",children:["Ders Adı ",p.jsx(lm,{columnKey:"dersAdi",sortConfig:f})]})}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-44`,children:"Konular"}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:p.jsxs("button",{onClick:()=>m("dogruSayisi"),className:"flex items-center gap-1 w-full justify-center",children:["Doğru ",p.jsx(lm,{columnKey:"dogruSayisi",sortConfig:f})]})}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:p.jsxs("button",{onClick:()=>m("yanlisSayisi"),className:"flex items-center gap-1 w-full justify-center",children:["Yanlış ",p.jsx(lm,{columnKey:"yanlisSayisi",sortConfig:f})]})}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:p.jsxs("button",{onClick:()=>m("bosSayisi"),className:"flex items-center gap-1 w-full justify-center",children:["Boş ",p.jsx(lm,{columnKey:"bosSayisi",sortConfig:f})]})}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-28 text-center`,children:"Net"}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200 w-48 text-center`,children:"Başarı Oranı"}),p.jsx("th",{scope:"col",className:`${D} border-r border-gray-200`,children:p.jsxs("button",{onClick:()=>m("kullaniciEmail"),className:"flex items-center gap-1 w-full",children:["E-posta ",p.jsx(lm,{columnKey:"kullaniciEmail",sortConfig:f})]})}),p.jsx("th",{scope:"col",className:`${D} w-32 text-center`,children:"Eylemler"})]})}),p.jsxs("tbody",{children:[c&&p.jsx(Yye,{onAddResult:r,currentUserEmail:o,onCancel:d,isCompact:g}),t.map((B,F)=>{const $=v===B.id,U=`${F%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-50/70 transition-colors`;if($){const{percentage:ge,net:Ie}=V4(Number(A.dogruSayisi)||0,Number(A.yanlisSayisi)||0,Number(A.bosSayisi)||0),K=B4(ge),oe=ae=>{ae.key==="Enter"&&(ae.preventDefault(),I(B.id))};return p.jsxs("tr",{className:"bg-yellow-50 border-b",children:[p.jsx("td",{className:`${k} border-r border-l border-gray-300`,children:p.jsx("input",{type:"text",name:"dersAdi",value:A.dersAdi,onChange:V,onKeyDown:oe,className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2"})}),p.jsx("td",{className:`${k} border-r border-gray-300 w-44`,children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("div",{className:`border border-gray-300 rounded ${g?"p-1":"p-1.5"} bg-white max-h-20 overflow-auto`,children:p.jsx("div",{className:"grid grid-cols-1 gap-1",children:pg(A.dersAdi).map(ae=>{const fe=(A.topics[0]||"")===ae.name;return p.jsxs("label",{className:"inline-flex items-center gap-1 text-[10px] text-gray-700",children:[p.jsx("input",{type:"radio",name:`topic-select-${v||"edit"}`,className:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:fe,onChange:()=>E(Ne=>({...Ne,topics:[ae.name]}))}),p.jsx("span",{children:ae.name})]},ae.id)})})}),A.topics.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:A.topics.map(ae=>p.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-sky-50 text-sky-700 border border-sky-200 text-[10px]",children:ae},ae))}),p.jsx("div",{className:"mt-1",children:p.jsx("button",{type:"button",onClick:()=>E(ae=>({...ae,topics:[]})),className:"text-[10px] text-gray-500 hover:text-gray-700 underline",children:"Seçimi temizle"})})]})}),p.jsx("td",{className:`${k} border-r border-gray-300 w-28`,children:p.jsx("input",{type:"number",name:"dogruSayisi",value:A.dogruSayisi,onChange:V,onKeyDown:oe,min:"0",max:"50",className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2 text-right"})}),p.jsx("td",{className:`${k} border-r border-gray-300 w-28`,children:p.jsx("input",{type:"number",name:"yanlisSayisi",value:A.yanlisSayisi,onChange:V,onKeyDown:oe,min:"0",max:"50",className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2 text-right"})}),p.jsx("td",{className:`${k} border-r border-gray-300 w-28`,children:p.jsx("input",{type:"number",name:"bosSayisi",value:A.bosSayisi,onChange:V,onKeyDown:oe,min:"0",max:"50",className:"w-full bg-transparent focus:outline-none focus:ring-2 focus:ring-yellow-500 p-2 text-right"})}),p.jsx("td",{className:`${k} text-right border-r border-gray-300 w-28`,children:Ie.toFixed(2)}),p.jsx("td",{className:`${k} border-r border-gray-300 w-48`,children:p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("div",{className:"w-full h-1.5 bg-gray-100 rounded-full",children:p.jsx("div",{className:`${K} h-1.5 rounded-full`,style:{width:`${ge}%`}})}),p.jsxs("span",{className:"font-medium text-gray-700 text-[10px]",children:[ge,"%"]})]})}),p.jsx("td",{className:`${k} border-r border-gray-300 truncate`,children:B.kullaniciEmail}),p.jsxs("td",{className:`${k} border-r border-gray-300 w-32`,children:[p.jsxs("div",{className:"flex justify-center items-center gap-1",children:[p.jsx("button",{onClick:()=>I(B.id),disabled:S,className:"p-1.5 text-green-600 hover:bg-green-100 rounded-full disabled:opacity-50","aria-label":"Kaydet",children:S?p.jsx($p,{}):p.jsx(w8,{})}),p.jsx("button",{onClick:C,disabled:S,className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full disabled:opacity-50","aria-label":"İptal",children:p.jsx(XS,{})})]}),O&&p.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:O})]})]},B.id)}const{percentage:he,display:ve,net:G}=V4(B.dogruSayisi||0,B.yanlisSayisi||0,B.bosSayisi||0),ne=B4(he);return p.jsxs("tr",{className:`${U} border-b`,children:[p.jsx("td",{className:`${k} font-medium text-gray-900 border-r border-l border-gray-200`,children:B.dersAdi}),p.jsx("td",{className:`${k} border-r border-gray-200`,children:p.jsx("div",{className:"flex flex-wrap gap-1",children:(B.topics||[]).map(ge=>p.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-gray-50 text-gray-700 border border-gray-200 text-[10px]",title:ge,children:ge},ge))})}),p.jsx("td",{className:`${k} text-right border-r border-gray-200`,children:B.dogruSayisi}),p.jsx("td",{className:`${k} text-right border-r border-gray-200`,children:B.yanlisSayisi}),p.jsx("td",{className:`${k} text-right border-r border-gray-200`,children:B.bosSayisi||0}),p.jsx("td",{className:`${k} text-right border-r border-gray-200 ${he>=70?"text-emerald-700":he>=60?"text-amber-700":"text-rose-700"}`,children:G.toFixed(2)}),p.jsx("td",{className:`${k} border-r border-gray-200`,children:p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("div",{className:"w-full h-1.5 bg-gray-100 rounded-full",children:p.jsx("div",{className:`${ne} h-1.5 rounded-full`,style:{width:`${he}%`}})}),p.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-[10px] font-medium ${Wye(he)}`,children:ve})]})}),p.jsx("td",{className:`${k} border-r border-gray-200 truncate`,title:B.kullaniciEmail,children:B.kullaniciEmail}),p.jsx("td",{className:`${k} border-r border-gray-200`,children:B.kullaniciId===e&&p.jsxs("div",{className:"flex justify-center items-center gap-1",children:[p.jsx("button",{onClick:()=>M(B),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full","aria-label":"Düzenle",children:p.jsx(Hye,{})}),p.jsx("button",{onClick:()=>a(B),className:"px-1.5 py-0.5 text-[10px] text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded",title:"Hata Defteri'ne Ekle",children:"Hata Defteri"}),p.jsx("button",{onClick:()=>n(B.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full","aria-label":"Sil",children:p.jsx(Kye,{})})]})})]},B.id)}),t.length===0&&!c&&p.jsx("tr",{className:"bg-white",children:p.jsxs("td",{colSpan:9,className:"text-center text-gray-500 py-8 border border-gray-300",children:[p.jsx("p",{children:"Henüz test sonucu eklenmemiş."}),p.jsx("p",{className:"text-xs",children:'Başlamak için yukarıdaki "Yeni Sonuç Ekle" butonunu kullanın.'})]})})]})]})})},E8=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-5 w-5",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4h4M20 8V4h-4M4 16v4h4M20 16v4h-4"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 4L4 8M16 4l4 4M8 20l-4-4M16 20l4-4"})]}),G2=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4","aria-hidden":"true",children:[p.jsx("circle",{cx:"12",cy:"12",r:"9"}),p.jsx("path",{d:"M12 8h.01"}),p.jsx("path",{d:"M11 12h1v4h1"})]}),U4=({data:t,height:e=60,selectedCourse:n,showFilter:r=!1,onEnlarge:i,showEnlarge:a=!0,scopeBadge:o})=>{const c=w.useMemo(()=>["all",...Array.from(new Set(t.map(O=>O.dersAdi))).sort()],[t]),[d,f]=w.useState("all"),[m,g]=w.useState("30"),v=r?d:n,A=(()=>{const P={};let O=v&&v!=="all"?t.filter(j=>j.dersAdi===v):t;if(m!=="all"){const j=m==="7"?7:30,M=new Date,C=new Date(M.getFullYear(),M.getMonth(),M.getDate());C.setDate(C.getDate()-(j-1)),O=O.filter(V=>{if(!V.createdAt)return!1;const I=new Date(V.createdAt.toDate());return new Date(I.getFullYear(),I.getMonth(),I.getDate())>=C})}return O.forEach(j=>{if(j.createdAt){const M=new Date(j.createdAt.toDate()),C=new Date(Date.UTC(M.getFullYear(),M.getMonth(),M.getDate())).toISOString().slice(0,10);P[C]||(P[C]={totalCorrect:0,totalWrong:0,totalQuestions:0,count:0}),P[C].totalCorrect+=j.dogruSayisi,P[C].totalWrong+=j.yanlisSayisi,P[C].totalQuestions+=j.dogruSayisi+j.yanlisSayisi+j.bosSayisi,P[C].count+=1}}),Object.keys(P).map(j=>{const{totalCorrect:M,totalWrong:C,totalQuestions:V}=P[j],I=M-C/4,k=V>0?Math.round(Math.max(0,I)/V*100):0;return{name:j,"Başarı Oranı":k}})})(),E=A.length?Math.round(A.reduce((P,O)=>P+(typeof O["Başarı Oranı"]=="number"?O["Başarı Oranı"]:0),0)/A.length):0,S=E>=80?"#10b981":E>=60?"#f59e0b":"#f43f5e";return p.jsxs("div",{className:"bg-white p-1.5 rounded-lg border border-gray-200 shadow-sm h-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5 gap-1",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("h2",{className:"text-[10px] font-semibold text-gray-800",children:"Zaman İçindeki Gelişim"}),p.jsx("span",{title:"Zaman içinde başarı yüzdesi; ders ve kapsam seçimine göre filtrelenir.","aria-label":"Zaman içinde başarı yüzdesi; ders ve kapsam seçimine göre filtrelenir.",className:"text-gray-400 hover:text-gray-600",children:p.jsx(G2,{className:"h-2.5 w-2.5"})}),o]}),p.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap justify-end",children:[r&&c.length>1&&p.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[p.jsx("label",{htmlFor:"ts-course",className:"text-[9px] text-gray-600",children:"Ders:"}),p.jsx("select",{id:"ts-course",value:d,onChange:P=>f(P.target.value),className:"rounded border-gray-300 shadow-sm bg-white focus:ring-1 focus:ring-green-500 focus:border-green-500 py-0.5 px-1 text-[9px]",children:c.map(P=>p.jsx("option",{value:P,children:P==="all"?"Tüm Dersler":P},P))})]}),p.jsx("div",{className:"hidden sm:block h-4 w-px bg-gray-200"}),p.jsxs("div",{className:"inline-flex items-center rounded bg-white border border-gray-200 p-0.5 shrink-0",children:[p.jsxs("button",{type:"button",className:`px-1.5 py-0.5 text-[9px] rounded ${m==="7"?"bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>g("7"),children:[p.jsx("span",{className:"sm:hidden",children:"7g"}),p.jsx("span",{className:"hidden sm:inline",children:"7g"})]}),p.jsxs("button",{type:"button",className:`px-1.5 py-0.5 text-[9px] rounded ${m==="30"?"bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>g("30"),children:[p.jsx("span",{className:"sm:hidden",children:"30g"}),p.jsx("span",{className:"hidden sm:inline",children:"30g"})]}),p.jsx("button",{type:"button",className:`px-1.5 py-0.5 text-[9px] rounded ${m==="all"?"bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm":"text-gray-700"}`,onClick:()=>g("all"),children:"Tümü"})]}),a&&p.jsx("button",{type:"button","aria-label":"Büyüt",onClick:i,className:"inline-flex items-center justify-center h-5 w-5 rounded border border-gray-300 hover:bg-gray-50 text-gray-600",children:p.jsx(E8,{className:"h-3 w-3"})})]})]}),p.jsx(Fa,{width:"100%",height:e,children:p.jsxs(K2,{data:A,margin:{top:2,right:2,left:2,bottom:2},children:[p.jsx(hl,{strokeDasharray:"2 2",stroke:"#f5f5f5"}),p.jsx(ml,{dataKey:"name",fontSize:8,tickFormatter:P=>{const O=new Date(P);return isNaN(O.getTime())?P:O.toLocaleDateString("tr-TR",{day:"2-digit",month:"short"})},angle:-30,tickMargin:4,interval:"preserveStartEnd",tickCount:4}),p.jsx(pl,{fontSize:8,domain:[0,100],allowDecimals:!1,tickFormatter:P=>`${P}%`}),p.jsx(za,{formatter:(P,O)=>[`${P}%`,O],labelFormatter:P=>{const O=new Date(P);return isNaN(O.getTime())?P:O.toLocaleDateString("tr-TR",{day:"2-digit",month:"short",year:"numeric"})}}),p.jsx(vp,{type:"monotone",dataKey:"Başarı Oranı",stroke:S,strokeWidth:1.5,activeDot:{r:2}})]})})]})},RE=({data:t,height:e=60,onEnlarge:n,showEnlarge:r=!0,scopeBadge:i})=>{const o=(()=>{const c={};return t.forEach(d=>{c[d.dersAdi]||(c[d.dersAdi]={totalCorrect:0,totalWrong:0,totalEmpty:0,totalQuestions:0}),c[d.dersAdi].totalCorrect+=d.dogruSayisi,c[d.dersAdi].totalWrong+=d.yanlisSayisi,c[d.dersAdi].totalEmpty+=d.bosSayisi,c[d.dersAdi].totalQuestions+=d.dogruSayisi+d.yanlisSayisi+d.bosSayisi}),Object.keys(c).map(d=>{const{totalCorrect:f,totalWrong:m,totalQuestions:g}=c[d],v=f-m/4,x=g>0?Math.round(Math.max(0,v)/g*100):0;return{name:d,"Başarı Oranı":x}})})();return p.jsxs("div",{className:"bg-white p-1.5 rounded-lg border border-gray-200 shadow-sm h-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5 gap-1",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("h2",{className:"text-[10px] font-semibold text-gray-800",children:"Derslere Göre Başarı Dağılımı"}),p.jsx("span",{title:"Başarı oranı net doğru / toplam sorudan hesaplanır. Kapsam seçimine göre veri değişir.","aria-label":"Başarı oranı net doğru / toplam sorudan hesaplanır. Kapsam seçimine göre veri değişir.",className:"text-gray-400 hover:text-gray-600",children:p.jsx(G2,{className:"h-2.5 w-2.5"})}),i]}),r&&p.jsx("button",{type:"button","aria-label":"Büyüt",onClick:n,className:"inline-flex items-center justify-center h-5 w-5 rounded border border-gray-300 hover:bg-gray-50 text-gray-600",children:p.jsx(E8,{className:"h-3 w-3"})})]}),p.jsx(Fa,{width:"100%",height:e,children:p.jsxs(H2,{data:o,margin:{top:2,right:2,left:2,bottom:2},children:[p.jsx(hl,{strokeDasharray:"2 2",stroke:"#f5f5f5"}),p.jsx(ml,{dataKey:"name",fontSize:8}),p.jsx(pl,{fontSize:8}),p.jsx(za,{}),p.jsx(_x,{dataKey:"Başarı Oranı",barSize:10,radius:[1,1,0,0],children:o.map((c,d)=>{const f=c["Başarı Oranı"],m=f>=80?"#10b981":f>=60?"#f59e0b":"#f43f5e";return p.jsx(du,{fill:m},`cell-${d}`)})})]})})]})},Xye=({data:t,scopeBadge:e})=>{const n=()=>{const a={};t.forEach(d=>{a[d.dersAdi]||(a[d.dersAdi]={totalCorrect:0,totalWrong:0,totalQuestions:0}),a[d.dersAdi].totalCorrect+=d.dogruSayisi,a[d.dersAdi].totalWrong+=d.yanlisSayisi,a[d.dersAdi].totalQuestions+=d.dogruSayisi+d.yanlisSayisi+d.bosSayisi});const o=Object.keys(a).map(d=>{const{totalCorrect:f,totalWrong:m,totalQuestions:g}=a[d],v=f-m/4,x=g>0?Math.round(Math.max(0,v)/g*100):0;return{course:d,successRate:x}});if(o.length===0)return{bestCourse:null,worstCourse:null};const c=o.sort((d,f)=>f.successRate-d.successRate);return{bestCourse:c[0],worstCourse:c[c.length-1]}},{bestCourse:r,worstCourse:i}=n();return p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[r&&p.jsxs("div",{className:"relative bg-gradient-to-r from-green-50 to-green-100 p-2 rounded-lg border border-green-200 overflow-hidden",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[p.jsx("h3",{className:"text-[10px] font-medium text-green-800",children:"En Güçlü Dersin"}),e]}),p.jsx("p",{className:"text-xs font-bold text-green-900",children:r.course}),p.jsxs("p",{className:`text-[10px] ${r.successRate>=80?"text-emerald-700":r.successRate>=60?"text-amber-700":"text-rose-700"}`,children:[r.successRate,"% başarı"]})]}),p.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-200 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-green-800 font-bold text-xs",children:"✓"})})]}),i&&(r==null?void 0:r.course)!==(i==null?void 0:i.course)&&p.jsxs("div",{className:"relative bg-gradient-to-r from-orange-50 to-orange-100 p-2 rounded-lg border border-orange-200 overflow-hidden",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[p.jsx("h3",{className:"text-[10px] font-medium text-orange-800",children:"Geliştirilmesi Gereken"}),e]}),p.jsx("p",{className:"text-xs font-bold text-orange-900",children:i.course}),p.jsxs("p",{className:`text-[10px] ${i.successRate>=80?"text-emerald-700":i.successRate>=60?"text-amber-700":"text-rose-700"}`,children:[i.successRate,"% başarı"]})]}),p.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-orange-200 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-orange-800 font-bold text-xs",children:"!"})})]})]})},Zye=({data:t,currentUserId:e})=>{const n=w.useMemo(()=>{const r={};t.forEach(a=>{const o=a.dersAdi;r[o]||(r[o]={}),r[o][a.kullaniciId]||(r[o][a.kullaniciId]={totalCorrect:0,totalWrong:0,totalEmpty:0}),r[o][a.kullaniciId].totalCorrect+=a.dogruSayisi||0,r[o][a.kullaniciId].totalWrong+=a.yanlisSayisi||0,r[o][a.kullaniciId].totalEmpty+=a.bosSayisi||0});const i=[];return Object.keys(r).forEach(a=>{const o=r[a],c=Object.keys(o).map(m=>{const{totalCorrect:g,totalWrong:v,totalEmpty:x}=o[m],A=g+v+x,E=g-v/4,S=A>0?Math.max(0,E)/A:0;return{uid:m,successRate:S}});c.sort((m,g)=>g.successRate-m.successRate);const d=c.length,f=c.findIndex(m=>m.uid===e);f!==-1?i.push({subject:a,rank:f+1,total:d,successRate:Math.round(c[f].successRate*100)}):i.push({subject:a,rank:NaN,total:d,successRate:null})}),i.sort((a,o)=>a.subject.localeCompare(o.subject)),i},[t,e]);return n.length===0?null:p.jsxs("div",{className:"bg-white p-2.5 rounded-lg border border-gray-200 shadow-sm h-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[p.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:"Ders Bazlı Sıralaman"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-sky-50 text-sky-700 border border-sky-100",children:"Okul geneli"}),p.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Güncel"})]})]}),p.jsx("p",{className:"text-[9px] text-gray-500 mb-2",children:"Bu sıralama, okul genelindeki tüm kullanıcıların sonuçlarına göre hesaplanır."}),p.jsxs("div",{className:"flex items-center justify-end mb-1.5",children:[p.jsx("span",{className:"text-[9px] text-gray-400 mr-1",children:"Kaydır"}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3 text-gray-400",children:p.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L9.586 11 7.293 8.707a1 1 0 111.414-1.414l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 [-ms-overflow-style:none] [scrollbar-width:none]",style:{WebkitOverflowScrolling:"touch"},children:[p.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{display:none}"}),n.map(r=>{const i=!Number.isNaN(r.rank),a=typeof r.successRate=="number"?Math.max(0,Math.min(100,r.successRate)):0,o=a>=80?"bg-emerald-500":a>=60?"bg-amber-500":"bg-rose-500";return p.jsxs("div",{className:"rounded-lg border border-gray-200 p-2 bg-white min-w-[180px]",children:[p.jsxs("div",{className:"flex items-center justify-between gap-1.5",children:[p.jsx("p",{className:"text-[10px] font-medium text-gray-800 truncate",children:r.subject}),i?p.jsxs("span",{className:"shrink-0 text-[10px] font-semibold text-gray-900 bg-gray-50 border border-gray-200 rounded-md px-1.5 py-0.5",children:["#",r.rank," / ",r.total]}):p.jsx("span",{className:"shrink-0 text-[10px] text-gray-500",children:"Henüz veri yok"})]}),p.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5",children:[p.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-md overflow-hidden",children:p.jsx("div",{className:`h-1 ${o} rounded-md`,style:{width:`${a}%`}})}),p.jsxs("span",{className:"w-8 text-right text-[10px] text-gray-600",children:["%",a]})]})]},r.subject)})]}),p.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-full w-8 bg-gradient-to-l from-white to-transparent rounded-r-xl"})]})]})},Jye=({data:t,currentUserId:e})=>{const n=t.filter(i=>i.kullaniciId===e),r={totalTests:n.length,avgSuccess:n.length>0?Math.round(n.reduce((i,a)=>{const o=a.dogruSayisi+a.yanlisSayisi+a.bosSayisi,c=a.dogruSayisi-a.yanlisSayisi/4;return i+(o>0?Math.max(0,c)/o*100:0)},0)/n.length):0,totalQuestions:n.reduce((i,a)=>i+a.dogruSayisi+a.yanlisSayisi+a.bosSayisi,0)};return p.jsxs("div",{className:"bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[p.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 mb-2",children:"Hızlı İstatistikler"}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-[9px] text-gray-600",children:"Ortalama Başarı"}),p.jsxs("span",{className:"text-[10px] font-semibold text-gray-900",children:[r.avgSuccess,"%"]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-[9px] text-gray-600",children:"Toplam Test"}),p.jsx("span",{className:"text-[10px] font-semibold text-gray-900",children:r.totalTests})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-[9px] text-gray-600",children:"Toplam Soru"}),p.jsx("span",{className:"text-[10px] font-semibold text-gray-900",children:r.totalQuestions})]})]})]})},eve=({data:t,currentUserId:e,compact:n=!1})=>{const r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=w.useMemo(()=>t.filter(f=>f.kullaniciId===e&&f.createdAt),[t,e]),o=w.useMemo(()=>{const f=new Set;a.forEach(g=>{const v=new Date(g.createdAt.toDate()),x=new Date(v.getFullYear(),v.getMonth(),v.getDate()).toISOString().slice(0,10);f.add(x)});let m=0;for(let g=0;g<30;g++){const v=new Date(i);v.setDate(v.getDate()-g);const x=new Date(Date.UTC(v.getFullYear(),v.getMonth(),v.getDate())).toISOString().slice(0,10);if(f.has(x))m++;else break}return m},[a,i]),c=o>=7,d=Math.min(100,Math.round(o/7*100));return p.jsxs("div",{className:`bg-white ${n?"p-2":"p-2.5"} rounded-lg border border-gray-200 shadow-sm h-full`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[p.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:"Peş Peşe Gün"}),!n&&p.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Motivasyon"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("p",{className:`font-semibold text-gray-900 ${n?"text-[12px]":"text-xs"}`,children:[o," gün"]}),p.jsx("p",{className:"text-[10px] text-gray-500",children:"Hedef: 7 gün"})]}),p.jsx("div",{className:`${n?"w-6 h-6":"w-7 h-7"} rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`${n?"h-3 w-3":"h-3.5 w-3.5"}`,children:[p.jsx("path",{d:"M12 2v4"}),p.jsx("path",{d:"M12 22v-6"}),p.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),p.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),p.jsx("path",{d:"M2 12h4"}),p.jsx("path",{d:"M18 12h4"}),p.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),p.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})})]}),p.jsx("div",{className:`mt-2 ${n?"h-1":"h-1.5"} w-full bg-gray-100 rounded-md overflow-hidden`,children:p.jsx("div",{className:`${n?"h-1":"h-1.5"} ${c?"bg-amber-500":o>0?"bg-emerald-500":"bg-gray-300"}`,style:{width:`${o>0?d:5}%`}})}),c?p.jsxs("div",{className:`mt-2 inline-flex items-center gap-1.5 ${n?"px-1 py-0.5":"px-1.5 py-0.5"} rounded-md bg-amber-50 text-amber-700 border border-amber-200`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`${n?"h-3 w-3":"h-3.5 w-3.5"}`,children:[p.jsx("path",{d:"M8 21h8"}),p.jsx("path",{d:"M12 17v4"}),p.jsx("path",{d:"M7 4h10v5a5 5 0 01-10 0V4z"}),p.jsx("path",{d:"M17 5h2a3 3 0 010 6h-2"}),p.jsx("path",{d:"M7 5H5a3 3 0 000 6h2"})]}),p.jsx("span",{className:"text-[10px] font-medium",children:"Tebrikler! 7 günlük seri rozeti kazandın."})]}):p.jsx("p",{className:"mt-1.5 text-[10px] text-gray-500",children:"Her gün bir test ekleyerek 7 günlük seriyi tamamla, rozeti kap."})]})},tve={first_test:{label:"İlk Test",description:"İlk test kaydını ekledin",icon:"🏁",earnedClasses:"bg-emerald-50 text-emerald-700 border-emerald-200",iconBg:"bg-emerald-100"},five_tests:{label:"5 Test",description:"Toplam 5 test kaydına ulaştın",icon:"🎯",earnedClasses:"bg-sky-50 text-sky-700 border-sky-200",iconBg:"bg-sky-100"},seven_day_streak:{label:"7 Gün Seri",description:"Son 7 günde her gün test ekledin",icon:"🔥",earnedClasses:"bg-amber-50 text-amber-700 border-amber-200",iconBg:"bg-amber-100"}},nve=({earned:t,compact:e=!0,showLocked:n=!0})=>{const r=["first_test","five_tests","seven_day_streak"],i=e?"text-[10px] px-1.5 py-0.5":"text-xs px-2 py-1",a=e?"w-4 h-4":"w-5 h-5";return p.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:r.map(o=>{const c=tve[o],d=t.includes(o);if(!d&&!n)return null;const f="inline-flex items-center gap-1 border rounded-full transition-colors",m=d?c.earnedClasses:"bg-gray-50 text-gray-400 border-gray-200";return p.jsxs("span",{className:`${f} ${m} ${i}`,"aria-label":`${c.label} — ${d?"Kazanıldı":"Kilitli"}`,title:`${c.label} • ${c.description}`,children:[p.jsx("span",{className:`inline-flex items-center justify-center ${a} rounded-full ${d?c.iconBg:"bg-gray-200"}`,"aria-hidden":!0,children:p.jsx("span",{className:e?"text-[11px]":"text-sm",children:c.icon})}),p.jsx("span",{className:"whitespace-nowrap",children:c.label})]},o)})})},rve=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4","aria-hidden":!0,children:[p.jsx("circle",{cx:"12",cy:"8",r:"4"}),p.jsx("path",{d:"M8 12l-2 8 6-3 6 3-2-8"})]}),ive={giris:{label:"Giriş Seviyesi",bg:"bg-sky-50",text:"text-sky-700",border:"border-sky-100"},orta:{label:"Orta Seviye",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100"},ileri:{label:"İleri Seviye",bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-100"}},ave=({level:t="giris",compact:e=!1})=>{const n=ive[t];return p.jsxs("div",{className:`h-full ${n.bg} ${n.text} ${n.border} border rounded-lg shadow-sm ${e?"p-1.5":"p-2"} flex items-center gap-1.5 min-w-[120px]`,children:[p.jsx("div",{className:`${e?"w-6 h-6":"w-7 h-7"} rounded-full bg-white/70 flex items-center justify-center`,children:p.jsx(rve,{className:`${e?"h-3 w-3":"h-3.5 w-3.5"}`})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("p",{className:`font-semibold uppercase opacity-80 ${e?"text-[8px]":"text-[9px]"}`,children:"Üyelik Seviyesi"}),p.jsx("p",{className:`${e?"text-[11px]":"text-xs"} font-semibold truncate`,children:n.label})]})]})},sve=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4",children:[p.jsx("circle",{cx:"12",cy:"12",r:"9"}),p.jsx("path",{d:"M3 12h18"}),p.jsx("path",{d:"M12 3c2.5 3 2.5 15 0 18"}),p.jsx("path",{d:"M7 5c1 .8 2.5 3.5 2.5 7S8 18.2 7 19"}),p.jsx("path",{d:"M17 5c-1 .8-2.5 3.5-2.5 7S16 18.2 17 19"})]}),ove=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t||"h-4 w-4",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),hn=({scope:t,showText:e=!1,className:n})=>{const r=t==="school",i=r?sve:ove,a=r?"Okul geneli":"Kendim";return p.jsxs("span",{title:a,className:n||"inline-flex items-center gap-1 px-2 py-0.5 rounded-full border text-[10px] "+(r?"bg-sky-50 text-sky-700 border-sky-100":"bg-emerald-50 text-emerald-700 border-emerald-100"),children:[p.jsx(i,{className:"h-3.5 w-3.5"}),e&&p.jsx("span",{children:a})]})},Vo=({title:t,value:e,icon:n,badgeLabel:r,infoTitle:i})=>{const a=isNaN(Number(e))?"0":Number(e).toLocaleString("tr-TR");return p.jsxs("div",{className:"relative bg-white rounded-lg p-2.5 border border-gray-200 shadow-sm overflow-hidden",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("p",{className:"text-[9px] uppercase tracking-wide text-gray-500 font-medium",children:t}),i&&p.jsx("span",{title:i,"aria-label":i,className:"text-gray-400 hover:text-gray-600",children:p.jsx(G2,{className:"h-3 w-3"})}),r]}),p.jsx("p",{className:"text-lg font-extrabold text-gray-900 mt-0.5",children:a})]}),p.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:n})]})},lve=({options:t,value:e,onChange:n,placeholder:r="Ders seçin"})=>{const[i,a]=w.useState(!1),[o,c]=w.useState(""),[d,f]=w.useState(0),m=w.useRef(null),g=w.useRef(null),v=w.useMemo(()=>{const E=t.map(P=>({key:P,label:P==="all"?"Tüm Dersler":P}));if(!o)return E;const S=o.toLowerCase();return E.filter(P=>P.label.toLowerCase().includes(S))},[t,o]);w.useEffect(()=>{const E=S=>{m.current&&!m.current.contains(S.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),w.useEffect(()=>{i&&setTimeout(()=>{var E;return(E=g.current)==null?void 0:E.focus()},0)},[i]);const x=E=>{n(E),a(!1),c("")},A=w.useMemo(()=>{const E=t.find(S=>S===e);return E?E==="all"?"Tüm Dersler":E:r},[t,e,r]);return p.jsxs("div",{className:"relative",ref:m,children:[p.jsxs("button",{type:"button",className:"inline-flex items-center justify-between min-w-[160px] rounded-md border border-gray-300 bg-white px-2 py-1 text-xs shadow-sm hover:bg-gray-50",onClick:()=>a(E=>!E),"aria-haspopup":"listbox","aria-expanded":i,children:[p.jsx("span",{className:"truncate mr-2 text-gray-700",children:A}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-gray-500",children:p.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),i&&p.jsxs("div",{className:"absolute z-20 mt-1 w-[260px] rounded-md border border-gray-200 bg-white shadow-lg",children:[p.jsx("div",{className:"p-2 border-b border-gray-100",children:p.jsx("input",{ref:g,type:"text",value:o,placeholder:r,onChange:E=>{c(E.target.value),f(0)},onKeyDown:E=>{if(E.key==="ArrowDown")E.preventDefault(),f(S=>Math.min(S+1,Math.max(0,v.length-1)));else if(E.key==="ArrowUp")E.preventDefault(),f(S=>Math.max(S-1,0));else if(E.key==="Enter"){E.preventDefault();const S=v[d];S&&x(S.key)}else E.key==="Escape"&&a(!1)},className:"w-full rounded-md border border-gray-300 px-2 py-1 text-xs focus:border-green-500 focus:outline-none focus:ring-1 focus:ring-green-500"})}),p.jsxs("ul",{role:"listbox",className:"max-h-60 overflow-auto py-1",children:[v.length===0&&p.jsx("li",{className:"px-3 py-2 text-xs text-gray-500",children:"Sonuç bulunamadı"}),v.map((E,S)=>p.jsxs("li",{role:"option","aria-selected":E.key===e,onMouseEnter:()=>f(S),onClick:()=>x(E.key),className:`px-3 py-1.5 text-xs cursor-pointer flex items-center justify-between ${S===d?"bg-emerald-50":""}`,children:[p.jsx("span",{className:"truncate",children:E.label}),E.key===e&&p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-emerald-600",children:p.jsx("path",{fillRule:"evenodd",d:"M16.704 5.29a1 1 0 010 1.42l-7.25 7.25a1 1 0 01-1.41 0L3.296 9.46a1 1 0 011.41-1.42l3.047 3.05 6.543-6.54a1 1 0 011.408 0z",clipRule:"evenodd"})})]},E.key))]})]})]})},cve=({isOpen:t,onClose:e,onSave:n,courseOptions:r,defaultCourse:i="all"})=>{const[a,o]=w.useState(""),[c,d]=w.useState(""),[f,m]=w.useState("0"),[g,v]=w.useState("0"),[x,A]=w.useState(""),[E,S]=w.useState(!1),[P,O]=w.useState(null);if(w.useEffect(()=>{if(t){const M=i&&i!=="all"?i:r.find(C=>C!=="all")||"";o(M),d(""),m("0"),v("0"),A(""),S(!1),O(null),setTimeout(()=>{const C=document.querySelector('input[type="number"]');C==null||C.focus()},0)}},[t,i,r]),w.useEffect(()=>{if(!t)return;const M=C=>{(C.metaKey||C.ctrlKey)&&C.key==="Enter"&&(C.preventDefault(),E||j()),C.key==="Escape"&&(C.preventDefault(),e())};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[t,E]),!t)return null;const j=async()=>{if(!a||c===""||f===""||g===""){O("Tüm alanları doldurun");return}O(null),S(!0);try{const M=x?[x]:[];await n(a,parseInt(c,10)||0,parseInt(f,10)||0,parseInt(g,10)||0,M),e()}catch{O("Kaydetme hatası")}finally{S(!1)}};return p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/30",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-sm p-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Hızlı Ekle"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-sm",children:"✕"})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Ders"}),p.jsx("select",{value:a,onChange:M=>o(M.target.value),className:"rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs",children:r.filter(Boolean).map(M=>p.jsx("option",{value:M,children:M==="all"?"Tüm Dersler":M},M))}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Doğru"}),p.jsx("input",{type:"number",value:c,onChange:M=>{const C=M.target.value.replace(/\D/g,"");if(C==="")return d("");const V=Math.min(50,parseInt(C,10));d(String(V))},min:0,max:50,className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs text-right",placeholder:"0"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Yanlış"}),p.jsx("input",{type:"number",value:f,onChange:M=>{const C=M.target.value.replace(/\D/g,"");if(C==="")return m("");const V=Math.min(50,parseInt(C,10));m(String(V))},min:0,max:50,className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs text-right",placeholder:"0"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Boş"}),p.jsx("input",{type:"number",value:g,onChange:M=>{const C=M.target.value.replace(/\D/g,"");if(C==="")return v("");const V=Math.min(50,parseInt(C,10));v(String(V))},min:0,max:50,className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs text-right",placeholder:"0"})]})]}),p.jsxs("div",{className:"mt-2",children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Konu (opsiyonel)"}),p.jsxs("select",{value:x,onChange:M=>A(M.target.value),className:"w-full rounded border-gray-300 bg-white focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 py-1 px-2 text-xs",children:[p.jsx("option",{value:"",children:"— Seçim yok —"}),pg(a).map(M=>p.jsx("option",{value:M.name,children:M.name},M.id))]})]}),P&&p.jsx("p",{className:"text-[11px] text-rose-600",children:P}),p.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[p.jsx("button",{onClick:e,className:"text-[11px] px-2 py-1 rounded border border-gray-300",children:"Vazgeç"}),p.jsx("button",{onClick:j,disabled:E,className:"text-[11px] px-2 py-1 rounded bg-emerald-600 text-white disabled:opacity-60",children:E?"Kaydediliyor...":"Kaydet"})]})]})]})})},uve=({isOpen:t,dersAdi:e,topicOptions:n,defaultTopic:r,onClose:i,onSave:a})=>{const[o,c]=w.useState(r||""),[d,f]=w.useState(""),[m,g]=w.useState(""),[v,x]=w.useState(!1);if(w.useEffect(()=>{t&&(c(r||""),f(""),g(""))},[t,r]),!t)return null;const A=async()=>{x(!0);try{await a({topic:o||null,note:d,imageUrl:m||void 0}),i()}finally{x(!1)}};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:p.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg shadow-lg p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Hata Defteri'ne Ekle"}),p.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[11px] text-gray-600",children:"Ders"}),p.jsx("input",{value:e,disabled:!0,className:"w-full rounded border border-gray-300 bg-gray-50 text-xs px-2 py-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[11px] text-gray-600",children:"Konu (opsiyonel)"}),p.jsxs("select",{value:o,onChange:E=>c(E.target.value),className:"w-full rounded border border-gray-300 bg-white text-xs px-2 py-1",children:[p.jsx("option",{value:"",children:"— Seçim yok —"}),n.map(E=>p.jsx("option",{value:E,children:E},E))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[11px] text-gray-600",children:"Not"}),p.jsx("textarea",{value:d,onChange:E=>f(E.target.value),maxLength:500,rows:3,className:"w-full rounded border border-gray-300 bg-white text-xs px-2 py-1",placeholder:"Kısa açıklama..."}),p.jsxs("div",{className:"text-[10px] text-gray-500 text-right",children:[d.length,"/500"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[11px] text-gray-600",children:"Görsel URL (opsiyonel)"}),p.jsx("input",{value:m,onChange:E=>g(E.target.value),className:"w-full rounded border border-gray-300 bg-white text-xs px-2 py-1",placeholder:"https://..."})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[p.jsx("button",{onClick:i,className:"px-2 py-1 text-xs rounded border border-gray-300",children:"Vazgeç"}),p.jsx("button",{onClick:A,disabled:v,className:"px-2 py-1 text-xs rounded bg-emerald-600 text-white disabled:opacity-60",children:v?"Kaydediliyor...":"Kaydet"})]})]})})},dve=({isOpen:t,onClose:e,children:n})=>t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden relative",children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors duration-200",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("div",{className:"p-6 overflow-auto max-h-[90vh]",children:n})]})}):null,wx=({message:t,type:e,onClose:n})=>{const[r,i]=w.useState(!1);w.useEffect(()=>{i(!0);const d=setTimeout(()=>{i(!1),setTimeout(n,300)},2700);return()=>clearTimeout(d)},[n]);const a="fixed top-5 right-5 flex items-center p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform text-white",o={success:"bg-green-500",error:"bg-red-500"},c=r?"translate-x-0 opacity-100":"translate-x-10 opacity-0";return p.jsxs("div",{className:`${a} ${o[e]} ${c}`,children:[p.jsx("span",{className:"material-symbols-outlined",children:e==="success"?"check_circle":"error"}),p.jsx("span",{className:"ml-3 font-medium",children:t})]})},W2=({isOpen:t,title:e="Onay",message:n,confirmText:r="Evet, sil",cancelText:i="Vazgeç",onConfirm:a,onCancel:o})=>t?p.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/40",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm",children:[p.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:p.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:e})}),p.jsx("div",{className:"px-4 py-3",children:p.jsx("p",{className:"text-sm text-gray-700",children:n})}),p.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-end gap-2",children:[p.jsx("button",{type:"button",onClick:o,className:"text-[12px] px-2.5 py-1 rounded-md border border-gray-300 hover:bg-gray-50",children:i}),p.jsx("button",{type:"button",onClick:a,className:"text-[12px] px-2.5 py-1 rounded-md bg-rose-600 text-white hover:bg-rose-700",children:r})]})]})}):null,kE=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),p.jsx("polyline",{points:"17 6 23 6 23 12"})]}),fve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),p.jsx("polyline",{points:"17 18 23 18 23 12"})]}),CE=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"12",r:"6"}),p.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),z4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),p.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),F4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),p.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),p.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),$4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),p.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),q4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),p.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]}),K4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12,6 12,12 16,14"})]}),H4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),hve=({className:t="h-5 w-5"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:p.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0011 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 11-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 002.5 2.5z"})}),mve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]}),pve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22,4 12,14.01 9,11.01"})]}),gve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("path",{d:"m15 9-6 6"}),p.jsx("path",{d:"m9 9 6 6"})]}),yve=({user:t})=>{var Gt,Xt;const[e,n]=w.useState([]),[r,i]=w.useState([]),[a,o]=w.useState(!0),[c,d]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState("trend"),[x,A]=w.useState("self"),[E,S]=w.useState("all"),[P,O]=w.useState(!1),[j,M]=w.useState({isOpen:!1}),[C,V]=w.useState({isOpen:!1}),[I,k]=w.useState({isOpen:!1}),[D,B]=w.useState(null),[F,$]=w.useState("30"),[U,he]=w.useState(0);w.useEffect(()=>{const ie=ci(ja(jr,"testSonuclari"),Ib("createdAt","desc")),_e=Hc(ie,Ae=>{const Be=[];Ae.forEach($e=>{const Ue=$e.data();Be.push({id:$e.id,dersAdi:Ue.dersAdi,dogruSayisi:Ue.dogruSayisi,yanlisSayisi:Ue.yanlisSayisi,bosSayisi:Ue.bosSayisi||0,kullaniciId:Ue.kullaniciId,kullaniciEmail:Ue.kullaniciEmail,createdAt:Ue.createdAt,topics:Ue.topics||[]})}),n(Be),o(!1)});return()=>_e()},[]),w.useEffect(()=>{const ie=ci(ja(jr,"mistakes"),zp("kullaniciId","==",t.uid)),_e=Hc(ie,Ae=>{const Be=[];Ae.forEach($e=>{const Ue=$e.data();Be.push({id:$e.id,kullaniciId:Ue.kullaniciId,testResultId:Ue.testResultId,dersAdi:Ue.dersAdi,topics:Ue.topics||[],note:Ue.note||"",imageUrl:Ue.imageUrl,createdAt:Ue.createdAt,nextReviewAt:Ue.nextReviewAt,status:Ue.status||"open"})}),i(Be)});return()=>_e()},[t.uid]);const ve=w.useMemo(()=>x==="self"?e.filter(ie=>ie.kullaniciId===t.uid):e,[e,x,t.uid]);w.useEffect(()=>{const ie=e.filter($e=>$e.kullaniciId===t.uid),_e=new Date,Ae=new Set;ie.forEach($e=>{if($e.createdAt){const Ue=new Date($e.createdAt.toDate()),nt=new Date(Ue.getFullYear(),Ue.getMonth(),Ue.getDate()).toISOString().slice(0,10);Ae.add(nt)}});let Be=0;for(let $e=0;$e<30;$e++){const Ue=new Date(_e);Ue.setDate(Ue.getDate()-$e);const nt=new Date(Date.UTC(Ue.getFullYear(),Ue.getMonth(),Ue.getDate())).toISOString().slice(0,10);if(Ae.has(nt))Be++;else break}he(Be)},[e,t.uid]);const G=w.useMemo(()=>["all",...Array.from(new Set(ve.map(_e=>_e.dersAdi))).sort()],[ve]),ne=w.useMemo(()=>{const ie=e.filter(We=>We.kullaniciId===t.uid);if(ie.length===0)return{avgScore:0,totalTests:0,recentChange:0,targetRemaining:480};const _e=ie.reduce((We,Ce)=>{const Rt=Ce.dogruSayisi+Ce.yanlisSayisi+Ce.bosSayisi,ct=Ce.dogruSayisi-Ce.yanlisSayisi/4;return We+(Rt>0?Math.max(0,ct)/Rt*100:0)},0),Ae=Math.round(_e/ie.length),Be=ie.slice(0,5),$e=ie.slice(5,10);let Ue=0;if(Be.length>0&&$e.length>0){const We=Be.reduce((Rt,ct)=>{const Zr=ct.dogruSayisi+ct.yanlisSayisi+ct.bosSayisi,Nl=ct.dogruSayisi-ct.yanlisSayisi/4;return Rt+(Zr>0?Math.max(0,Nl)/Zr*100:0)},0)/Be.length,Ce=$e.reduce((Rt,ct)=>{const Zr=ct.dogruSayisi+ct.yanlisSayisi+ct.bosSayisi,Nl=ct.dogruSayisi-ct.yanlisSayisi/4;return Rt+(Zr>0?Math.max(0,Nl)/Zr*100:0)},0)/$e.length;Ue=We-Ce}const nt=ie.reduce((We,Ce)=>We+Ce.dogruSayisi+Ce.yanlisSayisi+Ce.bosSayisi,0),pt=ie.reduce((We,Ce)=>We+Ce.dogruSayisi,0),Wt=ie.reduce((We,Ce)=>We+Ce.yanlisSayisi,0);return{avgScore:Ae,totalTests:ie.length,recentChange:Ue,totalQuestions:nt,totalCorrect:pt,totalWrong:Wt,targetRemaining:Math.max(0,480-Ae)}},[e,t.uid]),ge=w.useMemo(()=>{const{avgScore:ie,recentChange:_e}=ne;return ie>=400&&_e>=0?{level:"Düşük",value:25,color:"#48BB78"}:ie>=350&&_e>=-5?{level:"Orta",value:50,color:"#F6AD55"}:{level:"Yüksek",value:75,color:"#F56565"}},[ne]),Ie=w.useMemo(()=>{const ie=e.filter(nt=>nt.kullaniciId===t.uid),_e=[];ie.length>=1&&_e.push("first_test"),ie.length>=5&&_e.push("five_tests");const Ae=new Date,Be=new Date(Ae.getFullYear(),Ae.getMonth(),Ae.getDate()),$e=new Set;ie.forEach(nt=>{if(nt.createdAt){const pt=new Date(nt.createdAt.toDate()),Wt=new Date(pt.getFullYear(),pt.getMonth(),pt.getDate()).toISOString().slice(0,10);$e.add(Wt)}});let Ue=0;for(let nt=0;nt<7;nt++){const pt=new Date(Be);pt.setDate(pt.getDate()-nt);const Wt=new Date(Date.UTC(pt.getFullYear(),pt.getMonth(),pt.getDate())).toISOString().slice(0,10);if($e.has(Wt))Ue++;else break}return Ue>=7&&_e.push("seven_day_streak"),_e},[e,t.uid]),K=w.useMemo(()=>{const ie=e.filter(nt=>nt.kullaniciId===t.uid);if(ie.length===0)return{currentScore:0,targetScore:480,remainingPoints:480,successProbability:0};const _e=ie.reduce((nt,pt)=>{const Wt=pt.dogruSayisi+pt.yanlisSayisi+pt.bosSayisi,We=pt.dogruSayisi-pt.yanlisSayisi/4;return nt+(Wt>0?Math.max(0,We)/Wt*500:0)},0),Ae=Math.round(_e/ie.length),Be=480,$e=Math.max(0,Be-Ae),Ue=Math.min(100,Math.max(0,Ae/Be*100));return{currentScore:Ae,targetScore:Be,remainingPoints:$e,successProbability:Ue}},[e,t.uid]),oe=w.useMemo(()=>{const ie=e.filter(Ae=>Ae.kullaniciId===t.uid);return["Türkçe","Matematik","Fen Bilgisi","Sosyal Bilgiler","Din Kültürü","İngilizce"].map(Ae=>{const Be=ie.filter(Ce=>Ce.dersAdi===Ae);if(Be.length===0)return{subject:Ae,avgScore:0,trend:0,lastScore:0,improvement:0};const $e=Be.map(Ce=>{const Rt=Ce.dogruSayisi+Ce.yanlisSayisi+Ce.bosSayisi,ct=Ce.dogruSayisi-Ce.yanlisSayisi/4;return Rt>0?Math.max(0,ct)/Rt*100:0}),Ue=$e.reduce((Ce,Rt)=>Ce+Rt,0)/$e.length,nt=$e[0]||0,pt=$e[1]||Ue,Wt=nt-pt,We=$e.length>=3?$e[0]-$e[2]:0;return{subject:Ae,avgScore:Math.round(Ue),trend:Math.round(Wt),lastScore:Math.round(nt),improvement:Math.round(We)}})},[e,t.uid]),ae=w.useMemo(()=>{const ie=oe.filter(Ae=>Ae.avgScore<70).sort((Ae,Be)=>Ae.avgScore-Be.avgScore).slice(0,3),_e=oe.filter(Ae=>Ae.avgScore>=80).sort((Ae,Be)=>Be.avgScore-Ae.avgScore);return{focusAreas:ie,maintainAreas:_e,dailyGoals:["Her gün en az 2 saat çalışma","Zayıf konulara günde 45 dakika ayır","Güçlü konuları haftada 3 kez tekrar et","Her hafta 2 deneme sınavı çöz"]}},[oe]),fe=w.useMemo(()=>{const ie=e.filter(Be=>Be.kullaniciId===t.uid),_e=[],Ae=new Date;for(let Be=29;Be>=0;Be--){const $e=new Date(Ae);$e.setDate($e.getDate()-Be);const Ue=$e.toISOString().slice(0,10),nt=ie.filter(pt=>pt.createdAt?new Date(pt.createdAt.toDate()).toISOString().slice(0,10)===Ue:!1);_e.push({date:Ue,tests:nt.length,avgScore:nt.length>0?nt.reduce((pt,Wt)=>{const We=Wt.dogruSayisi+Wt.yanlisSayisi+Wt.bosSayisi,Ce=Wt.dogruSayisi-Wt.yanlisSayisi/4;return pt+(We>0?Math.max(0,Ce)/We*100:0)},0)/nt.length:0})}return _e},[e,t.uid]),Ne=w.useMemo(()=>{const ie=e.filter(Ae=>Ae.kullaniciId===t.uid),_e={};return ie.forEach(Ae=>{_e[Ae.dersAdi]=(_e[Ae.dersAdi]||0)+1}),Object.keys(_e).map(Ae=>({name:Ae,value:_e[Ae],percentage:Math.round(_e[Ae]/ie.length*100)}))},[e,t.uid]),je=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],Ve=w.useMemo(()=>{const ie=e.filter(Ae=>Ae.kullaniciId===t.uid&&Ae.createdAt),_e={"Sabah (06-12)":0,"Öğlen (12-18)":0,"Akşam (18-24)":0,"Gece (00-06)":0};return ie.forEach(Ae=>{const Be=new Date(Ae.createdAt.toDate()).getHours();Be>=6&&Be<12?_e["Sabah (06-12)"]++:Be>=12&&Be<18?_e["Öğlen (12-18)"]++:Be>=18&&Be<24?_e["Akşam (18-24)"]++:_e["Gece (00-06)"]++}),Object.keys(_e).map(Ae=>({name:Ae,value:_e[Ae],percentage:ie.length>0?Math.round(_e[Ae]/ie.length*100):0}))},[e,t.uid]),Ft=async(ie,_e,Ae,Be,$e)=>{try{await e0(ja(jr,"testSonuclari"),{dersAdi:ie,dogruSayisi:_e,yanlisSayisi:Ae,bosSayisi:Be,kullaniciId:t.uid,kullaniciEmail:t.email,createdAt:gt.now(),topics:$e||[]}),m({message:"Test sonucu başarıyla eklendi!",type:"success"}),d(!1)}catch{m({message:"Test sonucu eklenirken hata oluştu.",type:"error"})}},mt=async(ie,_e,Ae,Be,$e,Ue)=>{try{await rp(Ga(jr,"testSonuclari",ie),{dersAdi:_e,dogruSayisi:Ae,yanlisSayisi:Be,bosSayisi:$e,topics:Ue||[]}),m({message:"Test sonucu başarıyla güncellendi!",type:"success"})}catch{m({message:"Test sonucu güncellenirken hata oluştu.",type:"error"})}},we=ie=>{k({isOpen:!0,id:ie,message:"Bu test sonucunu silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})},Fe=async()=>{if(I.id){try{await kb(Ga(jr,"testSonuclari",I.id)),m({message:"Test sonucu başarıyla silindi!",type:"success"})}catch{m({message:"Test sonucu silinirken hata oluştu.",type:"error"})}k({isOpen:!1})}},He=ie=>{M({isOpen:!0,result:ie})},me=async ie=>{if(j.result)try{await e0(ja(jr,"mistakes"),{kullaniciId:t.uid,testResultId:j.result.id,dersAdi:j.result.dersAdi,topics:ie.topic?[ie.topic]:[],note:ie.note,imageUrl:ie.imageUrl,createdAt:gt.now(),status:"open"}),m({message:"Hata defterine başarıyla eklendi!",type:"success"})}catch{m({message:"Hata defterine eklenirken hata oluştu.",type:"error"})}},Lt=ie=>{let _e="ascending";D&&D.key===ie&&D.direction==="ascending"&&(_e="descending"),B({key:ie,direction:_e})},Je=w.useMemo(()=>D?[...ve].sort((ie,_e)=>{const Ae=ie[D.key],Be=_e[D.key];return Ae<Be?D.direction==="ascending"?-1:1:Ae>Be?D.direction==="ascending"?1:-1:0}):ve,[ve,D]);return a?p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsxs("main",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"LGS Hazırlık Paneli"}),p.jsx("p",{className:"text-slate-600",children:"LGS hedefine giden yolda performansını takip et ve başarıya ulaş"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("button",{onClick:()=>O(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[p.jsx(H4,{className:"h-4 w-4"}),"Hızlı Ekle"]}),p.jsxs("div",{className:"flex items-center bg-white rounded-lg border border-slate-200 p-1",children:[p.jsx("button",{onClick:()=>A("self"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${x==="self"?"bg-blue-100 text-blue-700":"text-slate-600 hover:text-slate-900"}`,children:"Kendim"}),p.jsx("button",{onClick:()=>A("school"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${x==="school"?"bg-blue-100 text-blue-700":"text-slate-600 hover:text-slate-900"}`,children:"Okul Geneli"})]})]})]})}),p.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"LGS Hedef Takibi"}),p.jsx("p",{className:"text-blue-100 mb-4",children:"Mevcut durumun ve hedefe olan mesafen"}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:K.currentScore}),p.jsx("div",{className:"text-sm text-blue-100",children:"Mevcut Puan"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:K.remainingPoints}),p.jsx("div",{className:"text-sm text-blue-100",children:"Hedefe Kalan"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-3xl font-bold",children:["%",Math.round(K.successProbability)]}),p.jsx("div",{className:"text-sm text-blue-100",children:"Başarı Olasılığı"})]})]})]}),p.jsxs("div",{className:"relative w-32 h-32",children:[p.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36",children:[p.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"2"}),p.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"white",strokeWidth:"2",strokeDasharray:`${K.successProbability}, 100`,className:"transition-all duration-1000"})]}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx(CE,{className:"h-8 w-8 text-white"})})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx(Vo,{title:"Ortalama Puan",value:ne.avgScore,icon:p.jsx(CE,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Son 20 test ortalaması"}),p.jsx(Vo,{title:"Toplam Test",value:ne.totalTests,icon:p.jsx(mve,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Çözülen toplam test sayısı"}),p.jsx(Vo,{title:"Son 5 Değişim",value:`${ne.recentChange>=0?"+":""}${ne.recentChange.toFixed(1)}%`,icon:p.jsx(kE,{className:`h-4 w-4 ${ne.recentChange>=0?"text-green-600":"text-red-600"}`}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Son 5 ve önceki 5 test karşılaştırması"}),p.jsx(Vo,{title:"Çalışma Serisi",value:`${U} gün`,icon:p.jsx(hve,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Peş peşe çalışma günü sayısı"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx(Vo,{title:"Toplam Soru",value:ne.totalQuestions,icon:p.jsx($4,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Çözülen toplam soru sayısı"}),p.jsx(Vo,{title:"Doğru Sayısı",value:ne.totalCorrect,icon:p.jsx(pve,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Toplam doğru cevap sayısı"}),p.jsx(Vo,{title:"Yanlış Sayısı",value:ne.totalWrong,icon:p.jsx(gve,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"Toplam yanlış cevap sayısı"}),p.jsx(Vo,{title:"Hedefe Kalan",value:ne.targetRemaining,icon:p.jsx(z4,{className:"h-4 w-4"}),badgeLabel:p.jsx(hn,{scope:"self"}),infoTitle:"480 puan hedefine kalan mesafe"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx("div",{className:"lg:col-span-3",children:p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Son 30 Gün Aktivite"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Günlük test çözme alışkanlığın"})]}),p.jsx(hn,{scope:"self",showText:!0})]}),p.jsx(Fa,{width:"100%",height:200,children:p.jsxs(Lye,{data:fe,children:[p.jsx(hl,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(ml,{dataKey:"date",fontSize:10,tickFormatter:ie=>{const _e=new Date(ie);return`${_e.getDate()}/${_e.getMonth()+1}`}}),p.jsx(pl,{fontSize:10}),p.jsx(za,{labelFormatter:ie=>new Date(ie).toLocaleDateString("tr-TR"),formatter:(ie,_e)=>[_e==="tests"?`${ie} test`:`%${Math.round(ie)}`,_e==="tests"?"Test Sayısı":"Ortalama Başarı"]}),p.jsx(a8,{type:"monotone",dataKey:"tests",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.1,strokeWidth:2})]})})]})}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(F4,{className:"h-4 w-4 text-slate-500"}),p.jsx("span",{className:"text-sm font-medium text-slate-600 uppercase tracking-wide",children:"Risk Seviyesi"})]}),p.jsx(hn,{scope:"self"})]}),p.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[p.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 36 36",children:[p.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#e5e7eb",strokeWidth:"2"}),p.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:ge.color,strokeWidth:"2",strokeDasharray:`${ge.value}, 100`,className:"transition-all duration-500"})]}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("span",{className:"text-lg font-bold text-slate-900",children:ge.level})})]}),p.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Performans ve trend analizi"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Branş Dağılımı"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Hangi derslerde daha çok test çözdüğün"})]}),p.jsx(hn,{scope:"self",showText:!0})]}),p.jsx(Fa,{width:"100%",height:250,children:p.jsxs(_8,{children:[p.jsx(R2,{data:Ne,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:Ne.map((ie,_e)=>p.jsx(du,{fill:je[_e%je.length]},`cell-${_e}`))}),p.jsx(za,{formatter:(ie,_e,Ae)=>[`${ie} test (%${Ae.payload.percentage})`,Ae.payload.name]})]})}),p.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:Ne.map((ie,_e)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:je[_e%je.length]}}),p.jsx("span",{className:"text-xs text-slate-600",children:ie.name})]},ie.name))})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Çalışma Saatleri"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Hangi saatlerde daha verimli olduğun"})]}),p.jsx(hn,{scope:"self",showText:!0})]}),p.jsx("div",{className:"space-y-4",children:Ve.map((ie,_e)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(K4,{className:"h-4 w-4 text-slate-500"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:ie.name})]}),p.jsxs("div",{className:"flex items-center gap-3 flex-1 ml-4",children:[p.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${ie.percentage}%`}})}),p.jsx("span",{className:"text-sm font-semibold text-slate-900 w-12 text-right",children:ie.value})]})]},ie.name))}),p.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(K4,{className:"h-4 w-4 text-blue-600"}),p.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Öneri"})]}),p.jsxs("p",{className:"text-sm text-blue-800",children:[Ve.length>0&&Ve.reduce((ie,_e)=>_e.value>ie.value?_e:ie).name," saatlerinde daha aktifsin. Bu saatleri verimli kullanmaya devam et!"]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm mb-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Branş Performans Analizi"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Her derste gösterdiğin performansın detaylı analizi"})]}),p.jsx(hn,{scope:"self",showText:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(ie=>p.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h3",{className:"font-semibold text-slate-900",children:ie.subject}),p.jsxs("div",{className:`flex items-center gap-1 text-sm ${ie.trend>=0?"text-green-600":"text-red-600"}`,children:[ie.trend>=0?p.jsx(kE,{className:"h-4 w-4"}):p.jsx(fve,{className:"h-4 w-4"}),ie.trend>=0?"+":"",ie.trend,"%"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-slate-600",children:"Ortalama"}),p.jsxs("span",{className:"font-semibold",children:["%",ie.avgScore]})]}),p.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${ie.avgScore>=80?"bg-green-500":ie.avgScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,ie.avgScore)}%`}})}),p.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[p.jsxs("span",{children:["Son Sınav: %",ie.lastScore]}),p.jsxs("span",{children:["Gelişim: ",ie.improvement>=0?"+":"",ie.improvement,"%"]})]})]})]},ie.subject))})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:p.jsx(q4,{className:"h-5 w-5 text-amber-600"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Akıllı Çalışma Önerisi"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"Performansına göre özelleştirilmiş haftalık plan"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[p.jsx(F4,{className:"h-4 w-4 text-red-500"}),"Odaklanman Gereken Alanlar"]}),p.jsx("div",{className:"space-y-2",children:ae.focusAreas.map(ie=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[p.jsx("span",{className:"font-medium text-red-900",children:ie.subject}),p.jsxs("span",{className:"text-sm text-red-600",children:["%",ie.avgScore]})]},ie.subject))})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[p.jsx(z4,{className:"h-4 w-4 text-green-500"}),"Günlük Hedefler"]}),p.jsx("div",{className:"space-y-2",children:ae.dailyGoals.map((ie,_e)=>p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[p.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs font-bold",children:_e+1})}),p.jsx("span",{className:"text-green-900",children:ie})]},_e))})]})]})]}),p.jsx("div",{className:"mb-6",children:p.jsx("nav",{className:"flex space-x-8 border-b border-slate-200",children:[{key:"trend",label:"Trend Analizi",icon:kE},{key:"courses",label:"Branş Analizi",icon:$4},{key:"table",label:"Detaylı Tablo",icon:q4}].map(({key:ie,label:_e,icon:Ae})=>p.jsxs("button",{onClick:()=>v(ie),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===ie?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[p.jsx(Ae,{className:"h-4 w-4"}),_e]},ie))})}),g==="trend"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Puan Gelişim Trendi"}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("select",{value:F,onChange:ie=>$(ie.target.value),className:"text-sm border border-slate-300 rounded-md px-2 py-1",children:[p.jsx("option",{value:"7",children:"Son 7 Gün"}),p.jsx("option",{value:"30",children:"Son 30 Gün"}),p.jsx("option",{value:"90",children:"Son 90 Gün"}),p.jsx("option",{value:"all",children:"Tümü"})]})})]}),p.jsx(U4,{data:ve,height:300,showFilter:!0,onEnlarge:()=>V({isOpen:!0,type:"timeseries"}),scopeBadge:p.jsx(hn,{scope:x})})]}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsx(RE,{data:ve,height:300,onEnlarge:()=>V({isOpen:!0,type:"courses"}),scopeBadge:p.jsx(hn,{scope:x})})})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"LGS Branş Radar Analizi"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Tüm branşlardaki performansının 360° görünümü"})]}),p.jsx(hn,{scope:"self",showText:!0})]}),p.jsx(Fa,{width:"100%",height:300,children:p.jsxs(Dye,{data:oe,children:[p.jsx(w9,{}),p.jsx(vx,{dataKey:"subject",tick:{fontSize:12}}),p.jsx(gx,{angle:90,domain:[0,100],tick:{fontSize:10},tickFormatter:ie=>`${ie}%`}),p.jsx(L0,{name:"Ortalama Performans",dataKey:"avgScore",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.1,strokeWidth:2}),p.jsx(L0,{name:"Son Sınav",dataKey:"lastScore",stroke:"#10b981",fill:"#10b981",fillOpacity:.1,strokeWidth:2}),p.jsx(za,{})]})})]}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsx(Xye,{data:ve,scopeBadge:p.jsx(hn,{scope:x})})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsx(eve,{data:e,currentUserId:t.uid})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsx(Jye,{data:ve,currentUserId:t.uid})}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Rozetler"}),p.jsx(ave,{level:"giris",compact:!0})]}),p.jsx(nve,{earned:Ie,compact:!1})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-6 text-white",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold mb-2",children:"Başarı Yolculuğun"}),p.jsx("p",{className:"text-purple-100 mb-4",children:"LGS'ye hazırlık sürecindeki gelişimin"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:ne.totalTests}),p.jsx("div",{className:"text-sm text-purple-100",children:"Çözülen Test"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:Ie.length}),p.jsx("div",{className:"text-sm text-purple-100",children:"Kazanılan Rozet"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:Math.max(0,Math.round((480-ne.avgScore)/10))}),p.jsx("div",{className:"text-sm text-purple-100",children:"Hafta Kaldı"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-2xl font-bold",children:["%",Math.round(K.successProbability)]}),p.jsx("div",{className:"text-sm text-purple-100",children:"Hedef Yakınlık"})]})]})]}),p.jsx("div",{className:"hidden md:block",children:p.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:p.jsx(CE,{className:"h-12 w-12 text-white"})})})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-purple-400",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-purple-100",children:"LGS Hedefe İlerleme"}),p.jsxs("span",{className:"font-bold",children:["%",Math.round(K.successProbability)]})]}),p.jsx("div",{className:"mt-2 w-full bg-purple-400 rounded-full h-3",children:p.jsx("div",{className:"bg-white h-3 rounded-full transition-all duration-1000",style:{width:`${K.successProbability}%`}})})]})]})]}),g==="courses"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx(lve,{options:G,value:E,onChange:S,placeholder:"Ders seçin"}),p.jsx(hn,{scope:x,showText:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsx(RE,{data:E==="all"?ve:ve.filter(ie=>ie.dersAdi===E),height:400,scopeBadge:p.jsx(hn,{scope:x})})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsx(Zye,{data:e,currentUserId:t.uid})})]})]}),g==="table"&&p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Test Sonuçları"}),p.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Tüm test sonuçlarınızı detaylı olarak görüntüleyin"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hn,{scope:x,showText:!0}),p.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200",children:[p.jsx(H4,{className:"h-4 w-4"}),"Yeni Sonuç Ekle"]})]})]})}),p.jsx(Qye,{results:Je,currentUserId:t.uid,onDelete:we,onAddResult:Ft,onUpdateResult:mt,onAddMistake:He,currentUserEmail:t.email||"",isAdding:c,onCancelAdd:()=>d(!1),sortConfig:D,requestSort:Lt,isCompact:!1})]})]}),p.jsx(cve,{isOpen:P,onClose:()=>O(!1),onSave:Ft,courseOptions:G.filter(ie=>ie!=="all"),defaultCourse:E}),p.jsx(uve,{isOpen:j.isOpen,dersAdi:((Gt=j.result)==null?void 0:Gt.dersAdi)||"",topicOptions:pg(((Xt=j.result)==null?void 0:Xt.dersAdi)||"").map(ie=>ie.name),onClose:()=>M({isOpen:!1}),onSave:me}),p.jsxs(dve,{isOpen:C.isOpen,onClose:()=>V({isOpen:!1}),children:[C.type==="timeseries"&&p.jsx(U4,{data:ve,height:500,showFilter:!0,showEnlarge:!1,scopeBadge:p.jsx(hn,{scope:x})}),C.type==="courses"&&p.jsx(RE,{data:ve,height:500,showEnlarge:!1,scopeBadge:p.jsx(hn,{scope:x})})]}),p.jsx(W2,{isOpen:I.isOpen,message:I.message||"",onConfirm:Fe,onCancel:()=>k({isOpen:!1})}),f&&p.jsx(wx,{message:f.message,type:f.type,onClose:()=>m(null)})]})},ov=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),p.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),lv=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12,6 12,12 16,14"})]}),cv=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22,4 12,14.01 9,11.01"})]}),G4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"21,8 21,21 3,21 3,8"}),p.jsx("rect",{x:"1",y:"3",width:"22",height:"5"}),p.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]}),vve=({className:t="h-5 w-5"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:p.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46 22,3"})}),bve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"3,6 5,6 21,6"}),p.jsx("path",{d:"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"})]}),xve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),p.jsx("polyline",{points:"17 6 23 6 23 12"})]}),W4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),p.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]}),_ve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),uv=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"12",r:"6"}),p.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),wve=({user:t})=>{const[e,n]=w.useState([]),[r,i]=w.useState(!0),[a,o]=w.useState(null),[c,d]=w.useState({isOpen:!1}),[f,m]=w.useState({course:"all",status:"all",topic:"all"}),[g,v]=w.useState("overview");w.useEffect(()=>{const I=ci(ja(jr,"mistakes"),zp("kullaniciId","==",t.uid),Ib("createdAt","desc")),k=Hc(I,D=>{const B=[];D.forEach(F=>{const $=F.data();B.push({id:F.id,kullaniciId:$.kullaniciId,testResultId:$.testResultId,dersAdi:$.dersAdi,topics:$.topics||[],note:$.note||"",imageUrl:$.imageUrl,createdAt:$.createdAt,nextReviewAt:$.nextReviewAt,status:$.status||"open"})}),n(B),i(!1)});return()=>k()},[t.uid]);const x=w.useMemo(()=>e.filter(I=>!(f.course!=="all"&&I.dersAdi!==f.course||f.status!=="all"&&I.status!==f.status||f.topic!=="all"&&!I.topics.includes(f.topic))),[e,f]),A=w.useMemo(()=>{const I=e.length,k=e.filter($=>{if(!$.nextReviewAt)return!1;const U=new Date;return $.nextReviewAt.toDate().toDateString()===U.toDateString()}).length,D=e.filter($=>$.status==="reviewed").length,B=e.filter($=>$.status==="archived").length,F=e.filter($=>$.status==="open").length;return{total:I,todayReview:k,reviewed:D,archived:B,open:F}},[e]),E=w.useMemo(()=>{const I={};e.forEach(U=>{I[U.dersAdi]=(I[U.dersAdi]||0)+1});const k=Object.keys(I).map(U=>({name:U,value:I[U],percentage:Math.round(I[U]/e.length*100)})),D=[],B=new Date;for(let U=6;U>=0;U--){const he=new Date(B);he.setDate(he.getDate()-U);const ve=he.toISOString().slice(0,10),G=e.filter(ne=>ne.createdAt?new Date(ne.createdAt.toDate()).toISOString().slice(0,10)===ve:!1);D.push({date:ve,mistakes:G.length,reviewed:G.filter(ne=>ne.status==="reviewed").length})}const F={};e.forEach(U=>{U.topics.forEach(he=>{F[he]=(F[he]||0)+1})});const $=Object.keys(F).map(U=>({name:U,value:F[U]})).sort((U,he)=>he.value-U.value).slice(0,10);return{subjectData:k,weeklyTrend:D,topTopics:$}},[e]),S=w.useMemo(()=>{const I=new Date;return e.filter(k=>k.nextReviewAt?k.nextReviewAt.toDate().toDateString()===I.toDateString()&&k.status==="open":!1)},[e]),P=w.useMemo(()=>["all",...Array.from(new Set(e.map(k=>k.dersAdi))).sort()],[e]),O=w.useMemo(()=>f.course==="all"?["all"]:["all",...pg(f.course).map(k=>k.name)],[f.course]),j=async(I,k)=>{try{await rp(Ga(jr,"mistakes",I),{status:k}),o({message:"Durum başarıyla güncellendi!",type:"success"})}catch{o({message:"Durum güncellenirken hata oluştu.",type:"error"})}},M=I=>{d({isOpen:!0,id:I,message:"Bu hatayı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})},C=async()=>{if(c.id){try{await kb(Ga(jr,"mistakes",c.id)),o({message:"Hata başarıyla silindi!",type:"success"})}catch{o({message:"Hata silinirken hata oluştu.",type:"error"})}d({isOpen:!1})}},V=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return r?p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsxs("main",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Hata Defteri 📚"}),p.jsx("p",{className:"text-slate-600",children:"Yaptığın hataları takip et, tekrar ederek öğrenmeyi pekiştir ve zayıf alanlarını güçlendir"})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[p.jsx(_ve,{className:"h-4 w-4"}),"Yeni Hata Ekle"]})})]})}),p.jsx("div",{className:"mb-6",children:p.jsx("nav",{className:"flex space-x-8 border-b border-slate-200",children:[{key:"overview",label:"Genel Bakış",icon:uv},{key:"mistakes",label:"Hata Listesi",icon:ov},{key:"analytics",label:"Analiz",icon:xve}].map(({key:I,label:k,icon:D})=>p.jsxs("button",{onClick:()=>v(I),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===I?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[p.jsx(D,{className:"h-4 w-4"}),k]},I))})}),g==="overview"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx(ov,{className:"h-5 w-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Toplam Hata"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:A.total})]})]})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:p.jsx(lv,{className:"h-5 w-5 text-red-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Açık Hatalar"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:A.open})]})]})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:p.jsx(lv,{className:"h-5 w-5 text-amber-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Bugün Tekrar"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:A.todayReview})]})]})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:p.jsx(cv,{className:"h-5 w-5 text-green-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Gözden Geçirilen"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:A.reviewed})]})]})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:p.jsx(G4,{className:"h-5 w-5 text-purple-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Arşivlenen"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:A.archived})]})]})})]}),S.length>0&&p.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-6 text-white",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold mb-2",children:"🔥 Bugün Tekrar Edilecekler"}),p.jsxs("p",{className:"text-amber-100",children:[S.length," hatan bugün tekrar edilmeyi bekliyor! Hemen başla ve bilgilerini pekiştir."]})]}),p.jsx("div",{className:"text-3xl font-bold",children:S.length})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:S.slice(0,3).map(I=>p.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 hover:bg-opacity-30 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"font-semibold",children:I.dersAdi}),p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:()=>j(I.id,"reviewed"),className:"px-3 py-1 bg-white bg-opacity-30 rounded-md text-sm hover:bg-opacity-40 transition-colors",children:"✅ Tamam"})})]}),p.jsx("p",{className:"text-sm text-amber-100 truncate",children:I.note}),I.topics.length>0&&p.jsx("div",{className:"mt-2",children:p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-white bg-opacity-20",children:I.topics[0]})})]},I.id))})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Branş Dağılımı"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Hangi derslerde daha çok hata yapıyorsun"})]})}),E.subjectData.length>0?p.jsx(Fa,{width:"100%",height:250,children:p.jsxs(_8,{children:[p.jsx(R2,{data:E.subjectData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:E.subjectData.map((I,k)=>p.jsx(du,{fill:V[k%V.length]},`cell-${k}`))}),p.jsx(za,{formatter:(I,k,D)=>[`${I} hata (%${D.payload.percentage})`,D.payload.name]})]})}):p.jsx("div",{className:"flex items-center justify-center h-64 text-slate-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx(ov,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),p.jsx("p",{children:"Henüz hata kaydın yok"})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Haftalık Trend"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Son 7 günde hata ve çözüm durumun"})]})}),p.jsx(Fa,{width:"100%",height:250,children:p.jsxs(K2,{data:E.weeklyTrend,children:[p.jsx(hl,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(ml,{dataKey:"date",fontSize:10,tickFormatter:I=>{const k=new Date(I);return`${k.getDate()}/${k.getMonth()+1}`}}),p.jsx(pl,{fontSize:10}),p.jsx(za,{labelFormatter:I=>new Date(I).toLocaleDateString("tr-TR"),formatter:(I,k)=>[I,k==="mistakes"?"Yeni Hata":"Gözden Geçirilen"]}),p.jsx(vp,{type:"monotone",dataKey:"mistakes",stroke:"#ef4444",strokeWidth:2,name:"mistakes"}),p.jsx(vp,{type:"monotone",dataKey:"reviewed",stroke:"#10b981",strokeWidth:2,name:"reviewed"})]})})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx(W4,{className:"h-5 w-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Akıllı Çalışma Önerileri"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"Hata analizine göre özelleştirilmiş öneriler"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[p.jsx(uv,{className:"h-4 w-4 text-red-500"}),"Öncelikli Konular"]}),p.jsx("div",{className:"space-y-2",children:E.topTopics.slice(0,5).map((I,k)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[p.jsx("span",{className:"font-medium text-red-900",children:I.name}),p.jsxs("span",{className:"text-sm text-red-600",children:[I.value," hata"]})]},I.name))})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[p.jsx(cv,{className:"h-4 w-4 text-green-500"}),"Günlük Hedefler"]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[p.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs font-bold",children:"1"})}),p.jsx("span",{className:"text-green-900",children:"Bugünkü tekrarları tamamla"})]}),p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[p.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),p.jsx("span",{className:"text-green-900",children:"En çok hata yaptığın 3 konuyu çalış"})]}),p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[p.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),p.jsx("span",{className:"text-green-900",children:"Yeni hatalarını hemen defterine ekle"})]})]})]})]})]})]}),g==="mistakes"&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vve,{className:"h-4 w-4 text-slate-500"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Filtreler:"})]}),p.jsxs("select",{value:f.course,onChange:I=>m(k=>({...k,course:I.target.value,topic:"all"})),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"all",children:"Tüm Dersler"}),P.slice(1).map(I=>p.jsx("option",{value:I,children:I},I))]}),p.jsxs("select",{value:f.status,onChange:I=>m(k=>({...k,status:I.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"all",children:"Tüm Durumlar"}),p.jsx("option",{value:"open",children:"Açık"}),p.jsx("option",{value:"reviewed",children:"Gözden Geçirildi"}),p.jsx("option",{value:"archived",children:"Arşivlendi"})]}),f.course!=="all"&&p.jsxs("select",{value:f.topic,onChange:I=>m(k=>({...k,topic:I.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"all",children:"Tüm Konular"}),O.slice(1).map(I=>p.jsx("option",{value:I,children:I},I))]})]})}),p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-200",children:p.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Hata Listesi (",x.length,")"]})}),x.length===0?p.jsxs("div",{className:"p-12 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(ov,{className:"h-8 w-8 text-slate-400"})}),p.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:e.length===0?"Henüz hata kaydın yok":"Filtreye uygun hata bulunamadı"}),p.jsx("p",{className:"text-slate-600",children:e.length===0?"Test çözdükçe yaptığın hatalar burada görünecek.":"Farklı filtreler deneyerek aradığın hataları bulabilirsin."})]}):p.jsx("div",{className:"divide-y divide-slate-200",children:x.map(I=>{var k;return p.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:I.dersAdi}),I.topics.length>0&&p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:I.topics[0]}),p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="open"?"bg-red-100 text-red-800":I.status==="reviewed"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:I.status==="open"?"🔴 Açık":I.status==="reviewed"?"✅ Gözden Geçirildi":"📦 Arşivlendi"})]}),p.jsx("p",{className:"text-slate-900 mb-2",children:I.note}),p.jsx("p",{className:"text-sm text-slate-500",children:(k=I.createdAt)==null?void 0:k.toDate().toLocaleDateString("tr-TR")})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[I.status==="open"&&p.jsx("button",{onClick:()=>j(I.id,"reviewed"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Gözden geçirildi olarak işaretle",children:p.jsx(cv,{className:"h-4 w-4"})}),I.status==="reviewed"&&p.jsx("button",{onClick:()=>j(I.id,"archived"),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Arşivle",children:p.jsx(G4,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>M(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:p.jsx(bve,{className:"h-4 w-4"})})]})]})},I.id)})})]})]}),g==="analytics"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"En Çok Hata Yapılan Konular"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Odaklanman gereken alanlar"})]})}),p.jsx(Fa,{width:"100%",height:300,children:p.jsxs(H2,{data:E.topTopics.slice(0,8),layout:"horizontal",children:[p.jsx(hl,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(ml,{type:"number",fontSize:10}),p.jsx(pl,{dataKey:"name",type:"category",fontSize:10,width:100}),p.jsx(za,{}),p.jsx(_x,{dataKey:"value",fill:"#ef4444",radius:[0,4,4,0]})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Aylık İlerleme"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Hata çözme performansın"})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-green-900",children:"Bu Ay Çözülen"}),p.jsx("p",{className:"text-2xl font-bold text-green-800",children:A.reviewed})]}),p.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-full flex items-center justify-center",children:p.jsx(cv,{className:"h-6 w-6 text-green-700"})})]}),p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-red-900",children:"Bekleyen Hatalar"}),p.jsx("p",{className:"text-2xl font-bold text-red-800",children:A.open})]}),p.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-full flex items-center justify-center",children:p.jsx(lv,{className:"h-6 w-6 text-red-700"})})]}),p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-blue-900",children:"Başarı Oranı"}),p.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["%",A.total>0?Math.round(A.reviewed/A.total*100):0]})]}),p.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center",children:p.jsx(uv,{className:"h-6 w-6 text-blue-700"})})]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Çalışma Deseni Analizi"}),p.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Hata yapma ve çözme alışkanlıkların"})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[p.jsx("div",{className:"w-16 h-16 bg-purple-200 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(W4,{className:"h-8 w-8 text-purple-700"})}),p.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Öğrenme Hızı"}),p.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[A.total>0?Math.round(A.reviewed/A.total*100):0,"%"]}),p.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Hata çözme oranın"})]}),p.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-200 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(lv,{className:"h-8 w-8 text-amber-700"})}),p.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Ortalama Çözüm Süresi"}),p.jsx("p",{className:"text-2xl font-bold text-amber-800",children:"2.3"}),p.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Gün"})]}),p.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-lg",children:[p.jsx("div",{className:"w-16 h-16 bg-emerald-200 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(uv,{className:"h-8 w-8 text-emerald-700"})}),p.jsx("h4",{className:"font-semibold text-emerald-900 mb-2",children:"Hedef Başarı"}),p.jsx("p",{className:"text-2xl font-bold text-emerald-800",children:"85%"}),p.jsx("p",{className:"text-sm text-emerald-600 mt-1",children:"Çözüm hedefin"})]})]})]})]})]}),p.jsx(W2,{isOpen:c.isOpen,message:c.message||"",onConfirm:C,onCancel:()=>d({isOpen:!1})}),a&&p.jsx(wx,{message:a.message,type:a.type,onClose:()=>o(null)})]})},jE=(t,e)=>{const n=t.replace(/\D/g,"");return n?String(Math.min(e,parseInt(n,10))):""};function ud(t){const e=Number(t.dogru||"0"),n=Number(t.yanlis||"0");return e-n/3}const Eve=({isOpen:t,onClose:e,onSave:n,title:r="Deneme Ekle",initialData:i})=>{const[a,o]=w.useState(""),[c,d]=w.useState(""),[f,m]=w.useState({dogru:"",yanlis:"",bos:""}),[g,v]=w.useState({dogru:"",yanlis:"",bos:""}),[x,A]=w.useState({dogru:"",yanlis:"",bos:""}),[E,S]=w.useState({dogru:"",yanlis:"",bos:""}),[P,O]=w.useState({dogru:"",yanlis:"",bos:""}),[j,M]=w.useState({dogru:"",yanlis:"",bos:""}),[C,V]=w.useState("ingilizce"),[I,k]=w.useState(!1),[D,B]=w.useState(null),F={T:20,M:20,F:20,I:10,D:10,E:10};w.useEffect(()=>{var ve,G,ne,ge,Ie,K,oe,ae,fe,Ne,je,Ve,Ft,mt,we,Fe,He,me,Lt,Je,Gt,Xt,ie,_e,Ae,Be,$e,Ue,nt,pt,Wt,We,Ce,Rt,ct,Zr;t&&(o((i==null?void 0:i.ad)||""),d((i==null?void 0:i.yayin)||""),V((i==null?void 0:i.yabanciDilTur)||"ingilizce"),m({dogru:((G=(ve=i==null?void 0:i.turkce)==null?void 0:ve.dogru)==null?void 0:G.toString())||"",yanlis:((ge=(ne=i==null?void 0:i.turkce)==null?void 0:ne.yanlis)==null?void 0:ge.toString())||"",bos:((K=(Ie=i==null?void 0:i.turkce)==null?void 0:Ie.bos)==null?void 0:K.toString())||""}),v({dogru:((ae=(oe=i==null?void 0:i.matematik)==null?void 0:oe.dogru)==null?void 0:ae.toString())||"",yanlis:((Ne=(fe=i==null?void 0:i.matematik)==null?void 0:fe.yanlis)==null?void 0:Ne.toString())||"",bos:((Ve=(je=i==null?void 0:i.matematik)==null?void 0:je.bos)==null?void 0:Ve.toString())||""}),A({dogru:((mt=(Ft=i==null?void 0:i.fen)==null?void 0:Ft.dogru)==null?void 0:mt.toString())||"",yanlis:((Fe=(we=i==null?void 0:i.fen)==null?void 0:we.yanlis)==null?void 0:Fe.toString())||"",bos:((me=(He=i==null?void 0:i.fen)==null?void 0:He.bos)==null?void 0:me.toString())||""}),S({dogru:((Je=(Lt=i==null?void 0:i.inkilap)==null?void 0:Lt.dogru)==null?void 0:Je.toString())||"",yanlis:((Xt=(Gt=i==null?void 0:i.inkilap)==null?void 0:Gt.yanlis)==null?void 0:Xt.toString())||"",bos:((_e=(ie=i==null?void 0:i.inkilap)==null?void 0:ie.bos)==null?void 0:_e.toString())||""}),O({dogru:((Be=(Ae=i==null?void 0:i.din)==null?void 0:Ae.dogru)==null?void 0:Be.toString())||"",yanlis:((Ue=($e=i==null?void 0:i.din)==null?void 0:$e.yanlis)==null?void 0:Ue.toString())||"",bos:((pt=(nt=i==null?void 0:i.din)==null?void 0:nt.bos)==null?void 0:pt.toString())||""}),M({dogru:((We=(Wt=i==null?void 0:i.ingilizce)==null?void 0:Wt.dogru)==null?void 0:We.toString())||"",yanlis:((Rt=(Ce=i==null?void 0:i.ingilizce)==null?void 0:Ce.yanlis)==null?void 0:Rt.toString())||"",bos:((Zr=(ct=i==null?void 0:i.ingilizce)==null?void 0:ct.bos)==null?void 0:Zr.toString())||""}),k(!1),B(null))},[t,i]);const $=w.useMemo(()=>ud(f)+ud(g)+ud(x)+ud(E)+ud(P)+ud(j),[f,g,x,E,P,j]);if(!t)return null;const U=async()=>{if([f,g,x,E,P,j].some(G=>G.dogru===""||G.yanlis===""||G.bos==="")){B("Tüm branş alanlarını doldurun");return}B(null),k(!0);try{await n({ad:a.trim()||void 0,yayin:c.trim()||void 0,yabanciDilTur:C,turkce:{dogru:Number(f.dogru),yanlis:Number(f.yanlis),bos:Number(f.bos)},matematik:{dogru:Number(g.dogru),yanlis:Number(g.yanlis),bos:Number(g.bos)},fen:{dogru:Number(x.dogru),yanlis:Number(x.yanlis),bos:Number(x.bos)},inkilap:{dogru:Number(E.dogru),yanlis:Number(E.yanlis),bos:Number(E.bos)},din:{dogru:Number(P.dogru),yanlis:Number(P.yanlis),bos:Number(P.bos)},ingilizce:{dogru:Number(j.dogru),yanlis:Number(j.yanlis),bos:Number(j.bos)}}),e()}finally{k(!1)}},he=(ve,G,ne,ge)=>{const Ie=Number(G.dogru||"0"),K=Number(G.yanlis||"0"),oe=Number(G.bos||"0"),ae=Ie+K+oe>ge;return p.jsxs("div",{className:"grid grid-cols-5 gap-1 items-end",children:[p.jsxs("div",{className:"col-span-2 text-[11px] text-gray-700 font-medium flex items-center justify-between",children:[p.jsx("span",{children:ve}),p.jsxs("span",{className:"text-[10px] text-gray-500",children:["Max ",ge]})]}),p.jsx("input",{value:G.dogru,onChange:fe=>ne({...G,dogru:jE(fe.target.value,ge)}),placeholder:"Doğru",className:"rounded border-gray-300 bg-white text-xs px-2 py-1"}),p.jsx("input",{value:G.yanlis,onChange:fe=>ne({...G,yanlis:jE(fe.target.value,ge)}),placeholder:"Yanlış",className:"rounded border-gray-300 bg-white text-xs px-2 py-1"}),p.jsx("input",{value:G.bos,onChange:fe=>ne({...G,bos:jE(fe.target.value,ge)}),placeholder:"Boş",className:"rounded border-gray-300 bg-white text-xs px-2 py-1"}),ae&&p.jsxs("div",{className:"col-span-5 text-[10px] text-rose-600",children:["Toplam (D+Y+B) ",ge,"'i aşamaz."]})]})};return p.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/30",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:r}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Deneme Adı"}),p.jsx("input",{value:a,onChange:ve=>o(ve.target.value),className:"w-full rounded border-gray-300 bg-white text-xs px-2 py-1",placeholder:"(opsiyonel)"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Yayın/Kurum"}),p.jsx("input",{value:c,onChange:ve=>d(ve.target.value),className:"w-full rounded border-gray-300 bg-white text-xs px-2 py-1",placeholder:"(opsiyonel)"})]})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-[11px] text-gray-600",children:"Yabancı Dil Türü"}),p.jsxs("select",{value:C,onChange:ve=>V(ve.target.value),className:"w-full rounded border-gray-300 bg-white text-xs px-2 py-1",children:[p.jsx("option",{value:"ingilizce",children:"İngilizce"}),p.jsx("option",{value:"almanca",children:"Almanca"}),p.jsx("option",{value:"fransizca",children:"Fransızca"}),p.jsx("option",{value:"italyanca",children:"İtalyanca"})]})]}),p.jsxs("div",{className:"space-y-1",children:[he("Türkçe",f,m,F.T),he("Matematik",g,v,F.M),he("Fen Bilimleri",x,A,F.F),he("T.C. İnkılap",E,S,F.I),he("Din Kültürü",P,O,F.D),he("Yabancı Dil",j,M,F.E)]}),p.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[p.jsxs("div",{className:"text-[11px] text-gray-600",children:["Toplam Net: ",p.jsx("span",{className:"font-semibold text-gray-900",children:$.toFixed(2)})]}),D&&p.jsx("div",{className:"text-[11px] text-rose-600",children:D})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[p.jsx("button",{onClick:e,className:"px-2 py-1 text-xs rounded border border-gray-300",children:"Vazgeç"}),p.jsx("button",{onClick:U,disabled:I,className:"px-2 py-1 text-xs rounded bg-emerald-600 text-white disabled:opacity-60",children:"Kaydet"})]})]})})},Ave=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),p.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Tve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"12",r:"6"}),p.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Y4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Sve=({className:t="h-4 w-4"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Ive=({className:t="h-4 w-4"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"3,6 5,6 21,6"}),p.jsx("path",{d:"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Nve=({user:t})=>{const[e,n]=w.useState([]),[r,i]=w.useState(!0),[a,o]=w.useState({isOpen:!1}),[c,d]=w.useState({isOpen:!1}),[f,m]=w.useState(null);w.useEffect(()=>{const O=ci(ja(jr,"exams"),zp("kullaniciId","==",t.uid),Ib("createdAt","desc")),j=Hc(O,M=>{const C=[];M.forEach(V=>{const I=V.data();C.push({id:V.id,kullaniciId:I.kullaniciId,createdAt:I.createdAt,ad:I.ad,yayin:I.yayin,turkce:I.turkce,matematik:I.matematik,fen:I.fen,inkilap:I.inkilap,din:I.din,ingilizce:I.ingilizce})}),n(C),i(!1)});return()=>j()},[t.uid]);const g=w.useMemo(()=>{if(e.length===0)return{totalExams:0,avgNet:0,bestNet:0,recentChange:0};const O=e.map(V=>[V.turkce,V.matematik,V.fen,V.inkilap,V.din,V.ingilizce].reduce((k,D)=>k+(D.dogru-D.yanlis/3),0)),j=O.reduce((V,I)=>V+I,0)/O.length,M=Math.max(...O);let C=0;if(O.length>=6){const V=O.slice(0,3).reduce((k,D)=>k+D,0)/3,I=O.slice(3,6).reduce((k,D)=>k+D,0)/3;C=V-I}return{totalExams:e.length,avgNet:Math.round(j*100)/100,bestNet:Math.round(M*100)/100,recentChange:Math.round(C*100)/100}},[e]),v=w.useMemo(()=>{if(e.length===0)return[];const O=["turkce","matematik","fen","inkilap","din","ingilizce"],j=["Türkçe","Matematik","Fen Bilimleri","T.C. İnkılap","Din Kültürü","İngilizce"];return O.map((M,C)=>{const V=e.map(B=>{const F=B[M];return F.dogru-F.yanlis/3}),I=V.reduce((B,F)=>B+F,0)/V.length,k=Math.max(...V),D=Math.min(...V);return{name:j[C],avgNet:Math.round(I*100)/100,bestNet:Math.round(k*100)/100,worstNet:Math.round(D*100)/100,color:C===0?"#3B82F6":C===1?"#10B981":C===2?"#F59E0B":C===3?"#EF4444":C===4?"#8B5CF6":"#06B6D4"}})},[e]),x=w.useMemo(()=>{if(e.length===0)return{trendData:[],publicationData:[]};const O=e.slice().reverse().map((C,V)=>{const I=[C.turkce,C.matematik,C.fen,C.inkilap,C.din,C.ingilizce].reduce((k,D)=>k+(D.dogru-D.yanlis/3),0);return{name:C.ad||`Deneme ${V+1}`,date:C.createdAt?C.createdAt.toDate().toLocaleDateString("tr-TR",{day:"2-digit",month:"short"}):"","Toplam Net":Math.round(I*100)/100,Türkçe:Math.round((C.turkce.dogru-C.turkce.yanlis/3)*100)/100,Matematik:Math.round((C.matematik.dogru-C.matematik.yanlis/3)*100)/100,Fen:Math.round((C.fen.dogru-C.fen.yanlis/3)*100)/100,İnkılap:Math.round((C.inkilap.dogru-C.inkilap.yanlis/3)*100)/100,Din:Math.round((C.din.dogru-C.din.yanlis/3)*100)/100,İngilizce:Math.round((C.ingilizce.dogru-C.ingilizce.yanlis/3)*100)/100}}),j={};e.forEach(C=>{const V=C.yayin||"Diğer",I=[C.turkce,C.matematik,C.fen,C.inkilap,C.din,C.ingilizce].reduce((k,D)=>k+(D.dogru-D.yanlis/3),0);j[V]||(j[V]={totalNet:0,count:0}),j[V].totalNet+=I,j[V].count+=1});const M=Object.keys(j).map(C=>({name:C,"Ortalama Net":Math.round(j[C].totalNet/j[C].count*100)/100}));return{trendData:O,publicationData:M}},[e]),A=async O=>{try{a.editData?(await rp(Ga(jr,"exams",a.editData.id),{...O,kullaniciId:t.uid}),m({message:"Deneme başarıyla güncellendi!",type:"success"})):(await e0(ja(jr,"exams"),{...O,kullaniciId:t.uid,createdAt:gt.now()}),m({message:"Deneme başarıyla eklendi!",type:"success"}))}catch{m({message:"İşlem sırasında hata oluştu.",type:"error"})}},E=O=>{d({isOpen:!0,id:O,message:"Bu deneme sonucunu silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})},S=async()=>{if(c.id){try{await kb(Ga(jr,"exams",c.id)),m({message:"Deneme başarıyla silindi!",type:"success"})}catch{m({message:"Deneme silinirken hata oluştu.",type:"error"})}d({isOpen:!1})}},P=O=>O?O.toDate().toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}):"";return r?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"LGS Deneme Takip Sistemi"}),p.jsx("p",{className:"text-gray-600",children:"Deneme sınavı sonuçlarını analiz et, zayıf konuları belirle ve LGS'ye hazırlan"})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("button",{onClick:()=>o({isOpen:!0}),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md",children:[p.jsx(Y4,{className:"h-4 w-4"}),"Deneme Sonucu Ekle"]})})]})}),p.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"LGS Hedef Durumun"}),p.jsx("p",{className:"text-indigo-100 mb-4",children:"Mevcut performansın ve hedefe olan mesafen"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:g.avgNet}),p.jsx("div",{className:"text-sm text-indigo-100",children:"Ortalama Net"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:g.bestNet}),p.jsx("div",{className:"text-sm text-indigo-100",children:"En İyi Net"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:g.totalExams}),p.jsx("div",{className:"text-sm text-indigo-100",children:"Çözülen Deneme"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:`text-3xl font-bold ${g.recentChange>=0?"text-green-300":"text-red-300"}`,children:[g.recentChange>=0?"+":"",g.recentChange]}),p.jsx("div",{className:"text-sm text-indigo-100",children:"Son 3 Değişim"})]})]})]}),p.jsx("div",{className:"hidden md:block",children:p.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:p.jsx(Tve,{className:"h-12 w-12 text-white"})})})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Net Puan Gelişimi"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Son denemelerdeki toplam net puanının değişimi"}),p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsxs("span",{className:`text-2xl font-bold ${g.recentChange>=0?"text-green-600":"text-red-600"}`,children:[g.recentChange>=0?"+":"",g.recentChange.toFixed(1),"%"]}),p.jsx("span",{className:"text-sm text-gray-500",children:"son 3 denemeye göre"})]})]}),p.jsx(Fa,{width:"100%",height:200,children:p.jsxs(K2,{data:x.trendData,children:[p.jsx(hl,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(ml,{dataKey:"name",fontSize:12,tick:{fill:"#64748b"},axisLine:!1,tickLine:!1}),p.jsx(pl,{fontSize:12,tick:{fill:"#64748b"},axisLine:!1,tickLine:!1}),p.jsx(za,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),p.jsx(vp,{type:"monotone",dataKey:"Toplam Net",stroke:"#3b82f6",strokeWidth:3,dot:!1,fill:"url(#colorGradient)"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Yayın Bazlı Performans"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Farklı yayınların denemelerindeki ortalama net puanların"}),p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsx("span",{className:"text-2xl font-bold text-gray-900",children:g.avgNet}),p.jsx("span",{className:"text-sm text-gray-500",children:"genel ortalama"})]})]}),p.jsx("div",{className:"space-y-3",children:x.publicationData.slice(0,5).map((O,j)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:O.name}),p.jsxs("div",{className:"flex items-center gap-3 flex-1 ml-4",children:[p.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(100,O["Ortalama Net"]/100*100)}%`}})}),p.jsx("span",{className:"text-sm font-semibold text-gray-900 w-8 text-right",children:O["Ortalama Net"]})]})]},O.name))})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-8",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Branş Bazlı Detaylı Analiz"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Her derste gösterdiğin performansın ayrıntılı incelemesi"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map((O,j)=>p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h4",{className:"font-semibold text-gray-900",children:O.name}),p.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:O.color}})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsx("span",{className:"text-gray-600",children:"Ortalama Net"}),p.jsx("span",{className:"font-semibold",children:O.avgNet})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{backgroundColor:O.color,width:`${Math.min(100,Math.abs(O.avgNet)/20*100)}%`}})})]}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[p.jsxs("span",{children:["En İyi: ",O.bestNet]}),p.jsxs("span",{children:["En Düşük: ",O.worstNet]})]}),p.jsx("div",{className:"pt-2 border-t border-gray-200",children:p.jsx("div",{className:"text-xs text-gray-600",children:O.avgNet>=15?p.jsx("span",{className:"text-green-600 font-medium",children:"🎯 Güçlü Alan"}):O.avgNet>=10?p.jsx("span",{className:"text-yellow-600 font-medium",children:"⚡ Gelişim Alanı"}):p.jsx("span",{className:"text-red-600 font-medium",children:"🔥 Odaklanma Gerekli"})})})]})]},O.name))})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:[p.jsxs("div",{className:"p-6 border-b border-gray-200",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Deneme Sonuçları Listesi"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Çözdüğün tüm denemelerin detaylı sonuçları"})]}),e.length===0?p.jsxs("div",{className:"p-12 text-center",children:[p.jsx(Ave,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz deneme sonucu eklenmemiş"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"İlk deneme sonucunuzu ekleyerek başlayın"}),p.jsxs("button",{onClick:()=>o({isOpen:!0}),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200",children:[p.jsx(Y4,{className:"h-4 w-4"}),"İlk Deneme Sonucunu Ekle"]})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"DENEME ADI"}),p.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TARİH"}),p.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"YAYIN"}),p.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TOPLAM NET"}),p.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PUAN TAHMİNİ"}),p.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((O,j)=>{const M=[O.turkce,O.matematik,O.fen,O.inkilap,O.din,O.ingilizce].reduce((C,V)=>C+(V.dogru-V.yanlis/3),0);return p.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:O.ad||`LGS Deneme Sınavı ${j+1}`}),O.yayin&&p.jsx("div",{className:"text-sm text-gray-500",children:O.yayin})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"text-sm text-gray-900",children:O.yayin||"Belirtilmemiş"})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"text-sm text-gray-900",children:P(O.createdAt)})}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.toFixed(2)})}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(M*5).toFixed(0)})}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>o({isOpen:!0,editData:O}),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Düzenle",children:p.jsx(Sve,{})}),p.jsx("button",{onClick:()=>E(O.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Sil",children:p.jsx(Ive,{})})]})})]},O.id)})})]})})]}),e.length>0&&p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Performans Isı Haritası"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Son 10 denemedeki branş bazlı performans görünümü"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("div",{className:"min-w-full",children:[p.jsxs("div",{className:"grid grid-cols-11 gap-2 mb-2",children:[p.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider"}),Array.from({length:10},(O,j)=>p.jsxs("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider text-center",children:["D",j+1]},j))]}),["Türkçe","Matematik","Fen Bilgisi","Sosyal Bilgiler","Din Kültürü","İngilizce"].map(O=>p.jsxs("div",{className:"grid grid-cols-11 gap-2 mb-2",children:[p.jsx("div",{className:"text-sm font-medium text-gray-700 py-2",children:O}),Array.from({length:10},(j,M)=>{const C=Math.random(),V=C>.7?"bg-blue-600":C>.4?"bg-blue-400":C>.2?"bg-blue-200":"bg-blue-100";return p.jsx("div",{className:`h-8 rounded ${V} transition-colors hover:opacity-80`,title:`${O} - Deneme ${M+1}: Net ${(C*20).toFixed(1)}`},M)})]},O)),p.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4",children:[p.jsx("span",{className:"text-xs text-gray-500",children:"Düşük Net"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-100 rounded"}),p.jsx("div",{className:"w-3 h-3 bg-blue-200 rounded"}),p.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded"}),p.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded"})]}),p.jsx("span",{className:"text-xs text-gray-500",children:"Yüksek Net"})]})]})})]})]}),p.jsx(Eve,{isOpen:a.isOpen,onClose:()=>o({isOpen:!1}),onSave:A,title:a.editData?"Deneme Düzenle":"Yeni Deneme Ekle",initialData:a.editData}),p.jsx(W2,{isOpen:c.isOpen,message:c.message||"",onConfirm:S,onCancel:()=>d({isOpen:!1})}),f&&p.jsx(wx,{message:f.message,type:f.type,onClose:()=>m(null)})]})},Q4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),p.jsx("polyline",{points:"22,6 12,13 2,6"})]}),Pve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"8",r:"7"}),p.jsx("polyline",{points:"8.21,13.89 7,23 12,20 17,23 15.79,13.88"})]}),Ove=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),p.jsx("polyline",{points:"17 6 23 6 23 12"})]}),X4=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"12",r:"6"}),p.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Rve=({className:t="h-5 w-5"})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:t,children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),kve=({user:t})=>{var E;const[e,n]=w.useState([]),[r,i]=w.useState(!0),[a,o]=w.useState(null),[c,d]=w.useState("overview");w.useEffect(()=>{const S=ci(ja(jr,"testSonuclari"),zp("kullaniciId","==",t.uid)),P=Hc(S,O=>{const j=[];O.forEach(M=>{const C=M.data();j.push({id:M.id,dersAdi:C.dersAdi,dogruSayisi:C.dogruSayisi,yanlisSayisi:C.yanlisSayisi,bosSayisi:C.bosSayisi||0,kullaniciId:C.kullaniciId,kullaniciEmail:C.kullaniciEmail,createdAt:C.createdAt,topics:C.topics||[]})}),n(j),i(!1)});return()=>P()},[t.uid]);const f=w.useMemo(()=>{if(e.length===0)return{totalTests:0,totalQuestions:0,totalCorrect:0,totalWrong:0,avgScore:0,bestScore:0,recentTests:0};const S=e.reduce((D,B)=>D+B.dogruSayisi+B.yanlisSayisi+B.bosSayisi,0),P=e.reduce((D,B)=>D+B.dogruSayisi,0),O=e.reduce((D,B)=>D+B.yanlisSayisi,0),j=e.map(D=>{const B=D.dogruSayisi+D.yanlisSayisi+D.bosSayisi,F=D.dogruSayisi-D.yanlisSayisi/4;return B>0?Math.max(0,F)/B*100:0}),M=j.reduce((D,B)=>D+B,0)/j.length,C=Math.max(...j),V=new Date,I=new Date(V.getTime()-10080*60*1e3),k=e.filter(D=>D.createdAt?D.createdAt.toDate()>=I:!1).length;return{totalTests:e.length,totalQuestions:S,totalCorrect:P,totalWrong:O,avgScore:Math.round(M),bestScore:Math.round(C),recentTests:k}},[e]),m=w.useMemo(()=>{const S={};return e.forEach(P=>{S[P.dersAdi]||(S[P.dersAdi]={correct:0,wrong:0,total:0}),S[P.dersAdi].correct+=P.dogruSayisi,S[P.dersAdi].wrong+=P.yanlisSayisi,S[P.dersAdi].total+=P.dogruSayisi+P.yanlisSayisi+P.bosSayisi}),Object.keys(S).map(P=>({name:P,correct:S[P].correct,wrong:S[P].wrong,percentage:S[P].total>0?Math.round(S[P].correct/S[P].total*100):0})).sort((P,O)=>O.percentage-P.percentage)},[e]),g=w.useMemo(()=>{const S={},P=new Date;for(let O=5;O>=0;O--){const M=new Date(P.getFullYear(),P.getMonth()-O,1).toLocaleDateString("tr-TR",{month:"short",year:"numeric"});S[M]=0}return e.forEach(O=>{if(O.createdAt){const M=O.createdAt.toDate().toLocaleDateString("tr-TR",{month:"short",year:"numeric"});S[M]!==void 0&&S[M]++}}),Object.keys(S).map(O=>({name:O,tests:S[O]}))},[e]),v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],x=S=>S.split("@")[0].slice(0,2).toUpperCase(),A=()=>t.metadata.creationTime?new Date(t.metadata.creationTime).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}):"Bilinmiyor";return r?p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[p.jsx(gl,{user:t,onLogout:()=>Vs(Br)}),p.jsxs("main",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Profilim"}),p.jsx("p",{className:"text-slate-600",children:"Hesap bilgilerin ve performans özetin"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[p.jsx("div",{className:"lg:col-span-1",children:p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-3xl font-bold mb-4",children:x(t.email||"")}),p.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-1",children:(E=t.email)==null?void 0:E.split("@")[0]}),p.jsx("p",{className:"text-sm text-slate-600 mb-2",children:t.email}),p.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"✓ Aktif Öğrenci"})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 space-y-3",children:[p.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[p.jsx(Rve,{className:"h-4 w-4 mr-3 text-slate-400"}),p.jsxs("span",{children:["Üyelik: ",A()]})]}),p.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[p.jsx(Q4,{className:"h-4 w-4 mr-3 text-slate-400"}),p.jsx("span",{children:t.emailVerified?"Email Doğrulandı":"Email Doğrulanmadı"})]})]})]})}),p.jsxs("div",{className:"lg:col-span-2",children:[p.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-4",children:"Performans Özeti"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:f.totalTests}),p.jsx("div",{className:"text-sm text-blue-100",children:"Toplam Test"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-3xl font-bold",children:[f.avgScore,"%"]}),p.jsx("div",{className:"text-sm text-blue-100",children:"Ortalama"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-3xl font-bold",children:[f.bestScore,"%"]}),p.jsx("div",{className:"text-sm text-blue-100",children:"En İyi"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold",children:f.recentTests}),p.jsx("div",{className:"text-sm text-blue-100",children:"Son 7 Gün"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:p.jsx(X4,{className:"h-5 w-5 text-green-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Toplam Soru"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:f.totalQuestions})]})]})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx(Ove,{className:"h-5 w-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Doğru"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:f.totalCorrect})]})]})}),p.jsx("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:p.jsx(Pve,{className:"h-5 w-5 text-red-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Yanlış"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900",children:f.totalWrong})]})]})})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Branş Performansı"}),m.length>0?p.jsx("div",{className:"space-y-3",children:m.map((S,P)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700",children:S.name}),p.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[S.percentage,"%"]})]}),p.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{backgroundColor:v[P%v.length],width:`${S.percentage}%`}})}),p.jsxs("div",{className:"flex items-center justify-between mt-1",children:[p.jsxs("span",{className:"text-xs text-slate-500",children:["Doğru: ",S.correct]}),p.jsxs("span",{className:"text-xs text-slate-500",children:["Yanlış: ",S.wrong]})]})]},S.name))}):p.jsx("div",{className:"text-center py-8 text-slate-500",children:p.jsx("p",{children:"Henüz test sonucu bulunmuyor"})})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Aylık Aktivite"}),g.length>0?p.jsx(Fa,{width:"100%",height:250,children:p.jsxs(H2,{data:g,children:[p.jsx(hl,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(ml,{dataKey:"name",fontSize:12}),p.jsx(pl,{fontSize:12}),p.jsx(za,{}),p.jsx(_x,{dataKey:"tests",fill:"#3b82f6",radius:[8,8,0,0]})]})}):p.jsx("div",{className:"text-center py-8 text-slate-500",children:p.jsx("p",{children:"Henüz aktivite bulunmuyor"})})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Hesap Ayarları"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-lg",children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Q4,{className:"h-5 w-5 text-slate-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-slate-900",children:"Email Adresi"}),p.jsx("p",{className:"text-sm text-slate-600",children:t.email})]})]})})}),p.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:p.jsx(X4,{className:"h-5 w-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"LGS Hedefin"}),p.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["Şu ana kadar ",f.totalTests," test çözdün ve ortalama %",f.avgScore," başarı oranına ulaştın. Hedefine ulaşmak için düzenli çalışmaya devam et!"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-xs font-medium text-blue-800",children:["Mevcut: %",f.avgScore]}),p.jsx("span",{className:"text-xs text-blue-600",children:"→"}),p.jsx("span",{className:"text-xs font-medium text-blue-800",children:"Hedef: %100"})]})]})]})})]})]})]}),a&&p.jsx(wx,{message:a.message,type:a.type,onClose:()=>o(null)})]})},Cve=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(null),[i,a]=w.useState(null),o=async()=>{if(Br.currentUser){e(!0),r(null),a(null);try{await RT(Br.currentUser),r("Doğrulama e-postası gönderildi. Lütfen e-postanızı kontrol edin.")}catch{a("Doğrulama e-postası gönderilemedi. Daha sonra tekrar deneyin.")}finally{e(!1)}}},c=async()=>{await Vs(Br)};return p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:p.jsxs("div",{className:"bg-white shadow rounded-lg p-8 w-full max-w-md text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"E-postanızı Doğrulayın"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Devam etmek için e-posta adresinizi doğrulamanız gerekiyor."}),n&&p.jsx("p",{className:"text-green-700 mb-4",children:n}),i&&p.jsx("p",{className:"text-red-600 mb-4",children:i}),p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsx("button",{onClick:o,disabled:t,className:"bg-green-700 hover:bg-green-800 text-white font-semibold py-2 px-4 rounded disabled:bg-green-400 flex items-center justify-center min-w-[140px]",children:t?p.jsx($p,{}):"Doğrulama Mailini Yeniden Gönder"}),p.jsx("button",{onClick:c,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded",children:"Çıkış Yap"})]})]})})},jve=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0),[i,a]=w.useState(()=>(window.location.hash||"#dashboard").slice(1));w.useEffect(()=>{const c=SK(Br,d=>{e(d),r(!1)});return()=>c()},[]),w.useEffect(()=>{const c=()=>a((window.location.hash||"#dashboard").slice(1));return window.addEventListener("hashchange",c),()=>window.removeEventListener("hashchange",c)},[]);const o=()=>n?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:p.jsx($p,{})}):t?t.emailVerified?i==="mistakes"?p.jsx("div",{className:"min-h-screen bg-gray-100",children:p.jsx(wve,{user:t})}):i==="exams"?p.jsx("div",{className:"min-h-screen bg-gray-100",children:p.jsx(Nve,{user:t})}):i==="profile"?p.jsx("div",{className:"min-h-screen bg-gray-100",children:p.jsx(kve,{user:t})}):p.jsx("div",{className:"min-h-screen bg-gray-100",children:p.jsx(yve,{user:t})}):p.jsx(Cve,{}):p.jsx(bZ,{});return p.jsx("div",{className:"min-h-screen",children:o()})},A8=document.getElementById("root");if(!A8)throw new Error("Could not find root element to mount to");const Dve=l$.createRoot(A8);Dve.render(p.jsx(Z4.StrictMode,{children:p.jsx(jve,{})}));
